< < "ð˜›‹" @ "" . KeeP_dUPlIcAtes    > >   SAVEPOInT TIMeZONe_MiNUTe  ( dEFAuLT  as :á„¦9     , "" @ :8    =>  not eXISTS  ï¼ˆ SEleCT ALl "ð—Ÿ‹"  =>  not tRiM ï¼ˆ leADiNg From  CUrReNT OF  "â¿³" @ :9   ( aLl ï¼‰   .  *        )  aT time zonE TREat ( *   >  *     ANd NOt cOnnEcT_BY_rOoT â¨±   MulTISEt inTERsEcT  - â¨± at LocAL       +  caST ï¼ˆ â¨± aS PRoCEdUre   ï¼ˆ + )  rAnGe â¨± ..  â¨±    ï¼‰  at locAl     ** + â¨±       lIKe4  xmLAGG ï¼ˆ â¨± )  AT lOCAl     ** xmlCAST ( MULTiSet ï¼ˆ wItH "" @ â³‘    .  CURreNt_UsER    ( PCtVErsION  @ "ð¢³" @ "ð«š"   ï¼ˆ DiSTinCT ï¼‰    , #ï¯˜  ï¼ˆ "ðª«”" @ "á‰" . optiMAL   ( â¨± )   =>  deFAuLt   ï¼Œ DEfaULT    ï¼‰   ï¼ˆ + )   ï¼‰  aS ( wIth :50  @ ""   .  "ð—ˆ“"   aS ( â¨± ï¼‰  seArch bREAdTH First BY â¨±  ï¼Œ â¨± nulLS lASt    set "â”²"  .  :7  @ tyPe       cycLe "ð¦„Ž" @ MaTEriaLizED  . #7    ï¼ˆ + )   sET :#  @ "" @ ""     to 0x    defAUlT .3f      ï¼Œ "ðªž”"  .  REname    ( :45  ï¼ˆ ï¼‰     )  As ( â¨± )    SElECT aLL â¨± "á‚¤"    , "" @ "ð©¯†" @ "ðž¹¡"  ï¼ˆ DIsTInCT )   =>  â¨±    iNto "ð—œ´"     FROm NexT  @ "" . lOGon     paRTitIon ( :â²¦   .  "âº¦" @ lANguAGe   ( unIQuE dEFAULT   , â¨± aS ""     ï¼‰   ( + ï¼‰  )  samPlE BLocK ï¼ˆ â¨± )  Seed ï¼ˆ â¨± )    VerSIonS perIOd fOR :_  @ :20  . ""   ( ALl ï¼‰   ï¼ˆ + )  BetweEN  *   and *      AlLOcAte  @ :1      pArtItion by ( NoreverSe  ( UNIQUE â¨± ï¼‰   =>  DefAUlT  "ð‘…‚" @ "ð—Š·" @ FaLsE       )  fULL  JoIN  Json_tablE ( â¨± cOLUmNs ( :#_   .  "ð¥µ" @ sTAtiSTIcs  @ ""    exiStS Path FALSE      )  ï¼‰  aS LOW      On â¨±    , xmltabLE ( dAte 'ð ²'   coLumnS â¨± LOnG    pATH u''''   dEfaULt â¨±   )  piVOT xML ï¼ˆ dEFaulT    fOr ( :73  ï¼ˆ "ð§•" @ ""  ( ï¼‰   =>  â¨± AS "ð¡—Ž" @ "" . Û¥       ï¼‰     ï¼‰    IN ï¼ˆ â¨± ï¼‰   ï¼‰    AS OF PeRIod fOr BAsICfilE  @ eRROr_CoDe    ( )    â¨±      PArtitioN By ï¼ˆ â¨± "" @ :4  @ "àº«"      )  CRosS JOiN  ( ï¼ˆ â¨± )     ï¼‰ UnPivOt INclude nullS ï¼ˆ ï¼ˆ ""  ( + ï¼‰   ï¼‰   FoR "" @ "ê’¸" . noRowdEpENdeNcIES   ï¼ˆ DiSTInct :43  @ ""   =>  deFaulT   ï¼Œ :6   =>  defaUlT    )      in ï¼ˆ "" ( uNIqUe dEfAUlT  InClude     , â¨± As "" @ ï®½  . "ð®›‰"      )     as $.6     ï¼Œ ""  .  *  ( + )    )   )        UNpIVOt eXcLudE nulls ( NOtFoUnD  @ Î©   ï¼ˆ DIsTINCt ï¼‰   .  *  ( + ï¼‰   FOr ï¼ˆ "" @ "ð©­ª"     ï¼‰    IN ( MIn  ï¼ˆ :4  ( ï¼‰   =>  â¨±  , "" @ "" @ SesSiON    =>  â¨±   ï¼‰   ( uNiqUE :7  ( ï¼‰   =>  deFAuLt  as BUfFer_PoOL      )     aS ï¼ˆ Q'!!'   ï¼Œ daTE ''   ï¼‰     , ï¼ˆ "Ü‡" @ ""   ( + ï¼‰  , :#   ( diStinCT DeFaULt  ""     ï¼‰   ( + ï¼‰   ï¼‰    )   ï¼‰      GRoUP by ï¼ˆ ( â¨±   , ï¼ˆ â¨± ï¼Œ â¨± ï¼‰   )   , gRoUpINg seTs ( ï¼ˆ ï¼‰    ï¼‰    ï¼‰   ï¼Œ ( )       hAVInG â¨±    mINuS  ï¼ˆ â¨± ï¼‰  WiTH reaD onLy    )  CycLe sTOragE  @ arcHIVE   ï¼ˆ ï¼‰   .  Õ¤   ï¼ˆ + )  , "" @ :_  @ "ð­œ±"  ( dISTincT )     sEt :71  @ OUt    .  "â®"    to ''    deFaUlt tiMEsTaMp ''       ( WItH "ð†š" @ "ð‘…”" . "ð¥”"   .  iNSTance  @ ""    aS ( â¨± ï¼‰  sEArch dePTh FiRST By â¨± ASC    SEt :#   .  "ð£ˆ¢" @ :4  . indEXIng        , BefORe   .  diRecT_LOad    ï¼ˆ "" @ :27  . ""  ï¼ˆ ""  =>  dEfaULT    ï¼‰   .  *   , ï°®Ïˆ  @ "ï¾²" . nEStEd    ( + )   ï¼‰  aS ( â¨± )  CYCLE "á¨ƒ" @ :34  @ á ™   ( DefAuLT    ï¼‰   ï¼ˆ uNiquE â¨± "" @ datAfILe  @ "ðª½ˆ"     , "ð§¹¿"  =>  â¨± aS "ðŸ¢¡" @ "" . whEn       ï¼‰   ï¼ˆ + )   set :60   .  :#     tO inTeRVal '''' HOuR ï¼ˆ 0X   )      DEfAUlT 5      ï¼ˆ â¨± )  uNiON aLl  SELect â¨±  ï¼Œ tempLaTe  ï¼ˆ ï¼‰   =>  â¨±    fROM xmlTAblE ï¼ˆ TIMeStAMP ''''    ï¼‰   PArtItiON by ( dEFauLT  As "" @ ""     ï¼Œ :_Ú¯   =>  DeFAUlt    ï¼‰    ï¼Œ taBLE ï¼ˆ â¨± ï¼‰  versiOns BETwEeN TIMesTAMP  â¨±   mOd  â¨±  ** â¨± MUlTiSEt EXCept all  â¨±      aNd *     UnpIvot ( ( "ð¡Œ­" @ Day   ï¼ˆ ALl )     ï¼‰   fOR COMpACT  @ "ð¦±"   ï¼ˆ ALl dEFAUlt  :74     ï¼Œ â¨± As "" @ eXtENt       )   ( + ï¼‰    In ï¼ˆ ï¼ˆ "" ( ï¼‰     ï¼‰    ï¼‰   ï¼‰      NATUral jOin  ï¼ˆ ï¼ˆ â¨± ï¼‰   PartItION By ï¼ˆ ã„¡9   =>  â¨±   ï¼‰  crOSs JOIn  â¨±  pIVOT ( DeFAUlT    foR ( "" @ ""  ï¼ˆ pRimaRy  @ :5  @ ""   =>  â¨± "" @ "" @ :#á‰±      , ""  =>  â¨±   ï¼‰    ï¼Œ DOUbLE  @ "ð¨™—"  ï¼ˆ All ï¼‰   .  "" ï¼ˆ )   ( + ï¼‰   )    IN ( AnY   ï¼‰   ï¼‰     ) ediTiOnaBLE     PARTITiON bY ï¼ˆ dEFAult  ""     ï¼‰    UNpivot iNCLUdE NUlls ( :38  @ staTiStICS   ( alL â¨±   ï¼‰   ( "ð­¹Ÿ" @ :Ç    =>  DEfAUlT  AS "" @ "ð˜¨²"     ï¼Œ â¨± :99      ï¼‰     FoR ï¼ˆ oVeRLaPS  ( unIque ï¼‰   ï¼ˆ + ï¼‰  , "Îº"    )    iN ï¼ˆ ï¼ˆ "ð¥¤¶" @ INDicATOr    .  "ð””" ( dEFaUlT   ï¼Œ :41  ï¼ˆ AlL â¨± )   =>  â¨± aS When      )   ( + ï¼‰   ï¼‰   aS ( u'áŒ'   ï¼‰     )   ï¼‰      wheRE â¨±  coNnECT BY nOcYCLE â¨±  starT WiTH â¨±    oRDEr By â¨± AsC   , â¨± nULls FIrst     FOr updaTE SkiP locKed    )  fOR upDATe OF  :45    , "ð¬†€" @ "" . BegiNNing   ï¼ˆ UNIQue )   .  deBuG  @ "ð¡ ®"   ( + )   nowAIt   wITH ChECK optiON  cOnStRAiNT _  @ bASicfIlE  . ""  ( dISTIncT ï¼‰      ï¼‰  As CHAr ï¼ˆ â¨± BYTE )    CharacTER SET â¨±    ï¼‰      -  connECt_bY_roOt â¨±    ** DecOde ï¼ˆ â¨± )  AT tIme zONE DBtIMeZONe            oR ( ""  =>  DeFAUlT   ï¼Œ "" @ "ð‘ »" @ ""   =>  dEfAULT    ï¼‰  OverlapS ï¼ˆ "" ( â¨± )   =>  DeFaULT  :Ñ¾Ý  @ "ð¦"     ï¼Œ â¨± aS "" @ :_4  @ "ðª¤´"      ï¼‰      aNd NOT xmlqUery ï¼ˆ *   PasSING â¨± mulTIset iNTErSect dISTINcT  â¨±   *  â¨±        ReTuRniNG CONTeNT )    mUltiseT except  EXtraCt ï¼ˆ TimezoNe_regiON FrOm dATE  â¨±  ï¼‰  At tIMe ZOnE sesSIoNTImEzonE              AS mUlTISet   .  "" @ _â²¾  @ ""     ï¼‰       mUlTisET uNIoN DisTInct  decoDE ( *   is empTy     anD NOt PeRcENTiLE_DIsc  @ :30    ( All )   ( + )  wiTHin GRoup ( orDeR By â¨±  , â¨± DEsC  NUlls FIrsT     ï¼‰  OVEr ï¼ˆ ï¼‰   aT TiMe Zone dBTiMEzoNe    muLTiSEt iNteRsecT  ( sElEcT â¨±  ï¼Œ á¸§8  ï¼ˆ â¨± )   =>  DEfaULt     into "ðŸ¿" @ "á¯†" @ cyclE    ï¼ˆ + ï¼‰  , baTCh  ï¼ˆ )   .  *     From "ó †°" @ :2    .  :6     fULL oUTer  join  ï¼ˆ XMLtAbLE ï¼ˆ XmlnaMeSPaCEs ( pRECEdiNG  @ "ð¥£˜"  ï¼ˆ dIsTiNCt )   =>  â¨± EXCEpT     ï¼Œ â¨± aS "" @ :38       dEfauLT Q'\ðŸœ³\'   ï¼‰  , nQ'[â³¢]'   PASsiNg "ð§¯†" ï¼ˆ â¨± ï¼‰   =>  dEfAULT   , deFAUlt     ColumNS â¨± FOr OrdiNalItY  , â¨± Time ( )   wItH ï¼ˆ unique )   LoCal  TimE ï¼ˆ ALl â¨± nAmE     ï¼Œ à¼˜  @ "ðª™¥"   =>  dEfauLt    )   zOne   % TYPE      ï¼‰  PIvoT XML ï¼ˆ DEfAUlt  As "á°‚" @ ï®ª×‚  . BreadtH      ï¼Œ â¨± ArChiVE  @ ArRaY  . "ð¢¥ž"      For ""  ï¼ˆ â¨±  , :51  ( diSTinCt â¨± ï¼‰   =>  DeFAulT  As "" @ ""      )      in ( ( â¨± )   ï¼‰   ï¼‰      pArTITiON By ( â¨±   ï¼‰   PivoT ï¼ˆ "ðª¤®" @ "" @ :9   ( ï¼‰   =>  deFauLt    foR ï¼ˆ ""  .  *  ( + ï¼‰  , "" @ "ð¨±" . "à®¯"     ï¼‰    iN ( Select deFAuLT  aS "ð¢¤…"    , :#  ï¼ˆ distInCT )   =>  â¨±    BulK CoLlEcT iNto ddl  @ :Ñ«7    ï¼ˆ unusED  ( ï¼‰   =>  â¨± "ð­“­" @ "ð­¶±"      )      fRoM tABLe ( â¨± ï¼‰  AS oF scn  "â¡µ" @ #    =>  â¨± As suSpenD     ï¼Œ :3   =>  DEFaUlT  aS aSSociATE        PIVOt ï¼ˆ defAUlT   , DEFAULT    for "" @ "ð§º£" @ zONE   ( â¨± :9  @ ""      )   ( All _  @ RecycLe  . :76    =>  â¨±  ï¼Œ pROCEdURE  ( dISTINct ï¼‰   =>  â¨±   ï¼‰   ( + ï¼‰    IN ( ï¼ˆ DEFaulT  As "ð­§—" @ CoMPuTE       ï¼‰    , â¨±  ""    ï¼‰   )      iNNEr jOIN  â¨±  uNpIVoT iNclUde nULLs ï¼ˆ "" @ :87  . :Ü¤3    .  "" ï¼ˆ ï¼‰   ( + )   foR ï¼ˆ "ðŸ–" ï¼ˆ uNIQUE â¨±  , ""  =>  DEfAult  as rELy      ï¼‰   ( )     )    In ï¼ˆ sUBtype  @ ""   .  *    AS iNTErvaL 'ð¥˜ƒ' dAY  To yEaR       ï¼‰   ï¼‰      WhERe â¨±  sTART WiTh â¨±  CONNECT by â¨±  hAvING â¨±    MiNUS  ( â¨± ï¼‰  FOR UpDaTE  oRdEr siBlIngs BY â¨± NULLS FIRsT   , â¨± DeSc     wIth rEAD oNLy    )   )     ï¼‰ VERsiOnS BETwEen scN  xMLaGG ( â¨± oRder BY â¨± Desc  NUllS LAsT   , â¨±    ï¼‰  At LOcaL     ** CURsOR ï¼ˆ ( â¨± )  InTErSEcT  SelECt "É¢" @ "ð¦£—" @ ""  ( unIQUE â¨± ï¼‰   =>  DEfAUlt   ï¼Œ â·#  ( â¨± ï¼‰   =>  â¨± "" @ "" @ :à¼¹        fROm jSon_tABle ï¼ˆ â¨± forMaT jSoN , erroR     COLumNs ï¼ˆ NEsteD :59  @ unLImiteD  . ""     colUmNS ï¼ˆ "ð¥˜§"  .  "ð˜™…"   tRUNcAtE foRmat jSON PATh FOllOwINg  @ :58  . :3    .  IdenTITy       , :_3    FOR oRdiNality   ï¼‰    )  ï¼‰  piVot Xml ( â¨± "ð¨«²" @ "" . "ð¤‹"     ï¼Œ DEFaUlT    fOr "" @ :3  @ "ð—•œ"      In ( aNY   ï¼‰   ï¼‰      partITIoN By ( LiST  ï¼ˆ aLl )   =>  â¨±  , DEfauLT  AS "ð¦©º" @ "ð¬¯¯"      )     cOnNEcT By â¨±  GRouP By ï¼ˆ CUbE ( ( â¨± ï¼Œ â¨± )    )    )   ï¼Œ ROllup ( â¨±   )       hAVing â¨±    ORdeR By â¨± asc  nuLLs lAsT   , â¨± aSC     For upDaTE oF  CoUNt  @ erRoR_inDex  @ ""   ( + )  ï¼Œ vALUE  @ :ã‡‚   ï¼ˆ â¨± AS :70      ï¼‰   .  *  ( + ï¼‰     ï¼‰   MUlTiSET EXCEpT All  ?  aT tImE ZOnE SeSsIONtIMeZOnE       +  syS_coNNECt_by_paTh ï¼ˆ ALl ï¼‰         AND *     PivOT ï¼ˆ â¨±   fOR "" ï¼ˆ ""  =>  DEfault  "ð¡ƒ¶" @ MappiNG      ï¼Œ _  @ ""   =>  defaULt    )   ( + ï¼‰    In ( any   , â¨±   )   )      NatURAl FULL  joIn  XMltAbLE ï¼ˆ xMLnameSPACes ï¼ˆ )  , .2e-2d   PAssIng _  ( all â¨± )   =>  â¨± At     , deFaulT     colUMNs â¨± dOuBle PRecISion ( )    pATH 0X6   dEfaUlt â¨±   )   pARtItIon bY ( deFaUlT   , "" @ "ð—‡¼"   =>  â¨± As "" @ "ð¦·" @ :3       ï¼‰  jOiN  â¨±   oN â¨±   UNpivot ï¼ˆ ( DupLIcaTed  ï¼ˆ UnIQUE ï¼‰   ï¼ˆ + ï¼‰   ï¼‰   fOr "ðŸ—š" @ á…¦   ( ï¼‰      IN ( ( "ð ‡¯" @ COUNt  @ ""   ( uNiQue ï¼‰    ï¼Œ CompAct   .  "ð§‡«" ï¼ˆ distiNct DEFAuLT  :3  @ ""      )   ï¼ˆ + )   )    )   )     , ""   SamPle bLOCk ï¼ˆ â¨± ï¼‰  SEeD ï¼ˆ â¨± ï¼‰    AS "ð¡Š—" @ LEveLs  @ :85         WHErE â¨±  HAviNG â¨±  GROup By ( ( â¨±   )   ï¼‰        FOR UPdATE of  COMpaCT  @ "" @ :ï»µà¸     ï¼Œ :_ï²±     SKiP LOcKEd   oRDER SIBLinGS bY â¨±  , â¨± deSc  NuLLS fiRSt      )    ** trAnSLaTe ( â¨± USinG Char_cS ï¼‰   mulTIset INteRseCT  PRiOr "ð—¶®" @ PCTvErSion  . "ð¥´‰"  ( )   ( :88   =>  defAult   ï¼Œ â¨± coLLeCt      ï¼‰   ( + ï¼‰  KeEP ( DEnSe_RAnk LAst ORder SiBLInGs bY â¨±  , â¨± AsC  nULLS LaST     )   at Local     AT TimE zOnE xMLqUEry ( *   pAssiNG bY VaLue â¨±  ** â¨± MULtiSEt UNION  â¨±   /  â¨±      As "" ï¼ˆ DiStINct â¨± aS coMMitted      ï¼‰   ï¼ˆ + ï¼‰    reTURNIng coNtEnt ï¼‰          -  FAlSE    mUltISEt iNTERseCt ALL  CasT ï¼ˆ MUlTIseT ( WitH "" @ ""    As ( WIth ""  .  _  @ tImezONE_AbBr     As ï¼ˆ â¨± )  search BrEADTH FIrST bY â¨± NuLLs last    seT ROwiD  @ "ð¥¤´" . :4         ï¼ˆ â¨± ï¼‰  uniOn  SeLeCT All "ð¤ŠŒ" @ "ð¤‰‚" @ ""  ï¼ˆ all )   =>  DeFAult   , á¼»á„¹  @ NoMApping  . "êšš"   =>  â¨±    BulK cOlLect into :#ï±ª  @ "ð¬©œ"  ( "ð—‘"  =>  DEfAULt  AS :23     ï¼Œ â¨±   )   .  EDITiON  @ rOwCoUnT  @ :35   ( â¨± "" @ CycLe       )    ï¼Œ "ð¨¢–"     frOM The ( â¨± ï¼‰   PArtiTiOn BY ï¼ˆ "ðŸˆ‚" @ FINal  @ "ð ¥"  ( AlL â¨± )   =>  DEfaUlt    )  CrOSS jOIn  ï¼ˆ â¨± )  unPIvOt EXCludE nULLs ( ï¼ˆ Ñ¤4   ( + )  , extRaCT     )   for ï¼ˆ "" @ ""   ( + )  , :60  @ "" . :_   ( uNiQuE ï¼‰   ï¼ˆ )   ï¼ˆ + ï¼‰   ï¼‰    iN ï¼ˆ ""  ï¼ˆ ï¼‰      )   ï¼‰    As Of PEriOd foR "ð©…˜" ï¼ˆ All "" @ basIcFiLe  . :2   ( â¨± )   =>  â¨±   ï¼‰    bETWEEN          STarT WITH â¨±  coNnEcT BY NOcYcle â¨±     )  SEARCh dEPth FIRST By â¨±  ï¼Œ â¨± Nulls fiRST    SEt "ð »¤"      ï¼Œ jOIN   .  "" @ à´¿     ( :5  ï¼ˆ UNiquE )   ( )   ï¼ˆ + ï¼‰   )  as ( wITh :7    ï¼ˆ zoNe  @ "ð¥©²"   .  *  ( + )  ï¼Œ CEll_FlAsH_cACHE  @ "" . StateMENt   ( distInCt "êš”"  =>  defaULT  "" @ :_  . ""     ï¼Œ â¨±   ï¼‰     )  as ï¼ˆ â¨± ï¼‰  seARcH DeptH fIRSt BY â¨± dEsC   , â¨± DEsC    sET ""       ï¼ˆ â¨± )  InTerSECt  SeLeCt alL dEfauLt  :1  @ SCoPE  . ""       InTO TABlEspACe  @ ""      fRoM jsON_tAbLE ( â¨± , inTERVal '''' MONTh ï¼ˆ n''   ï¼Œ INteRVAl 'ð£³' YeAr ï¼ˆ FALsE   ï¼‰   tO year    )      cOlUmNS ï¼ˆ _á¥°   .  "" @ "ð§º€" . "ð¨®¡"    ( fAlsE  ï¼Œ TRuE  ï¼‰  TrUNCAte Path ''    ErroR oN  EMpTy    , ""   opaquE fiXED ( ï¼‰  usINg LibraRY MerGE  ï¼ˆ AlL )   ï¼ˆ dIStincT "ð‹¤" @ :à¶°   ï¼ˆ â¨± )   =>  dEFAUlt    )   ( + )    EXIStS TrUe on  eMPtY    ï¼‰  ï¼‰  As of SCn  â¨± As :96  @ "ð®®‡"          pARtitiOn By ( ""  =>  â¨±  , DeFAuLt  ÚŠ8      )  FULL oUTEr  JOiN  "ð£“¡" @ mETadatA      nAtUrAL iNner joiN  ( â¨± )  BuLk_roWcoUNt     PartItiOn By ( "" @ baSICFilE  @ :92   ï¼ˆ UNIQUe ï¼‰   =>  dEfAUlT  As "ð¦¿" @ "ð—¯" . ""      )    uSing ï¼ˆ ""  ï¼ˆ + )  , alLOCatE  ï¼ˆ UnIQue :2  @ "ð¨‡¸" . "á†»"  ( dIStinCT ï¼‰   =>  DEfAUlT    ï¼‰    )    , JsoN_TaBLE ( â¨± COlUMNs ( ""  .  chAr_cs  @ "" . :#     FOR oRdInAliTy   )  ï¼‰  PiVOt XMl ( â¨±  ï¼Œ AlLOCATE  @ ""   =>  â¨±   fOr ï¼ˆ ""  ï¼ˆ â¨± As :7  @ #       )   ï¼ˆ + ï¼‰  ï¼Œ sUbmUlTISet  @ :3    ( + )   ï¼‰    iN ( â¨± ï¼‰   )    vERsIoNs PeRiOD for "ð®—š" ï¼ˆ DefaULt  aS "ð¨Š˜"     )   .  "ð˜‰¢"   â¨±  nEW "" @ "â®" @ ""  ï¼ˆ )     AT tImE zonE DBtIMeZOnE         And *        UNPIVOt EXcLUde NulLS ï¼ˆ Å°   ï¼ˆ + )   FoR PArAmETers  @ soME   ( "" ( uniQUe ï¼‰   =>  â¨±  ï¼Œ dEfAUlT  aS :9  @ eXpIRE       )      In ( ( :6  @ "" . InTErFacE    .  :9   ( + )   )   as ï¼ˆ daTE 'ð«½ª'   , TiMesTamp ''   )     ï¼‰   ï¼‰      WHEre â¨±  CONNEct BY NOCYCLe â¨±  HAViNG â¨±  grOuP bY ï¼ˆ ï¼‰    , ( grOUpInG SeTS ï¼ˆ ( â¨± , â¨± )    ï¼‰    ï¼‰        wItH CHeCk OptION  conSTrAint "à¤¢" @ EdITIONaBLe   ( ï¼‰      )  cYCLE :áŽŠ  @ "ð¯¨„"   ( aLl ï¼‰     sET :_à´’     To 1.4e3F    dEfAUlT .9      ï¼ˆ SElEct UNiqUE deFAUlT  "ð¦‡Ÿ"    , "ð¨²¹" ï¼ˆ all â¨± )   =>  â¨±    bulK COllEct INTO COAlEsce  @ ""  ï¼ˆ deFaULt    ï¼‰    , ""  .  *     FroM ï¼ˆ ""   SaMPLE ï¼ˆ â¨± ï¼‰    INNEr JOin  ThE ( â¨± )  VErSions BeTWeeN tiMEsTAMp  ExTRacT ï¼ˆ Month fRoM â¨±  ï¼‰  AT lOcAl     ** traNSlaTE ï¼ˆ â¨± uSInG nChaR_cS ï¼‰  AT TimE zOnE SESSIONtiMezoNe      mOd  caSE â¨± wHeN â¨± thEN â¨±   eND        And Ùƒ  ( dIsTinCt )   ï¼ˆ + ï¼‰  % bulK_EXcePtIonS ( â¨± ï¼‰  . eRROR_CoDE    multiset UNiON aLL  "á—" @ CHArAcTeR   ( â¨± "ð¨¡´" @ "ðª³¬"      ï¼‰   .  *  ï¼ˆ + ï¼‰  WithiN gRouP ï¼ˆ ordeR sIbLINGs bY â¨± NuLLs fIRST     )   At TimE zOnE SEsSIOnTIMezOne     ** ( â¨± ï¼‰  muLTiSEt EXcepT ALl  NULl  aT locaL      *  ""  .  *  ï¼ˆ + )      +  nULl    ** ?           aS nAmE     pARTItIOn by ( :6  @ BOtH  @ "â‹"   =>  dEfAUlt  As paRenT  @ ""      ï¼‰   UsINg ( "ð­¬Œ"   , "ð©Œƒ" ( unIQUe vaRraY  @ :#  @ SeSSiontImEZOnE    =>  DefAuLT    )   ï¼ˆ ï¼‰   ï¼ˆ + )  ï¼‰   PIvot ( â¨±  , "" @ "" @ ""  ï¼ˆ â¨± ï¼‰   =>  DEFAUlt  as "" @ :á»¤  . :66       FOr à²®  ï¼ˆ aLL )   .  "á˜ˆ" @ SHRInk       iN ï¼ˆ â¨± ï¼‰   ï¼‰     ) "" @ "ð…§" @ :26      pARTITion bY ï¼ˆ â¨±   )    ï¼Œ ( ( â¨± )  AS of SCN  DEfAUlT  :1          CrOss jOIn  JSoN_tAbLe ( â¨± FormaT JsOn Null On  ERrOR  COLUMNs ï¼ˆ neSted paTh timeSTAMP ''''    coLuMnS ( "" @ "" . ""    TiMEStAmP   raNGe â¨± ..  â¨±    eRROr oN  EmpTy    ï¼‰    )  ï¼‰     uNpIvoT ( ( tAbles   ( + ï¼‰  ï¼Œ pipE  ï¼ˆ alL ï¼‰   ï¼ˆ )     )   FOR ï¼ˆ "" @ ""  ï¼ˆ MIN  @ :88  . OveRfLOw    =>  â¨±  ï¼Œ "ê¨" @ #2   ï¼ˆ unIQue ï¼‰   =>  â¨± "ð¬µ…" @ RAiSE  . "ð§‹‰"      ï¼‰   .  :6     )    iN ï¼ˆ "ð­¶¸" @ :#Ç¹  . sySTEM    ( + ï¼‰    , :á ‘  ( DeFAuLt  SAMpLE      )   ( :29  @ "" . ""   =>  â¨±   )   ( + )   aS ''      ï¼‰   )     ï¼‰ UnpIvOT ( ( "ð¡‡„" ï¼ˆ UniQuE â¨±  ï¼Œ ï°¡   =>  â¨±   )   ( alL ï¼‰     )   FoR ( "à«‚" @ "ð©¼¥" . tiMEzOnE_HouR   ( DEFAuLT  ""    ï¼Œ ANaLyzE  ï¼ˆ UnIqUE )   =>  dEfAUlT    )   .  *  ï¼ˆ + ï¼‰  , "" @ inDIcatOr      ï¼‰    in ( "" ( alL ï¼‰   ï¼ˆ dEfAulT  As :#9      ï¼‰      ï¼Œ ï¼ˆ :53  @ "" @ ""   .  ""  ï¼ˆ + )   ï¼‰    )   )    VERsIONs PERIoD FOR enForceD  @ "ðª•ˆ"  ( ï¼‰    beTweEn  *   aNd "ð—Š›" @ :#     % iSopen  AT LoCAl             pArTITIOn by ( sEssiOnTImEZoNe  @ "ÊŸ" . sesSion   ( DISTiNcT â¨± ï¼‰   =>  â¨± As :9  @ áº‰  . ""      ï¼‰   PiVOT xML ( â¨±   for "ð¡£‘"  ( + ï¼‰    iN ( ï¼ˆ DEfAUlT    ï¼‰    ï¼‰   )        unioN aLL  ( â¨± )  ordER siBlIngs BY â¨± asc  nULLs fIrst   , â¨± desc  nulls Last     with READ Only  CONstraINT BUfFER_POOL  ï¼ˆ DiStINCt "ð«”"  =>  â¨± AS "ð‘˜¬" @ "" . :26       )      )  FOR UPdate Of  "" @ "" . "ð¤´€"  ï¼ˆ )     WAIt $6.     ï¼‰  AS ï¼ˆ faLse  ï¼Œ truE  ï¼‰ % TYPE    ï¼‰  aT LOcal     ** MergE  @ _#  . SibLINGS   ( )   ï¼ˆ + )  OvEr ï¼ˆ ordEr sIBLIngs bY â¨±  ï¼Œ â¨±    ï¼‰         IS nOT of tyPE ( OnLy ADvAnCeD    , "ð¬ˆ™" @ :6    .  HAsh    )      OR cURrEnt Of  ""  ï¼ˆ + )    AnD ï¼ˆ  deFAult   ï¼Œ DeFAuLt  aS "ð®®ˆ" @ ""      )  NoT  In  ( seLECt :_  ï¼ˆ ALL â¨± )   =>  DEFaULT  :6     ï¼Œ NoExTEND  @ á¼¨  @ ""  ï¼ˆ unIQue )   =>  â¨± ""      INTO "ð—„¡"  .  pIpe  @ "á¬¤"      froM ï¼ˆ PASSiNg  @ :20  @ gLObaLLy    .  "á‘€"   parTItioN ( "ð—»™"  ï¼ˆ + ï¼‰  )   pARtItIon By ï¼ˆ :88  @ "ð ©" . COLlatiOn   ï¼ˆ ï¼‰   =>  Default   ï¼Œ â¨±   ï¼‰  InnER JOIN  TAbLE ( â¨± )  AS oF PErIOD foR "ð«”²" @ :#    ( oPaqUe  ( aLl â¨± )   =>  DEFAuLT  AS ""     ï¼‰    â¨±    pIvOT xML ï¼ˆ á¿€  @ :37    =>  â¨± MuLTisEt  @ "ðª¹"      FOR "ð­’‡" ï¼ˆ )   ï¼ˆ unIquE â¨±   )   ï¼ˆ + )    in ( WiTh UNDER   .  "" @ #á¸¿     ( :4   .  *    ï¼‰  AS ( â¨± ï¼‰  CyCLe "â " @ EnFoRCED  @ "ð¨ ³"   .  "ð¨¯£" @ "" @ ""  ï¼ˆ UNIqUE DEFAult    ï¼‰   ( + )   SEt "ð¢†º" @ ""   .  :54  @ monTh  @ nokeEp      TO u'ð¤¢ª'    deFaULt 6e-7     ï¼Œ lIBraRY  @ ""   .  :áº±    AS ( â¨± ï¼‰  SEaRCH BrEAdth fiRsT BY â¨± nuLLS lasT   , â¨± asc  nULls firSt    Set "ð‘²¥"  .  cOnTINUE  @ :â³…â¾œ       cyCLe :39  ï¼ˆ )   ( + )   SET "â¤Œ"  .  empTy     to uq'{ð’’‹}'    DEfAUlT 0x       ( â¨± )  uNiOn  ï¼ˆ â¨± ï¼‰  wiTH check option    ï¼‰   ï¼‰      jOin  â¨± usinG ( _#  @ "ð¦¸ª"   ( )    )   oN â¨±    ) UnPivot ExClUdE NullS ï¼ˆ ï¼ˆ "ð¦º¨" @ "ð¨’¥" @ :9   ( :5   =>  â¨±   ï¼‰   ï¼ˆ DiStINct â¨± AS "ð¬´¡" @ ""     ï¼Œ BOdy  @ OUt   ( ï¼‰   =>  DEFaUlT  "ð­­¢" @ _  @ "ð®›Ž"      ï¼‰   ï¼ˆ + ï¼‰   ï¼‰   FoR ( "ð ´ž"  ( + )  , "" ( disTincT tRUNCaTE  ï¼ˆ ï¼‰   =>  â¨± as :23      ï¼‰     )    In ( "" @ chARaCteR      As ( TRue   )     ï¼Œ :15  @ rEPLacE  @ "ð©ºµ"  ( dISTInct )   .  *    as 0x1      )   ï¼‰      NATuRAl InNer JoIN  the ( WItH :ï­©ÆŽ   .  "ð¡ƒ–" @ "ð©Œ€"    As ï¼ˆ â¨± ï¼‰   , NORELy  @ "ð¢«˜" . wiThIN    .  á³È¿    aS ï¼ˆ â¨± )  CYcle "ãŒ¾"  ( DEfAult    ï¼‰     SEt "ð¬º" @ deFinEr      TO 7D    dEFauLt DATE ''''       seLeCT defaUlT  As "" @ "á’„"     ï¼Œ "ð¢‘¾" @ ""   =>  â¨± NeW       BUlk COLLECT Into :45  @ "ð˜‘™"   ï¼ˆ + )    frOM ï¼ˆ â¨± uNpiVOt inCLude nulLs ï¼ˆ ï¼ˆ :9  ï¼ˆ UNIQue DEFAulT    ï¼‰   ï¼ˆ + )   )   fOr ï¼ˆ :_3   .  *  ï¼ˆ + ï¼‰  ï¼Œ "" ( ALL â¨±  , "ð§€«" @ aLwaYs   ( all â¨± ï¼‰   =>  â¨± à¼œ      )   ( )     )    iN ( "ðª‘¹" ( )   ï¼ˆ + ï¼‰    , ï¼ˆ OptimaL  @ _  @ VersIonS      ï¼‰   AS 6e3F      )   )     ï¼‰ aS "ð§¡®"    pArtITION bY ï¼ˆ "ð§£…" @ No   ï¼ˆ â¨± )   =>  â¨± :6  @ PArtITIoN  @ :4      ï¼Œ :Ö”$   =>  deFaulT    ï¼‰    ï¼Œ JsOn_taBle ï¼ˆ â¨± foRMat jsOn ï¼Œ "ð§·±"    erRoR oN  ErrOr  COlumNs ï¼ˆ "" @ "ð¬³‹"    truNCATe pATH intERvaL 'ð£¯»' YeAR       ï¼‰  )   parTitIon BY ï¼ˆ defaulT  As rEject  @ :5  . "ð€’"     ï¼Œ DefAUlt    ï¼‰  CRoSs JoIn  â¨±    ConNECt BY NOCYCLE â¨±  StART wiTh â¨±  HaviNg â¨±    UniOn  sEleCT uNiQue â¨±    frOM xMLTAbLE ( XmLnAMESPaCes ( ""  =>  DEFAUlT  sUpplemeNTal     ï¼Œ MEDIUM  @ "ð”–—" @ "ð¬´›"  ï¼ˆ UniquE )   =>  â¨±   dEfAUlT ''   ï¼‰  ï¼Œ dATE ''    ï¼‰  aS OF TIMeSTamp  â¨± as "ð­¼¼" @ :20      ï¼Œ "" @ ""  ï¼ˆ ï¼‰   =>  defAult        PaRtItION by ( ""  =>  DEFaULT  "ð«›‰"    ï¼Œ â¨± undEr      ï¼‰  rIght  Join  â¨± on â¨±     sTaRt witH â¨±  ConnEcT by â¨±  grOUP By ( ( ï¼ˆ ï¼‰    )   )        fOr updAtE skIp LOcKeD    ï¼‰  pIvoT XmL ( :#ã‚„  @ "ð§ªˆ" @ "ð¥ ˆ"   =>  â¨±  ï¼Œ dEFaUlT    FOr "âˆ…" ï¼ˆ UNiQue â¨± AS nChAR_CS      ï¼‰      In ( ANy   ï¼Œ â¨±  aS "á»" @ "â°³"     )   ï¼‰      nATUrAL jOiN  xmltABLe ( ''''   passInG By VALUe á¼¼7  @ inStEad   ï¼ˆ aLL ï¼‰   =>  â¨± "ð®™£" @ :#  @ :2         )  pIvOT ( deFAult    for ï¼ˆ sKIP   .  specIfIcatiOn   ( + )  ï¼Œ "ðªŒ¾" @ "â’ƒ"  ï¼ˆ uNIQuE â¨±  , :7  @ coNtexT  . "à®³"  ( ï¼‰   =>  defaUlT  AS "ð£‡˜"     )     )    iN ( Any   )   ï¼‰    vErsIons PErIoD fOR ""  ï¼ˆ + ï¼‰  bEtWeeN  *   And *       pArTITiOn By ( â¨±  , :50  @ "" @ MineXtENTS    =>  DEfAult  AS :Ô“  @ _1       )     uNpivoT eXcludE NuLls ï¼ˆ "" ( ALl BUlK_exCEptIONs  ï¼ˆ )   =>  DEfault  "ð¡†¾"     ï¼‰   ( + )   FoR ( pctInCREASE   .  "" ï¼ˆ aLl )   ( + )  , :1  @ "ð¦º”"   .  *    ï¼‰    in ï¼ˆ "ð˜Ž¸" @ ï³   ï¼ˆ DISTinCt jAva  @ ""  ï¼ˆ â¨± ï¼‰   =>  dEfaulT   , â¨±   )   ï¼ˆ )   ï¼ˆ + ï¼‰    , ( ""  ( "ð¦’®" @ :60  . "ð­´°"   =>  â¨± as RoWCouNt  @ "ð«Œ" . #6       ï¼‰    ï¼Œ "" @ "ð¥±¬"   ï¼ˆ ï¼‰     ï¼‰   as ( U''   ï¼Œ nQ':ð¬‰™:'   )     )   ï¼‰     ï¼Œ xMltABlE ( faLse   PaSSING by ValUE DefaULt   , "" @ ERRoR_Index  . :80   ( unIqUe â¨± )   =>  DEFAulT  "ð’‚•"       )   JOIN  ( SeLect defauLt   , SYstEm  ï¼ˆ )   =>  DEfauLT  "ð¦º¡" @ "ðœŸ" . :Ñ«        FRom ThE ( â¨± ï¼‰  as MontH  @ :#ã†‘         WhEre â¨±  hAviNG â¨±  grOUP bY â¨±   ï¼Œ ( ï¼ˆ ( )    ï¼Œ ( â¨± , â¨± ï¼‰   )   ï¼Œ GROUPInG sEtS ( ( â¨± ï¼Œ â¨± )   ï¼Œ ROlLUp ( â¨±   ï¼‰     ï¼‰    )        OrDER SiblIngS By â¨± aSc  NULlS first   , â¨± asC      )  :8  @ dATabasE  . "ðª¨"       UnpivOt ( RecORD     For fulL  ( ï¼‰   ( + )    IN ï¼ˆ ï¼ˆ :16  @ "á¹¿"   ( + ï¼‰   ï¼‰   As tRuE      )   )      whEre â¨±    uNIon  ( seleCT unique "" @ á„    ï¼ˆ alL )   =>  â¨±    FROM "ðŸŽ´"   PIvot ( â¨± AS :6     , "" ï¼ˆ disTINcT â¨± )   =>  â¨±   FoR cross  ( UNiquE DEFAULt   ï¼Œ "" @ heap  . ""   =>  â¨± AS SessION      )   .  :#   ï¼ˆ + ï¼‰    IN ( â¨± ï¼‰   )      NatuRAL LefT OUtER  joIN  jSon_TABLe ï¼ˆ â¨± ï¼Œ "ð¥½‚" @ "" @ First    .  ""    COlUmNS ( "" @ :_ã†›  . "ï»†"    INTerVaL ( UniquE )   opERatIoNs  @ "ð§½•"   ( DEfAulT   ï¼Œ â¨± aS :4  @ "â‰¿"      ï¼‰    To  "" ï¼ˆ "ðª¸„" @ "ï±¾" @ ""   =>  dEfAULT    )   .  *     FormaT JSOn WITH CoNDITIoNaL ArRay wrapPEr  patH TimEsTAmP 'ð«¿¼'      ï¼Œ :7   .  "" @ FiXEd  . #3     VArCHAR cOLlAte "ð­”"     chArAcTer Set â¨± % cHaRSet     forMAT Json path :ï®„   .  nATIOnal  @ ""     erroR on  eRROr    )  )  UNpIvOt ( ( "ð¥‰¶"  ( all â¨± "ð¤½Ÿ"    , "" ï¼ˆ alL ï¼‰   =>  â¨±   ï¼‰   ï¼ˆ + ï¼‰   ï¼‰   fOR ï¼ˆ Raw  @ rOwcoUNT  . PrECeding     ï¼Œ :35  @ à´˜   ï¼ˆ ALl ï¼‰   ( + ï¼‰   )    in ï¼ˆ ( :37     ï¼‰    )   )    as oF PerIod For "" ï¼ˆ )    beTWEeN      ParTiTiOn by ï¼ˆ "ðª¶¯" @ :24  @ ""   =>  DEfAULt  "" @ SUpPLemENtAL      , â¨± #      ï¼‰    PIvOt ( DEfAulT    FoR "" @ ""  ï¼ˆ METAdaTa  @ "ð¨»«" @ ""   =>  DEFaULT  :16  @ ""     ï¼Œ â¨± as ""     ï¼‰   .  rEject  ( )   ( + ï¼‰    In ï¼ˆ â¨± )   ï¼‰     , ( ï¼ˆ â¨± )  VERsiOns PErIOD FOr "ð§¬–"  .  *  ï¼ˆ + )  â¨±  *   AND "" @ DAy  @ :ï±˜   ï¼ˆ ï¼‰   ( + )  ovEr ï¼ˆ pARTitiOn By :92  @ "ð­"   =>  dEFAULT     oRDeR sibliNGS by â¨±  ï¼Œ â¨± dESc  Nulls lasT     rAnge curRent ROw    ï¼‰   aT TimE ZONe NeW "" @ "ð¢˜" . ""  ï¼ˆ distINcT â¨±   )   ï¼ˆ UniQUE ByTe   =>  â¨±  , DeFAuLt  noshaRd  @ finaL       )           /  "" @ :2  . â³›â·…   ï¼ˆ disTIncT )    % bULK_roWCouNT ï¼ˆ â¨± ï¼‰    AT LOcal    multiSet EXcepT  ExtrACTValue ( rEDucEd  ( distiNct â¨±  )   =>  DefAult    , *    ï¼‰  AT time ZoNE DBtIMEzoNE     ** CHr  â¨± uSinG NChar_Cs ï¼‰   mUlTISET uNioN  Case wheN â¨± thEN â¨±  ElsE â¨±   EnD      -  - TREat  â¨± aS ref "ðª¤¡"  .  "ð©¬‚"    )  . :71    + )     AT LoCAL    mULtiset excEpt All  prIor  â¨± ) At TimE zoNe dbtimEzOne       ** sPace  @ "ð¢½ˆ"   â¨± aS eXCEptIonS  @ "ð¢¦‡" @ _       )    % iSoPen  at tImE zonE TRIm  â¨± ï¼‰  At local       MUltISEt excePT  NeW :_ï®†    +            UNPiVOT InCLuDe NUllS   "ð—€"  disTIncT defaulT   ï¼Œ sUBTYPe  @ Replace    dIsTInCT    =>  dEfaUlT  :2              +       fOr "" @ "" . ""      IN  ""  ChuNk  @ :ï»š    =>  â¨±  ï¼Œ ""  =>  â¨± AS "ð—ª»"         +     ï¼Œ bATcH     as 8.f              As :6  @ "" . "ð¢¥‹"         pARtITiOn bY  â¨± "ð¯ " @ _2  @ DefiNER            wHEre â¨±  coNNECt BY NocYcLe â¨±    mInuS   â¨±   OrdEr By â¨± nuLLS FiRST   , â¨± DEsC     FOR uPdaTE NOwaIt   witH REAd onLy  coNsTRainT "ð­·°"  ALL         wIth cheCk oPtioN            , not COnNEct_By_rOoT xMLcaST  MULTISeT  wItH :à®‚  @ "ð¦®¥"     "" @ "ð¢¡§"   .  *      aS  wItH ""    :21  @ iSOpEN  . whEn        DiSTinCT â¨±  , DeFauLT  As ""            AS  â¨±   SEARch bReAdTH firST BY â¨±   Set #  @ :6  . ""   .  CuRrENt_USeR       ï¼Œ "" @ lOgon  . ""   .  :5    As  â¨±   sEARcH dEPTH FIrst by â¨±  , â¨± aSC  NulLs FIrSt    sET work  @ "" . lIke2          â¨±   wIth cHECK OPtiOn      cyCLE :â¼‘á¼³   "ð«‚¢" @ "" . ""   =>  DefaUlt            +    seT ""    To dATE ''    DEFAuLt InteRVal '''' hoUr  1.6e+9  , 0X7      To MiNUTe       , "" @ :#  . PiPe    .  à­­8     :6   "ð’Œš" @ cUBe    =>  â¨±      .  fREEPoOlS    +      as  SElEcT â¨±    BuLk coLLECt InTO "ð ›»" @ ""       , TAbLES  @ :97  @ OveRlapS    uniQue deFaULt  As "" @ ""     , ""  =>  dEFaulT  ""        .  "" @ :àµ›  @ ""   All     +     frOM :4  @ :28  @ ""   .  #  @ "ð¨¡ " @ LiMiT     SAmplE  â¨±    ""    paRTItIOn By  WAIT   =>  â¨± TrUNCaTe  @ "á´"        JOin  xMLTaBLE  xMLnAmEspACES    , TIMESTamp 'ê®Œ'      PIVoT xMl  WrItE  @ :8    =>  DeFaulT  As ""     For  "à¾"  ALl          In   DEFaUlT   ï¼Œ praGMA  @ _Ó  . "ðŸ“…"   =>  DefaUlt       AS :61              PaRTitioN BY  DefauLt      InneR joIN  xMltable  q'##'   COluMnS â¨± FoR ORDinAlITy      PaRtITIon bY  â¨± aS "" @ "ð©´‹" . biTmaP      , "ð ¹‰"  DIStInCT â¨±    =>  â¨±     crOSs jOIN  â¨±  uSINg  beFOre    , "à£¼"      +       pIVot  â¨±  ï¼Œ defAuLt  :7  @ ""      For  Æ¾  @ ReaDs     +        In  â¨±          groUP by GROUpinG SEtS  â¨±   ï¼Œ  â¨± ï¼Œ â¨±              iNtERSeCT  Select all "" @ "ð­‰”" @ ""   =>  â¨±  ï¼Œ "â²§" @ ""   â¨±    =>  defauLt  ""      iNTo "ð—¦"     .  *     FrOM  â¨±     UNpIVot ExcLuDe NUlls  BOtH  @ :#6     DeFAUlt         FoR timEZOnE_REgiOn   UnIquE â¨± as :16         .  *   +     in   "ð£¢" @ OID  . :Ý±    UnIque     +       as  U''   , 8.e+2       ï¼Œ :20   dIStiNcT â¨± As "ð£¬€" @ ""           As  N''                 StARt WitH â¨±  ConNeCT By â¨±  gROUP BY    â¨±       ï¼Œ â¨±         havINg â¨±    oRDEr bY â¨±  , â¨± NullS lASt           WitH pREbuILt   .  "ð¨¿—" @ ï°  . ""     "á¤ª"   +   ï¼Œ NOExtend  @ TRaNSlAte  . :#            AS  â¨±   SEarcH breadtH fiRsT By â¨± DEsC  NuLlS LasT   ï¼Œ â¨± nuLlS FIRsT    SEt "ð¨†€"  .  pctthReshOLd  @ _×„          â¨±   iNTeRsEcT  SEleCT ALL ""  UnIQUE â¨±    =>  DEFaUlt  Reads       BuLk coLLECt iNto "" @ "ã„£"    +     From Json_TAbLE  â¨± cOLUMnS  neSted ''    columnS  "" @ "á¯" @ :68      FAlse  ï¼Œ False    eXIsTS FAlse oN  error    , "ð«°Ž"  .  :95  @ "ãŠ·"    LOng      rAnGe â¨± ..  â¨±          , FIPSflaG   .  "ð¨¤„" @ "ê§ž" . "ð¨¬"    tRuncAte foRmaT json wIThOuT wrAppEr  nuLl oN  eRROr            WhERe â¨±  sTaRt WiTh â¨±  conNect by â¨±    fOR upDAtE WaIt DATe ''        union all  sElect â¨±  ï¼Œ :17  @ StORAGe    =>  DeFauLt     From TabLe   â¨±   uNIOn AlL  sELECT alL â¨± aS ""    , "ð›²ˆ"     =>  â¨±    inTO chArACTeR  @ attrIbuTE     UNiQUE :áº¥  @ ""      =>  DefaULT  "" @ "" @ â½           , "ð ¥—"  UnIQuE     â¨±         fROm prEbuILT    PARTiTiON  sOrT    +     As OF TimesTamp  ""  UNiqUe â¨±    =>  â¨± :_          PARtITIOn By  NEW  @ áŒ³5    =>  DEFAULT   ï¼Œ defAUlT  :26  @ "ð­†ž" . "ð¡©"         UNpIVoT inclUdE NuLls   "ð‘ˆ±"     .  :25        fOr LoCAl  @ :9    uniqUe dEfault  as "" @ "" @ "ð¨»°"     , "ð­„ƒ" @ "" . DecODe    =>  â¨±      .  *   +     In   NoROwdepeNDENCieS  @ :_    DeFauLt             ï¼Œ "ð¥°¥"   +             , daTafiLE    AS oLd  @ :13  . coMmIT         where â¨±  ConnEcT by â¨±    fOR UpDate of  "ð§š’"   , :2  @ :#  @ ""   DiSTINCt         +     OrDeR By â¨± deSc        VerSIons bEtWeEn tImeSTaMp  *   aNd â¨±    -  â¨±   mod  â¨±  ** â¨± multiSeT exCePT  â¨±        PIVOT  "" @ "ðª¬£"   =>  â¨±  , â¨± As "á¨Š" @ PCTinCreAse       FOR :ï°²         IN   â¨±   FOr uPDAte  oRdEr BY â¨± deSC   ï¼Œ â¨± nUlls lASt     wITh READ onlY  cONStRaiNT :21   dISTinCt "" @ ""   =>  dEFaULt   , afTeR  @ "áº¾"   â¨±    =>  dEfAult  AS ""                   aS oVER  @ :98        , XmLtablE  XMLNaMESPaCes    , q'//'   PASSIng â¨± AS "ð—›¯" @ subPaRTitION  . ""       CoLUmNs â¨± FOR oRDInalITY     versIoNS bETWeen tiMEsTAmP  *   anD â¨±   /  â¨± mULtISEt INTErSeCT ALL  â¨±  ** â¨± MuLtISet unIon All  â¨±        PIvOT XmL  â¨± :6     , ""  =>  â¨±   FoR  à¯¨  @ ""   DIsTINCt "" @ ""   =>  defaULt  "ð¡‰…"         +   , :29      .  "" @ "" @ sCHEma     +        in  Any   ï¼Œ â¨±            PArTITIOn By  DefAulT  uNcondItIoNaL     ï¼Œ â¨±     cROsS jOIn   WitH UNlimiteD  @ :ï®ž    .  "" @ _     AS  â¨±   SEaRCh DEPtH FIRsT by â¨± deSC    SEt "ð¬¿²"     Cycle #È…     SEt DeFeRRaBlE     To INTeRVal '' mOnTH  tiMEStAMp ''   , false      to year     DefAULt ''      ï¼Œ "" @ loCAL     as  â¨±   Cycle ""   +    SET CloSE  @ "ð˜‹®" @ CoMpacT    .  "ðªš¦"    to .8E4f    defAUlT 0X       sEleCT :30   DiSTiNct â¨±    =>  â¨±  , deFAult     INTO "" @ "" . "ð¨²ˆ"   DistiNct    .  *   ï¼Œ "ð¦¡¢"  diStinct :70  @ "ð£…„" . ã††    â¨±    =>  DEFauLt  aS CONStRucTOr  @ refeRENcING  . "ð¤“¹"          +     FrOM jsoN_TabLe  â¨± FORmat JSoN Error oN  error  colUMNs  ""   fOR oRdInAlity   , nESteD PatH timEsTAmP ''    cOlUMNS  "á¬"   EXIsts paTH VErsIOns  @ NatuRAL  @ ""     FaLSE On  empTy    ï¼Œ :#0    FOr OrdINAliTy           unPIVot eXCludE Nulls   "" @ ""    ï¼Œ "â‡¡"       fOr iNITialLY    +     In   :25  @ "" @ "ð›…"                aS Of PERIOD foR "ð–­°" @ :_Æ  . A    all     +   â¨±       PiVoT  â¨±   FoR  :55      .  *        IN â¨±        StART with â¨±  CONnECt by nOCyCLE â¨±  groUp bY cuBE   â¨±         ,               MINUS  SELEct á¹¾  @ MatCHeD    DIstinCt    =>  DEfAUlT  As "" @ "ðŸƒ³"     ï¼Œ ""  =>  â¨± "ð¤µ˜" @ :20        frOm  â¨± unPivOt EXClUdE NUlLs  LeSs    +    FOr  "ð§ˆ¼"  uNique     ï¼Œ "ð®‡€" @ ""    Î½  @ "ð£†¹" . :35    disTINCt â¨±    =>  dEfAult        +        iN   "ð žƒ"   deFaUlT  As nUllS     ï¼Œ â¨±       +        ï¼Œ ValUE            As  U''   ï¼Œ .8d                  PArTITION by  deFAuLT      jOIn  â¨±   ï¼Œ jSON_taBLe  â¨± FormAt Json , "ð”–¸" @ :#  @ ""   .  :80     nUlL oN  ERrOr  COlUmns  "ð¤­‚" @ DBtIMEZoNe     TRunCatE   ï¼Œ ï±š9    FOr ordiNaLiTy       veRSIoNs betweeN SCn  *   ANd â¨±          PaRtITIoN by  obJect   â¨±    =>  â¨±  ï¼Œ â¨± _4  @ "ð °“"         PIvOT XmL  "" @ NOLoGGINg  @ VisIBLe    =>  dEFault    foR :46  @ "ð©·¸" @ :8    dIstinCT     +     In  AnY            cONNeCT by NOcyCLe â¨±  STArt WItH â¨±  HAvINg â¨±    OrDER SIBLings BY â¨± DeSC     wiTH READ only           whErE â¨±  staRT wiTH â¨±  CONNECt bY â¨±  HaVING â¨±  gROuP bY cUBe  â¨±  ï¼Œ  â¨± ï¼Œ â¨±         ,   â¨±      ï¼Œ  ROlLup  â¨±  ï¼Œ  â¨± , â¨±         , GROUpiNG SeTS      ï¼Œ                        aS opaque FIxED  UnIQUE "ðª¾¿" @ "" @ "ð ¬œ"   =>  â¨± AS "ð‚"       USing LibRaRy pERiod   DIsTINcT     all â¨± "ð­”­" @ :9  . :_      ï¼Œ "" @ Outer  @ "á¾’"   =>  DeFault                ** ?  at TiMe zoNE seSsIOntimEzone       +  cURsOR  WItH "à®‰"  .  "ð¡»”" @ "ð”–" . "ð¤²"    As   â¨±   minUs  SeLEct unique DefaulT  #à¤¹  @ rowcounT  @ ""       bulk Collect into "ðŸ¥®" @ sCoPE       .  :12      fROM thE  â¨±   As Of PERIOd For DeFErrEd  @ "" @ "ð—¾’"    +   bETWeEn      pARTiTIoN bY  "ð¤Ž§"  DIStiNCt â¨±    =>  dEfAUlt      NATuRaL JOIN  ShARinG    PaRTiTiON  ""     SAmPLe BLOcK  â¨±     pArtitIOn by  â¨± "ð—¦²"    ï¼Œ â¨±       UnpiVoT INclUDE NulLs   :Ø¶  @ "ð¦±ˆ"   DeFAuLt  aS :59  @ PaRtiAl  @ disaBle           +       fOR  :93  @ :â³º6    "ð«´†"  DistInCt    =>  â¨± aS ConSTAnt          , :4   .  :ážª  @ ""    +        IN  "ð“ " @ ï¿¢  @ SUsPEnD      as 3     , "ð«º”"    aS 0X               whErE â¨±  staRt wItH â¨±  CONNect BY nOCYclE â¨±  Group bY GrOuping SETs  rolLup  â¨±  ,  â¨± ï¼Œ â¨±                 hAVIng â¨±    fOR uPdATE Of  EDitIon  @ "ð¨••" . :20        +    SkiP LockEd   WitH CheCK OptiOn  ConsTRAiNT ""  jOin  @ "" . ExTRact    =>  deFauLt   , ""  All    =>  dEfAULt  aS "ï®š"             searcH breaDTh FIRSt bY â¨± nULLs FirST    sET somE  @ :#    .  "ð¨Œ¼" @ "ð¤…¿" @ "ð– ™"       , ""    ""   +      as   â¨±   orDer siBlINgs bY â¨± DEsc  NullS firSt   ï¼Œ â¨± deSc     FoR uPDATe SKIP lOCkEd      CYcLe #  @ liKE4    .  *   , "ð¥€Ÿ" @ ""   UniqUE â¨±  , DefaUlT  As curREnt_User  @ TempORAry  . "Ø"          +    sET :95   .  "ð—¾­" @ ""     TO InTERVAL 'ð¡­' MInutE  ''         deFauLT TRUe        WiTh "" @ :45  @ MEtAdAtA     as  â¨±   cycLe #à¿‹       +    Set MeRGe     To 6F    dEFault 2.D      , cElL_FLaSH_CachE  @ #0      "ð©‹”"       ï¼Œ :9  @ ""   All defauLt       .  ACcoUNT  @ "ð¡‹ˆ" . ""       aS  â¨±   seARcH BreAdtH firsT By â¨± NUllS first   ï¼Œ â¨±   sEt :14        SElecT dISTInCT "ð¬¾¶"  =>  â¨± :Ð¬à¼·  @ AllOcATe  @ SErVERERrOR      ï¼Œ â¨± "ðŸ»"      from  â¨±   piVOt Xml  :62   =>  â¨±  , :63  @ TiMeZoNe_ABBR    DiStiNcT â¨±    =>  DefAuLT  as "ð¤¨“"     fOR ""         in   defaULT       dEpTh            As Of SCN  "" @ "ð£®”"      =>  â¨±  ï¼Œ â¨±       iNNER jOin  TaBLe  â¨±       , JsoN_tABLe  â¨± coluMnS  ""  .  Ù±  @ "ð£‘Ÿ"    exISts PAtH "" @ :48  . ""   .  WAIt  @ ""           ""    PArtiTiOn By  "ð‡¥"  UniQuE â¨±    =>  DeFaUlT  AS ObjeCt     ï¼Œ OBjECT  @ :#6    â¨±    =>  â¨±      UnPIVOt   "ð¨Š§" @ ""   all     +       For áˆŒØ¾    +     IN   "" @ :95     +        ï¼Œ DiSASSOcIATe  @ "ð¦³¥" @ :à¥Š0       .  *              Where â¨±    OrdeR bY â¨± asc  NULls lASt     fOR updaTE  wITH checK OPTioN  coNsTrAiNT "ðª“ª"  dIstincT dEFAUlT  as "" @ :#  @ WitHIN               With REAd oNlY        ** CAse  End  at lOcaL         iS Of  onlY :9   .  "ð«¤¹" @ "âŸ›"              AT lOCaL         noT  in  tRIm  exIStS   wiTH ""    ""   UNIQUe â¨± "ð­¦›"            as   â¨±   for UPdAte of  uNUsed   :8  @ cOnteXT    =>  dEFAult        UniQUE     +    WAiT dAte ''     ordeR siblingS BY â¨± nULlS LasT          sElECT erRoR_iNDEx      =>  â¨± "ð”—†" @ execuTE        bUlk ColLEcT iNto "ð§‰‚" @ ""   .  á‰³      fRom  xmLTABLE  XmlNAmEsPAceS  DeFAULT  instaNCe  @ :38       DEFAuLT 0x2     , truE   passinG by ValUE â¨±    cOLumnS â¨± fOr OrdInaLIty     VersIoNS PeRiod fOr ""   â¨±  *   And *     UnPIvOt INCLudE NulLS   "ð‘ˆŠ" @ ""   aLl bulK  @ "â€"   =>  â¨±       +       FoR "ð£·¾"  UnIQUe    .  *   +     in   :21  @ "ð¢˜Œ"       +       AS  u''''                REwRITE  @ dEterMINIStiC      iNNeR JOIn  the  wITh _     ""   +      As  â¨±   sEaRCh BrEaDtH first bY â¨±   set NoCopY      CYclE "" @ :46    :á¢á‡µ  @ "ð˜†"   =>  DeFaUlT         Set FiPsfLAg  @ MeMopTIMIze      to Uq'#ð£²¶#'    defaULT intErvAL '''' Day  5.5e8F      to MInuTE         â¨±   foR UpDAtE  oRdEr siBLings by â¨± asC        PIvot xMl  dEFaUlt  aS "ð£®‚"     foR :#á¡’   distINct       in   â¨±   WITH cHEck OptIOn  COnSTRAInt :4   "ð¢…®" @ ""   =>  DEfAult  "" @ :6                    as Of tImesTAmP  bytE  @ "ðŸ‘¼"   =>  â¨± :à§±9  @ NOShARD           naTurAL FULL  jOiN  â¨±  oN â¨±   UnpIVot eXClUdE NuLlS   ""  DEfAUlt            foR :1       +     In   "" @ SEgmEnt     +                  PaRTition By  â¨±        cONNECT bY â¨±  stARt wITh â¨±  HaVInG â¨±    ORder bY â¨± DESc  NuLLS FIrst               at TimE zOnE TRiM  @ "ð©ƒ‚"   UNIquE     all not  â¨±   oVerLAPS  â¨±                     ** XmLcast  syS_COnnEct_by_pAtH           MemBEr OF  â¨±  at lOCaL                as reF "ð¤‚£"  .  "" @ "ð˜§²"   ALl vARraYs   =>  DEFauLT  as ""          % rowtYPE                     BuLk COLLEct INto "ê¬Š" @ _        +     FrOM  XmlTablE  XMlnaMeSpaCEs  ï¼£   =>  nOt CurReNt Of  :8   UNIQUE NOt *   iS  NOt  NaN        AS coNveRt  @ charSEt          .  "" @ ""         "â©½"       ï¼Œ $0.     as of perIoD FOr :_ã‚    +   BEtwEen    PIvOt XML  dEFAUlt  as :4      FOr  "ð«€²" @ MAP    dEfauLT             iN  AnY            rIghT OuTER  JoiN   WIth :5  @ "Ëª"    AS   â¨±   WitH REad oNlY      SEarch DeptH FIrST by cuRrENt of  :3   all "ð«ª¬" @ SecOND       =>  dEFAuLt            +          Set "ð¦“¡" @ "â±ª"      CYcLE OPERaTIOnS  @ _     +    Set ""    to u''    DefaULt TIMESTAmp ''''       seleCt "à¼–" @ ""   =>  *   nOT  lIKE4  inSTaNtiAblE   uNique     wiTHin GrOUP  ORDEr by nOt eXISts    â¨±   ORDEr By â¨± DESC     FoR UPdAtE Of  ""   +    wAIt dATe ''             nulLs LASt       OvER  PArTItiON By "ð«°–" @ ""   =>  DEfaUlt          ** + XmLQueRy  *   PAssing BY VAlUe ncHr    â¨± :m  @ :76         ^ =   dEfaUlt  AS STATIC  @ "ðŸ…"                at TiMe zoNe DbtImEzONE     **  witH "ð¦ £"   As  â¨±     SelECT uniQUE "ð˜£Ÿ"     =>  noT *   not  betWEen  *   And  â¨±              iNtO FiRsT_ROwS   DiSTINCt dEFaUlT  aS Ä¾$          +     FrOM â¨±   wHeRe  "ð ¶¨" @ "ð¢‹«"   All    =>  â¨± "" @ BInArY         OverLaps  deFAult              group by  NOT â¨±  ** â¨±      ~ =  aNy  â¨±                orDEr SibLINgS By â¨±  ** â¨±              witH ChEck optiOn      AT LOcAl           reTURnInG CONtEnT     aT timE zoNe seSsIOntImEzoNE         EScApe nOt ExISTS   WiTH ""    :71    â¨±          as  â¨±   SearcH DEpth fIRST by â¨± nuLlS laSt    SET stATIC        seleCT :âº¯7  @ EXtEnD    â¨±    =>  â¨±    iNto :8  @ ""   .  *     from â¨±   cONNecT by nocyclE â¨±    FOr UPDATE oF  ""    NOwAit                 "áŠ®" @ VAluE        FRom â¨± pIvoT  ""  UNiQUe    =>  defAULT  as "" @ :#$       foR  cache  @ "ð’“§"    UNiqUE eXistS   WITH ""    "" @ ""   .  "á¦‘"  miNUtE   =>  defAULT           AS  â¨±   cycLe :2  @ "ð ¶¡"    +    seT :7     to ''    deFaUlT ''       SElecT uNiQue PARtitiON  @ SCn    DIStincT    =>  DEFAult  _áŸ       IntO _á‰–       DIstiNCt nOt *   is  NulL              +     fROm â¨±  staRt wIth *   NOT  in    â¨± AS #1  @ ""              CoNNECT By Not CuRREnt oF  "ð¦¼¼" @ ORGanIZAtion    AlL           GROuP By   grOupIng SEtS   nOt ExISTs  â¨±                       hAVIng cuRrEnT of  ""  .  *           wItH read ONLY  CONsTraint "ð¥‡" @ SHARD    LEVELS   =>  nOT SYS_cOnnect_BY_pATH â¨±  aT loCAl         nOT SUbMuLTISET Of *                         "ð©—…"         +        IN  sEleCT NOT CurRenT of  "ð¥†"   +           fROm â¨±  wHerE :15  @ ""   ALl :Ç«   =>  defAULT  As :2  @ UNDER           DEFAULT        WIThIn gROup  ORder SIbLinGS BY UQ'.á¤³.'         BeTWeen  *   aND  *        dESC              iN  â¨±       cOnNEct By noCycLe NoT   "" @ ""   =>  not *   nOT  LIKe2  extrACT  "ð Ÿ®" @ coNStRUctOR    UNIQuE    =>  dEFAuLt  "Ù´" @ :#       ï¼Œ TrAnSLAte  â¨± usINg chAr_Cs   At TIME zOnE â¨±      ** :9           KEeP  dENSe_rANK LasT oRDer siBlInGS by â¨± dEsC  NUllS lAst                 AT LOCaL     ** buLk_eXCEpTioNS        +   % BuLK_rOwcounT  â¨±                AS :9        < >  â¨±        sTARt With eXIsTS  â¨±       havInG *           FOR upDaTE SkIp LocKEd   orDer BY Not  DeFault      OVERLApS  DEFAulT             deSc  NULlS laST     wiTh reAd OnLY                   paRTItiOn By  seRIAllY_REusaBLe  @ trEaT    all DEfauLt  "" @ ""         =>  "" @ "ðŸ£"    +   OVER  ParTiTIoN by "â¬"  â¨±    =>  nOt *   iS  INfINite           OrDER by   à¤Š  @ "ð¢¥ª"   alL    =>  DefAUlT      IN     DEfauLt  as tYPe                              IS Not OF  "ð£±‡"           "ð®¦Ÿ" @ "ã¿"         Using  "ð °¹"   +        VERsIOns PERIoD for CoNstAnT    NOT + #ãƒ«  @ CUrrENt_USer    .  "ð¡¹"  DISTinCt DeFault  :38  @ :53           % notfoUnd  At tIMe ZONe cURSoR  seLect aLL "ð’ƒ‹"  alL NOT EXists    â¨±   orDEr sIBLINgS BY â¨± DEsC  NuLls lAst     FOR uPdATE oF  :ãƒ¤0  @ ""   dIsTINct    .  *   +     WiTh ChEck opTIoN  ConSTRAiNt "ð¬­»"                 =>  â¨±      Is NoT eMptY           bulk cOLlecT InTO JavA  @ staTemeNt        +     From  WIth "ð¥£¡" @ ""    AS  â¨±   SEArCh bREadTh firsT BY cURRENt Of  :á‰˜ïµ¾           seT :8         â¨±      AS OVERFlOw  @ EMPty       unpivOT includE NUlLs  "" @ :3    "â•§" @ ""   =>  *   is of Type  _                 .  *   +    foR temPorary  @ ""      in   "ð¢·¶"  "" @ ""   =>  NoT CuRRENT Of  ReWrITE  @ ï®”    UniqUE defAULt  AS ""        .  "" @ sCope        +        "" @ "ð®ƒ"          UNiQUE         aS  0x                 sTARt wIth noT eXISts   witH "" @ :60     as  â¨±      â¨±   for updAtE noWAIt            CONnEcT bY NOcycLe   â¨± aS oUteR        =    â¨±   OrdEr By â¨±              groUp BY                   wITh REad Only      at LOcal       aT lOCAL     ** XmLCaST  Not eXtraCt  moNTh fRom â¨±      ** EXTRact  BATCH   =>  defauLt    , *    , *            iN    deFAult  as "ð‘œª" @ ""             AS opaquE fIXeD    usiNg lIbrary "ð¥—…"  UniQuE :#  @ :6    =>  cuRrent Of  ""              +    % rOWtyPe      aT tImE zoNe SESsiONTimEZoNe         bETwEeN  cASt  pRIor + â¨± AT Time Zone dbTiMEZOne     At lOCAl         ^ =  aLL    â¨±            AS ref CRosS   DIstincT               aND  *          sELecT aLl ComplETE  @ :41    =>  DEfaUlT     bULK COllECT INtO varCHAr       all NoT - dEcODE  nOt  "ð‚Ž"  â¨±    =>  dEfAULT  AS roWdEPEndEnCies        OvERlaPS  â¨± As :_  @ ""                 at lOcAL      ** xMLAgG  ExtraCT  YEar froM Date  â¨±          Is NOT of  ""           oRDeR by *   > =  *        dESC  NuLLs FirST       aT Time zONe sESSiONtImezONE         sUBmultiSet oF SYs_ConNeCt_By_path                        +     fROM  tablE  WitH ""    "" @ ""    +      as  â¨±   SEaRch bReadtH FiRsT By Not ExIsts   â¨±          set :7  @ tImE         SEleCt "" @ ""   =>  Not cUrrEnt OF  "" @ :â½‚    dIStiNCt     +           iNTo ADvanCeD      fRoM â¨±  wherE *   NoT  BetWEEn  CursOr  â¨±   AT timE zone sESSiontimeZoNe     ** DECodE  *   IS  Not  NUll          aT loCaL         aNd  "ð¦€Ÿ" @ :6    dEFAuLT       .  #    keEP  DENSE_RANk FirsT orDer SiBLINgS BY nOt  ""  =>  dEFAULT  "ðª³¾"       oveRlaPs  :áŠ¥Ô½  @ "ð¡·»"      =>  â¨± EXpire  @ :67                ASC  nuLLS FirST       OVer       ** nchr  nOt *   iN   â¨±          At LoCal               STaRt WIth ExIsTS   â¨±         cOnneCt by nocYCLE cUrrenT of  invISiBlE   .  agGrEGatE   dIStInCT dEfauLt        +         groUp bY  cuBe   Not *                        oRder by NOt dATE 'ð­'     ** TreAt    ""  aLl    =>  DeFAult  INDExIng        not  in    "ð›Š" @ "ð¤²ž"   =>  â¨±             as á…²3  @ :7        . "" @ ""   DEFAult  aS "ð®“¼" @ "ï²‹"         .  *     at TimE zONe syS_COnNeCT_bY_pAtH  EXISTS   â¨±                      > =  *        nULLs FirST     wItH rEaD only  COnstRainT NOROWdePeNDEnCiEs  @ :8    DisTInCT NOT *   Not  LiKEC  PRiOR ReturNINg   UniQuE         +   at TIme ZoNE dbTimeZone           EscApe curREnT oF  "" @ "ï¿†"    UNiQUe rEsUlt_CAchE  @ ARraY   â¨±  =>  dEfAULt                   ""             UnpiVOt  ""   +    fOr :_   alL     "ð¥ªƒ"  ALL    =>  dEfauLT        +     iN   :1  @ "ð¢¿¥"   .  *                 pArtiTiOn By  NeVer  @ NOMAppINg    =>  dEfAulT  as â³—4            PaRtITION bY  NOT nUlL             aS "á¬•" @ "ð£ƒ"             OrDER sIbLIngs BY *           foR upDAte SKIp lOCKED   WiTH check OPtion            AND *       PartiTiON bY  DEFAUlT  as "" @ :ï´žà¾¶          PivOt  nOT exIsTS   WiTH jOIn  @ "â"    as   â¨±      seARcH depth fiRST by NOT ""   DIsTiNCt _  @ Exit    â¨±    =>  â¨± "ð”˜¬"         +   AT lOCAL         Is  inFiNITE        aSC  nULLS fiRST    sET :7      CYclE ""     .  "ð¢¦Š" @ "ð«¤•"     SeT "" @ CEll_fLaSh_Cache      To    dEfAulT trUE        wITH :1    As  â¨±   cYcLE shuTdoWn    All      SEt REsulT  @ :2      TO tImestaMp ''    deFAulT 0x       SeLECT alL ""  â¨±    =>    â¨±    < >   â¨±            fROM ""   saMplE bLoCk  *   =  - à¸¤_  @ ""    +   WItHin GroUp  oRder by â¨± DEsC       ovER  partitiOn bY â¨±       AT LoCal      ** Chr  â¨± UsinG nCHar_cs   AT LOcAL                Seed   defAUlT  RePlACE  @ :8         OVerlAPS  TRAnSLaTe  @ ""   =>  dEfAuLT  as "" @ ""                   DeNSE_RAnk      pivOT  :_ê’œ   =>  nOt ""  dIStinCT     keEp  DeNse_RaNk FirST ORDER by â¨±      OveR  oRDeR by â¨± ASc  NUlLs LAst     RaNGE between â¨±  PreCEDiNG  And UnBOUNDeD prEcediNG       at TiMe Zone dBtimEZonE     ** "" @ ""    WithIN GROup  OrdEr sIblinGS bY â¨±             Not  BetWeen  *   AnD  ã„®  @ :8    â¨±         +   oVER     AT lOCal     **  â¨±               FOR  ""  aLl dEfaULT  ""        .  InDIcEs   dISTiNCT "" @ ""   =>  not  â¨±   overlapS  â¨±                     IN   DeFAult       As reNamE  @ :#7               wHere nOt curReNt oF  "" @ ""          haViNg extRacTVaLUE  stATisTicS      =>  defAUlT    ï¼Œ *    ï¼Œ *      aT tiMe Zone Cast  MUlTIsET  â¨±   AS ref :9  @ rEPLACe    distiNCt     +            ** - tREAT  â¨± as REF ""       at TImE Zone sEssionTImeZoNE          iS nOT EMPTy         grOuP by  CurRENT oF  _                   oRdeR SibLInGS by nOT *   >  soMe     â¨±            desC  nUlLS lAst     fOR UpdatE OF  "" @ ""   ExIsTS   â¨±        ""         defauLT        +        for UpdATe oF  NooRdeR  @ :ï¹œï´·      waIt InteRVal 'ð¤–' MonTh      ordEr SiblINGS bY nOT *   iS OF TypE  OnLY RELiEs_oN  @ ""            aSC     WIth cheCK OPtIOn           as ""     for ""  UnIqUE    .  *   +     IN  wIth body  @ :7     as  SeleCT "" @ :6    =>  NOt DAte ''     ** connECt_BY_ROOT ExTRACt  ""  diStiNcT â¨±     =>  DEfaULt    , xmlQUerY  â¨±      PaSsInG â¨±      AS àµáº·      .  *   +     REturning COntenT    at tIME zone â¨±     ** _    aLl exIsTs   â¨±        EnCRYPT  @ :#8           +   % BULK_ExCePtiOnS . cOunt   at lOcaL          , *              not MEMBeR oF *          "" @ ""       FROm jSoN_tabLe  nOT eXIsTS   â¨±        FOrmat json ,    cOLUmNS  NEVer    tImEsTAMP     wITH  TIMe  Zone    fORMaT jsoN wITH CondITiOnAl ARraY wrAPper        unpIvot EXCLUDe NULLs  "" @ ""     FOr WRAPPer  @ ""   All ""     =>  curRENT of  "" @ BUilTiN     +                In   :7    +       as 0x                  HAVIng Not trEaT  *   like   â¨±  At LocAl              as ""         ** XmlagG  nOt ?  At TimE ZoNe sessiOnTiMEZoNE                AT timE zONE CUrsOr  â¨±            ï¼ =  All   â¨±         gROUP BY ROllUp    defAUlT  aS :4  @ ""        OveRLaPS  :8  @ gRoupS    =>  DefauLT  AS ""                           for UPdaTe Of  ""  DIsTInCT NoT   ""  =>  DEFAULT      In   â¨±                skip LOCkED   WITH ChECK OPtIOn  CoNStRaiNT NOsORt  @ à¨›9            CYclE :9  @ ""   all    .  ""   +    set "" @ assoCiatE      TO INtervaL '' SeConD  NQ'??'   , FalsE         defaULt N''        WIth :4     "" @ ""   FIlesystem_LIkE_loGGING   =>  *   Like  *                 aS  â¨±   sEARCh bREaDtH FIrst by Not cuRReNT oF  DOuBLe  @ :_            SET "" @ buFfER_POol       CYClE ""  dIStincT      Set error_IndEX     to q'||'    DEFaULT $.      sELEct UNiqUE ExiStS   â¨±        :7  @ ""       buLK CollEct iNto :Ã½   dEFAULt        "" @ ""   =>  dEFaUlT        +     frOM TABLe  â¨±   uNPIVOT  RiGhT  @ :9    aLL     trAnSLaTe  Not *   BetweEN  *   And  NeW "" @ ""    +    At LoCal              usInG nchAr_cs   At tIMe ZoNe dBtimeZonE         IS  NOT  NAN        :àµ‚4  @ CHaR            FoR  âºŠÚ‹    +        in   ""  DIsTInCt "" @ :8    =>  noT eXISTS   â¨±        as ""        .  pcTveRSiOn  @ ""       +       AS 0x             VErSIons betWEEN tiMesTAMp  NEw DATE   .  *      ** triM  *   NOt  BEtWeen  exTRaCT  MInute fRoM datE  *   nOt  iN    DEFAult              at locAL         and  *        froM  NOT   ?    ** ""  DIStinCt     +   aT loCAL         nOT  in  NuLl    ** aRChiVE   â¨± ""        .  *   % BulK_rOwcOuNt  â¨±                     In   "" @ ""   DiStIncT    =>  deFaULT  aS ""               at TIMe zONE #Ô¬             ANd trIM  leAdINg fROm  Not CURREnt of  "" @ TImEZoNe_RegIoN     +                    paRTITiON bY  coMMiT   =>  dEfauLt  :4  @ ""         pivOt xML  iDENtItY  @ :5    =>  DefaULT    for ""  uniQUe "" @ _áˆµ    DEFAulT       =>  nOt *   Is NOT of tyPE  "" @ NOCOPY             As :#  @ ""            In  â¨±          wHEre CuRrent of  spLit  @ ""   All     UNIQUE     +         StARt WiTH not eXisTS   â¨±         CONNECt bY *   liKEC  *   eScaPE noT   DEfault  as :5        < =   â¨±                havInG *   iS NOT a SET         GROuP By               oRder bY NoT ""   CURrEnT OF  Reads  @ timEZONE_ABbR     +              +   KeeP  DEnSe_ranK Last ORdeR By  ""  =>  â¨±     oVerLAps  :à´µ   DisTinCt    =>  dEfAulT  ""              nullS LAst        AT tImE zOnE dbtIMeZonE         is  nOt  nULl        asC  nULLs lASt        FoR uPDAte            cOnnEct by nOT EXIsTS    wItH dEFINer  @ ""     "" @ ""   xmlQueRy  nCHr  â¨±   At LOCaL     ** case â¨±  EnD        PAssing *   as ""     .  cOmMItTED  @ :#0    AlL       retURniNg cONteNT    AT TiME ZOnE seSSIOntIMEzoNE         NOT  lIKEC  *   eSCaPE â¨±                aS  â¨±     SeleCT :6   =>  xmlagg  â¨±     ** ''         Is  iNfIniTe           iNTo "" @ eXpirE     +     fRom XmLtABle  u''   ColumNs not *        ref "" @ ""    +    rAnGE NOT ExiSts   â¨±        ..  XMlCasT  â¨± aS DoUblE PrECiSiOn  cHaRacTER Set â¨±      At locAl     ** cASE ElsE â¨±   End        bETweEN   â¨±   at lOCAl         And  trEAt  â¨± as reF ""       aT TImE ZoNe DBTImEZoNe     ** tRANslATE  â¨± uSINg ChAR_CS                     "" @ :1      fUlL outEr  joiN    â¨±   UnPIVot   :8   ALL DefauLt  ORGAnizAtiOn          nOt *   < =  ALl    "" @ GLoBAlLy    =>  DefAULT  aS :3                         FoR  WhEN   unIQuE          in  ""   +              pARtitioN BY  DeFAuLt  decoDE        croSS JOin  â¨±  piVOt XML  ""  =>  cuRReNt of  :á¥§  @ ""       DefaULt               For ï·¹2  @ ""   aLL    .  *   +     iN   SErIAlIzABle  @ ""   =>  nOT   :8   â¨±     =>  â¨±     <   dEFaUlt  "" @ cHArset               As "" @ ""                     USiNg  "" @ _          WHeRE NOT PriOr + ""  ALl         % fOunD   aT local           Is oF  oNLy ScHema                  FOR UPdate oF  ""  uniQUE DEFauLt  as :5  @ :6          .  refreSh  @ ""    +    Skip lOCked   OrdeR siblINGs BY  "" @ basICfilE    ""  =>  â¨±      =>  â¨± AS ""       OvErLAps  deFAUlT                wiTh REaD oNly  coNsTRAINT ASSOCIATE              StART WItH nOt cUrrENt Of  "" @ ""      .  *         GroUP By               With rEad Only  COnsTRAiNT _à±Š  @ ""             aS "" @ ""          