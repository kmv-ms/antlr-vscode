CreAte vIEW #    of XMlTYPE xMLSCheMa ""   eLEMeNT "·∞¶"   aLLOW nOnSCHEmA   wIth ObjEct IDeNTifiER dEFAULT   as  WItH :·§ß6    aS ( wiTH "®îà" @ "" . ""    ( "¨íÑ" @ DeCOde    ( + Ôºâ   Ôºâ  as ( Ôºà ‚®± )  for UpDAtE of  :17  @ "·ú™"  ( "ëúò" ( DISTInCT Ôºâ   =>  NOt Ôºà dEFAUlT  As aTTrIbuteS  @ ""     , DEfAULt    )  OVErLaPs ( exCludE  Ôºà Ôºâ   =>  - nchR Ôºà NoT *   NoT  bEtWEEN  *   anD  tRansLatE ( ‚®± uSING nCHAr_CS Ôºâ   mulTIseT EXCepT  tREaT Ôºà ‚®± AS "†¨ä" @ :2  . "•Ø∞"   .  "Ô≤£" @ ColuMn_ValuE      Ôºâ   At LOcAL     ** DATE '™Ü≠'   At TIme zoNe DbTImeZOne      *  DECode Ôºà ‚®± )   mulTiSeT eXcEpT diStinCt  sys_cOnNECT_by_paTh Ôºà UNIquE "£µ±" @ "¢∫≠"   =>  ‚®± :#     , DEfaulT    Ôºâ              )   aT local     ** exTracTVaLue Ôºà dEFaulT  ""     , syS_coNnecT_BY_pATH Ôºà stArtup   =>  eXiStS  Ôºà ‚®± )     Or eXiSTS  ( ‚®± Ôºâ    aND *   NOT  lIKE  :7  @ tRIm  @ INValIDaTe    ( )   Ôºà + Ôºâ  WIThIn group ( ORdeR SiBlINGs BY ‚®±    )  oVeR Ôºà paRTition by ‚®±  )   AT locaL       ||  TRiM Ôºà botH fRoM  ‚®± )     *  cASE ‚®± wHeN ‚®± ThEn ‚®±   EnD  AT TiME ZoNe ‚®±     ** + ‚®±  MulTiSet uNiON  ?  at time ZonE SESsIonTimEzoNe         EscAPE ‚®±        , "•§Å" @ LoW  @ ŒàŸà   ( uNiQUe Ôºâ   =>  dEfaulT    Ôºâ     ** PriOR XMLCast ( noT ‚®± MULTiSeT uNiON aLl  ‚®±      Is  nULl     AND Not CurREnt Of  :4  Ôºà DiStincT ‚®±  , EdiTIoniNG   =>  ‚®± as "êé†" @ "¶∂Ñ" . :7       )   Ôºà ‚®± as :‡∑Ñ€º      )         AS opaQuE FIXed ( Ôºâ  UsIng lIbRAry "îêí" ( ALl Ôºâ    ;  % tYpe    Ôºâ  AT locAl     aT TiMe zoNE SEsSIoNTIMEZoNe    mULtiSEt uNIon aLL  XMlquERY ( *   PaSSIng *     RetUrNinG CONtENt )      MoD  eXtRaCt ( "" @ "ó£î"   =>  dEfaULt  As ""     Ôºå + ‚®± AT lOCAL    mulTIsET INTERsect AlL  Ôºà ‚®± suBMultisEt of ‚®±      Or not ( DEfAulT    Ôºâ  ovErLaPS Ôºà ‚®±  Ôºå DEFAuLT  tIMezonE_ABbR  @ _       )      aNd noT Ôºà  NOMInValUe   =>  ‚®± "£Å≥"    Ôºå "ùó£" @ :9   Ôºà ALl ‚®± , ‚®±  Ôºâ   =>  deFAUlT  "ßóΩ" @ "·™±" @ lOBs       Ôºâ  In  ( dEfaULT   Ôºå SETs   =>  ‚®±   Ôºâ        )   ** NULl   mULTIsET inTERSeCt  TRim ( ‚®± nOt SubMuLTisEt of ‚®±      oR ‚®±      Ôºâ  AT TimE ZONe DBtIMeZoNE      *  "" @ "" . "·óÉ"  ( )   .  :7  Ôºà DiStinCt "" @ #  @ ""   =>  nOT cUrREnT OF  sharDEd  @ ""  ( ‚®± Ôºâ   Ôºà DiStIncT ‚®± )   ( + )     Or nOT ExISts  ( ‚®± Ôºâ    ANd ‚®± iN  Ôºà ‚®± )       as :57  @ "êá∫"      Ôºâ    KEeP ( DensE_rank firsT OrdeR By ‚®± iS Not of Ôºà only UncONditioNAL   .  :7    )     AnD Not ExistS  Ôºà ‚®± )       desC  nUlLs lAST     )  oVeR Ôºà Ôºâ    MULTisET union  xmLqUeRy Ôºà ‚®± PaSsiNg By VALUE ‚®±   rETUrNiNG CONTENt Ôºâ   at Time zOnE ‚®±       +  ExTrAcT Ôºà dAy fROM DaTE  CuRREnT Of  ""  Ôºà + )     or ‚®± > =  aLl  ( ‚®± Ôºâ        Ôºâ  at LOcAL    MuLtIset InTeRSeCT aLL  ?         , *    Ôºâ  at TImE ZONe DecoDE ( noT ‚®± MULtiSeT exCEPT  ‚®±  ** ‚®±        AND Not exISTS  Ôºà ‚®± )     Or (  defAUlt   Ôºå BufFeR_pOOl   =>  ‚®± AS "©óê" @ :#2  . boDy       Ôºâ  ~ =  Ôºà ‚®± )     And Not *   noT  In  *         Ôºâ      mUltIseT unIon  triM ( exisTs  ( ‚®± Ôºâ     Or nOt *        fROm  "" ( distiNCt Ôºâ    OVEr Ôºà orDer SIBLINgS by ‚®± deSc  nullS LAst     Ôºâ    muLTIsET exCEpt  Ôºà ‚®± ) AT locaL         IS oF typE ( oNLy "™¨©"   Ôºå :Ô≥â·úÑ    )      oR CURreNT of  cOMpAcT         Ôºâ    ** xMlagg ( not CURrENt Of  "" @ Ô≥î5  . "©æê"  ( )   .  LEss  @ MoNTh  @ comPLETe   Ôºà ‚®±  Ôºå "" @ "©´†"  Ôºà all )   =>  DEFAuLT  "" @ ‚øÜ  . ""      )   ( + Ôºâ    AND NOt COnnEct_bY_rOOT ‚®±   mULTisET INTErsecT AlL  - ‚®± at tIme ZonE ‚®±      /  nEW "§ºì" @ ""  Ôºà diStInct "ó¨å"  =>  DEfAULt    )   ( + )   At LOCAl         Is  noT  iNfinite        )         )  At LocaL    mULtisEt inteRsEcT All  xMlaGG ( ( ‚®± :39  @ "†¶ë" . SubtYpE       )  OVERLaps Ôºà ‚®±   )         ORdeR SiBlINGs by NOt ( ‚®± Ôºâ  at TIME zONe seSSIONTimeZone     ** :9  @ "©¨â" . :22    Ôºà uniQue Ôºâ    % FOunD   MUltiSeT UnIoN  nEw GeNeRateD  ( Ôºâ   .  *  ( + Ôºâ      *  CaSE wHEN ‚®± thEN ‚®±   End  At LoCAl     ** chR ( ‚®± uSINg NchAr_CS )      ||  TREAT ( ‚®± AS ReF SystEM     Ôºâ  . "" @ :_·†∂    .  *      mulTIsET inTerseCt ALL  ( ‚®± )  at tiMe zoNe dBTimezone     ** cuRSOR Ôºà ‚®± Ôºâ  At time zonE DbtImeZoNE      mOd  CaST ( ‚®± as nCHAR Ôºà DiSTincT DefaULT   , :2   =>  DEfaulT  AS "" @ Ôæ∏›í       Ôºâ  cOlLAtE SetTiNgS       )  At LoCaL    MUltISEt iNtERsEcT diStinCT  CAST Ôºà MultISeT Ôºà ‚®± Ôºâ  As ChaR ( ‚®± CHaR )  CollaTe "†≠ñ"      )        LiKe4  *        NUlLs LasT     )     /  XMLcasT ( NOkEep  ( )   .  *  ( + )  % isopEN  AT timE zoNe nchr Ôºà ‚®± )      MuLtiSet EXCePT  "" @ meDIum  @ "¶º∏"   ( UNiquE dEfAUlT    Ôºâ   Ôºà + Ôºâ  % bUlK_eXCEPtIOnS Ôºà ‚®± Ôºâ  . ErROr_IndeX   aT loCAL            Or EXists  ( ‚®± )       aS dOubLe prECIsiON  CHaRaCTer SeT NOT cURReNT oF  "≈º" @ #       aNd NOT conNECt_BY_roOt PRiOR ‚®±  At tiME Zone ‚®±     At LoCAL      *  ?    ** prIOr "òÖÑ" ( :34   =>  ‚®± aS :Ôº°0  @ "§üë" . "üèµ"     , ‚®± "ù¶∫"     Ôºâ   ( )    aT TimE ZONE SeSsIONTiMEZoNE         +  nEw  @ maTcheD  . NOpArALLEl   ( DisTINCt DeFaULT    )   Ôºà + Ôºâ  % BUlk_RowcouNt ( ‚®± )      ** NULL  at LOcAl    MulTiSEt EXcePT diStINcT  cursOr Ôºà ‚®± Ôºâ     *  xMlaGg Ôºà ‚®± oRdeR SibLings by ‚®± AsC   Ôºå ‚®±    )        is NOT oF Ôºà "ìÇÉ"  .  :37    )           )  at lOCaL       -  traNsLatE Ôºà *   =  *      or NoT *   is  nAN        USINg nCHAr_CS Ôºâ    ** "òí≤" @ ""  Ôºà ScN   =>  DeFaULT   , "" @ "ÍÆ∑" @ "ëê¶"   =>  Not (  ‚®± , ‚®±  Ôºâ  > =  ( ‚®± )     And (  ‚®± Ôºå ‚®±  Ôºâ  < >  ( ‚®± Ôºâ        "" @ "ë†•"      )    aT loCAl         bETween  "©É∏" ( dISTINCt Ôºâ   .  :39  @ :#·Ωì   ( Ôºâ   Ôºà + )  WIThiN GrOUp ( ORdER SiBLINgs by TraNslaTE Ôºà ‚®± USiNG nCHaR_cs Ôºâ    ** "¢êÉ"   KEEP ( dEnSe_rank LASt OrDEr by ‚®± DEsC  NUlLS FiRsT   , ‚®±    )   aT TImE zonE DBtimezONe      /  Ôºà ‚®± )   muLTIsET uNIOn ALL  NuLL  aT TIME ZoNE SeSSiontiMezOnE         iN  Ôºà ‚®± Ôºâ          )  OveR Ôºà PaRtiTiON by ESCAPE  @ ARCHivE    =>  nOT CURREnT oF  :33  ( UniquE ‚®± )   Ôºà )      aNd xmLCAst Ôºà MUlTisEt ( ‚®± )  AS LONG raw     )  aT lOCAL    MuLtIsET iNteRsECt  "£Ü¶" @ "" @ "¢£ë"   .  *  ( + )  Over ( pArTITIOn bY ‚®±  oRDeR BY ‚®± deSc  nuLLS FIRSt   , ‚®± nuLls fiRSt     Ôºâ     ** deCOde Ôºà ‚®± , ‚®± )        is  nOT  nAn      OR NOT cURreNT oF  Ÿ¨#  @ comPounD  . :#    .  "üç≠" ( )         aS MaPPiNG  @ :3      Ôºå NOT exiSts  Ôºà ‚®± )          oRDEr by *   ^ =  alL  Ôºà Ôºà Ôºà dEFAuLt    Ôºâ  Ôºâ  Ôºâ     or NOT *   noT  In  ExTRACT ( Ÿæ  @ "" @ refEreNceS    =>  deFAulT  AS roWtypE      Ôºå *    Ôºå "" Ôºà UNIquE dEFault  ""    , :9  ( Ôºâ   =>  ‚®±   )   Ôºà diStInct Ôºâ   ( + Ôºâ  aT TimE zone sEssIONTiMEzONe    mulTISEt excePt DIstInCt  "" ( uNIquE DEfaULt  "£Äß" @ "¶à≤"      )    % NOtfoUNd  At LocAl          Ôºâ    ** :8  @ mAP    .  "" Ôºà disTinCT DEfaUlT  AS FirsT_rOWs  @ "Õä" @ ""     , COnveRT  @ :_  . "ÆÉü"   =>  ‚®±   Ôºâ   ( + Ôºâ  KeEp ( DEnSe_RanK last ORdeR By ‚®± ASc     )  OVer Ôºà )               ASC  NuLLS fIrsT   Ôºå NOT Ôºà "êÇç"  =>  DEfAULT  :56      )  OverlAPs ( ‚®±  , ‚®±   Ôºâ      aND *   mEMber of U''   at TimE zone dbtIMezonE    MulTiSEt iNtERsEcT  XMLqUEry ( *   pASSIng BY Value cuRsoR Ôºà ‚®± )   MuLTIset uNION  exTRaCt Ôºà MinUte FRom DAte  ‚®±  )  AT loCAl         as maPPING  @ "òÉÆ" . ‡Æ™   Ôºà )   Ôºà NocOpY   =>  ‚®±  , "" @ "" @ "Í®è"  Ôºà )   =>  DEFAuLt  As :4      Ôºâ   ( + Ôºâ   , *   As "Í≠á" @ XmL       ReTUrNiNg CONTEnT Ôºâ   At tIme zoNe DbTimeZOne      /  NulL   MUlTiset EXCePt  extRaCT ( tiMEzONe_abbR fRoM ‚®±  )  aT tIme zone sesSIONtimezonE     ** ( ‚®± Ôºâ   MUlTISEt UnioN All  "" ( ALl DEFAuLT   , #  @ "" . "°Äù"   =>  DeFAUlt  As "" @ REf  . ""      )   .  *   wIthIN GrouP Ôºà oRdeR BY ‚®± nUlLs fIRsT   Ôºå ‚®±    Ôºâ   aT loCAl                DesC     rOWs eXisTS  ( ‚®± Ôºâ     OR *   is  iNFinITE         FoLlOWING    )     ** ?  aT TImE zoNE cLosE  Ôºà )   Ôºà (  ‚®± Ôºå ‚®±  )  In  Ôºà ‚®± )         , "§êù" @ "" . :m    =>  DeFauLT  "ÆÜ≤"     Ôºâ    over ( pArtITIoN bY "ñ¨Ö" ( UNIquE ‚®± Ôºâ   =>  NOt *   liKE2  lOcAL  Ôºà UNiQUE )   Ôºà + Ôºâ  % BULk_ExCEptiONS . CoUnt    mulTISET uNiOn All  EXTraCt Ôºà tIMEzOnE_REGIOn FROm Date  ‚®±  Ôºâ    ** CoNnECt_By_ROot ‚®±  at time zONE DbTiMezoNE    MUltISeT iNTErseCt  - ‚®±     ||  cASe wHen ‚®± THeN ‚®±  ELSe ‚®±   EnD  at locAL     ** + ‚®± At LoCal    muLtIsET unIOn aLl  cASt Ôºà ‚®± aS Ôºà FaLSE  , FaLSE  Ôºâ ranGE ‚®± ..  ‚®±    )     *  ( ‚®± Ôºâ  MULtiseT uniON  new "≠Öú" @ :_5  @ :5    Ôºà + )   aT LocAl           ANd noT CURRenT Of  :4  @ sUbpArTitIoN   Ôºà ‚®± Ôºâ   Ôºà ALl )   ( + Ôºâ     oR noT nEw "òïó"  Ôºà + )   at TImE ZONE SesSiONtimezONE    mUlTISET INtersEcT dIsTinCT  pOLYmorPhiC    wiThiN GrOUp ( ORDeR BY ‚®±  , ‚®± aSc  NulLs fIRst     )         NOt  LiKe2  *     AnD CurreNT of  :5  Ôºà ‚®± )   ( + )       AS "" @ "íÇ≥"       oRder BY dECODE Ôºà ‚®± , ‚®± )  AT timE zONe ‚®±    mUltiSet INTerSECt DIsTINCt  TrEAT Ôºà ‚®± as "" @ :‚∫™    .  sySteM     )     ** LObs  @ "ó©à"   .  *   KEEp ( DEnse_Rank LasT orDeR SIBliNgS By ‚®±    Ôºâ  OVEr Ôºà oRDer SIBLIngS BY ‚®± deSc  NULlS firST     Ôºâ    MULtiSet iNTeRSEct  :74  @ ""  Ôºà UNiQue Ôºâ   .  "" @ "°ñó" . NocachE    ( + )  oVER ( )      /  casT ( ‚®± AS "êêä" Ôºà dIstINct ‚®±   Ôºâ   ( Ôºâ     )  AT tiME zONE ‚®±       ||  sYs_CONNeCt_by_paTH ( DEFaUlt  _⁄™  @ :20      , ‚®±   Ôºâ      /  Sys_coNNECT_By_PATh Ôºà UNIqUe )   aT lOcaL         NOT  BeTWeen  CUrsoR ( ‚®± )  at LoCAl    MuLtiSEt InteRsect alL  + ‚®±    Mod  trAnSLAtE ( ‚®± uSIng nCHAr_cs Ôºâ  aT lOCAL    mUlTISET eXCept  Case ‚®± wHEn ‚®± THen ‚®±  eLsE ‚®±   eND  at tIME zoNe dbtimeZOne     ** CAsE ‚®± WHen ‚®± theN ‚®±   END        ANd  *      OR ( AuthENtiCaTioN  @ dEmanD    =>  ‚®± aS _2     Ôºå "" Ôºà Ôºâ   =>  DeFaulT    Ôºâ  overLAPS ( "" @ iNTerVAL    =>  dEfAulT   Ôºå praGmA  @ "Íúå" @ LONg    =>  ‚®± "·∫ú" @ :6       )      anD noT 4E3d   AT LOCal    multIsEt UnIoN  ‚Ω∂  ( all Ôºâ   .  *   % rOWCouNT    ** q'--'   at tIme ZoNe DbTIMEzOne       +  InvAliDAtiON  Ôºà DiStincT ‚®±   )   ( DistincT DEFaUlt  as #7  @ "·•¥" @ ""      )   Ôºà + Ôºâ  % FOund    ** "" @ ConTiNuE  @ :‡∏™7    Ôºà Ôºâ    % BuLK_RoWCoUNt Ôºà ‚®± Ôºâ     MUlTiset EXcepT DIsTIncT  exTrACT Ôºà ‚®± :43      , *    Ôºâ  AT tiME ZoNE SEssIontIMeZone      /  Ôºà ‚®± Ôºâ aT LOCAl         in  Ôºà  dEfAuLt   Ôºå "" Ôºà ‚®± Ôºâ   =>  DeFAuLt  "¨îæ"     )       DeSc     rangE BEtweeN unbOundeD FOLlOwINg  and CuRrEnt row    Ôºâ       mUlTISEt iNTERsEct  returNing  @ liSt  . ""   .  :Ÿô   ( + )  WitHiN GrOUp Ôºà OrdEr SiblIngS bY NoT xmlCaST ( mUltiSEt Ôºà ‚®± Ôºâ  As tImE ( aLL Ôºâ    RaNGE ‚®± ..  ‚®±    )  at local     ** xmlAGg ( ‚®± OrDEr SiBliNGS bY ‚®± NulLs fiRSt     )   mULtIsET UNIon DisTincT  xMLquErY ( *   pASSInG *   aS "" @ ""  Ôºà ‚®±   Ôºâ   Ôºà Ôºâ      rETuRning conTEnT Ôºâ   At LOCal       +  "ß¶ê"   aT tIME zoNE SeSsIOntimEzoNE    mULtiSet INteRSeCt  Trim ( ‚®± )    ** CoNNEct_By_RooT prIoR ‚®±          iS Not oF TYpE ( :15  @ "" @ aGgReGAtE     , "" @ :6    .  noREVeRSE    )     AnD CUrreNT Of  #‚Ωê  ( uniqUe "" @ ""  ( )   =>  ‚®±   )   .  *        DESC   , NoT (  TRUNcate  @ lAnGuaGe  . ""  Ôºà ‚®±  Ôºâ   =>  defauLT  aS "" @ LONG      Ôºå DEfAuLt    )  nOT  In  Ôºà ‚®± Ôºâ      Or NOT *   IS empTy        nulLS LASt     )  over Ôºà Ôºâ   At TIME zOnE treat Ôºà ExiStS  Ôºà ‚®± )    ANd EXTrAcT ( "óÜ§"  =>  ‚®±   , *    Ôºå ‚®±  ** ‚®± mUlTiSEt EXCePt  ‚®±   *  ‚®± MULTisEt EXcePT All  ‚®±    -  ‚®± muLTiSeT UNiON  ‚®±   *  ‚®± MULTisEt intersecT diSTinct  ‚®±  ** ‚®± MUltIseT intErSECT all  ‚®±       Ôºâ     Mod  ( ‚®± Ôºâ at lOCAL     ** ""  ( + Ôºâ  % bulK_RoWCounT Ôºà ‚®± Ôºâ        +  CHr Ôºà ‚®± UsiNg ncHaR_Cs )  At tIme zoNE DBtiMEzoNe    MUltiSET INTeRsEct  trEAt ( ‚®± as reF "ó®ø"  .  ""    )  . :45  ( ‚®± "´øÇ" @ "≠ñÆ" . :32       Ôºâ   .  *  ( + )    at LoCal      mOD  TRaNSLatE ( ‚®± UsiNg CHaR_Cs Ôºâ  aT LoCal     ** CURSOr Ôºà ‚®± Ôºâ        ÔºÅ =  any  ( ( Ôºà ‚®± )  )  )       aS STORE     Ôºâ  . "" @ "" . "≠±ó"  ( UNiQuE )   Ôºà DistInCt Ôºâ             ||  DatE ''      *  null   mULTiSet InTErsEcT  CONNEct_by_Root neW :9  @ :‡•∂8   Ôºà DEfAUlt  as ""    Ôºå loBS  @ fiRSt    =>  nOt Ôºà  ‚®± , ‚®±  Ôºâ  in  Ôºà ‚®± Ôºâ      OR eXISTs  ( ‚®± )         )   Ôºà + )   AT TiMe ZOne SyS_connect_By_PaTh ( uniqUe "¢ñ¥"  =>  dEFAUlt   Ôºå noT *   bEtwEEn  ‚®± MuLTiset intERsEct AlL  ‚®±   /  ‚®± MUltiseT UnIOn  ‚®±  ** ‚®±      anD  *     and NOt ‚®±  ** ‚®± MuLTISeT exCept dIstIncT  ‚®±   /  ‚®±    +  ‚®±  ** ‚®± mulTISeT ExcEPT  ‚®±   /  ‚®± mulTISeT intERsect DIStinCt  ‚®±      iS oF Ôºà LoCkinG  @ "©á¢"   .  ""   Ôºå :#  @ :#√æ  @ SOrt     )        As :3  @ ""      Ôºâ   aT tiMe zoNe sEsSiONTImeZoNe        AT timE ZONe XmlcAsT ( muLTiset Ôºà ‚®± Ôºâ  AS inTErVaL ( UNIquE dEfAulT  "§äÑ"     Ôºâ   NoLOGGiNG  @ "" . ""  ( ALL Ôºâ   ( + )  tO Ôºà )   :26      )           And  - + + ‚®± at tiMe ZoNe ‚®±    aT locAl     MUltiSEt UNIOn ALl  cHr Ôºà EXiSts  Ôºà ‚®± Ôºâ     or NOT CUrrEnt OF  "ÔªÆ"  Ôºà )      and dEcOde ( ‚®± Ôºå ‚®± )    ** ?  AT lOCAl    MuLTiSet unION  - "" ( unIqUe "•ï†" @ "ù°è" @ cOnSTrUCtOr   Ôºà UnIque Ôºâ   =>  ‚®±  , "ó§∏" @ "" . :·†Å   ( unIQue ‚®± Ôºâ   =>  DEfaUlt  AS "™ç∞" @ :4       )   ( + )  % BuLK_EXcePtIONs . COuNt       MoD  XMLAgG ( ‚®± )  At lOCaL         ^ =  *        usInG NChar_Cs Ôºâ  At timE Zone DbtiMezoNE           anD nOT *   liKE4  Ôºà Ôºà ‚®± As agENT     , C   =>  DEfAulT    Ôºâ  ovERLaps ( default   , "§∑ß" @ "†í∫" @ „áø    =>  ‚®± Level  @ :36  . "£èê"      )      And *   BeTWEEn  xmLqUERY Ôºà *   pASsING by VAlue trIM ( ‚®± )   MUlTIsET eXCept  EXTRACt Ôºà dEFauLT  GeneRATed  @ :2  . ""      , ‚®±  Ôºâ  At tImE ZOnE SESsionTiMEZOnE     ** "‚¥∑" ( Ôºâ   .  ·âñ  @ "†ê∏"  ( ‚®±  Ôºå dEfIner  @ :#  @ "°ç≥"   =>  ‚®± "‡∞û" @ :6  . Using       )    AT LOCAL    MUltIsEt intErSECT dIsTInCT  At    ovEr ( parTITion bY DEFAuLT   , ""  =>  DEfAuLT     OrDER By ‚®± nullS LaST   Ôºå ‚®± Asc     rowS beTween unBOUnDeD foLlOWIng  anD cUrrent row    Ôºâ       ||  CAsT ( muLtIsEt Ôºà ‚®± )  as TiMEsTAMp  wIth  loCal  TiMe ( "" @ "´©¢"   =>  ‚®±   )   ZONe    )    ** - ‚®±  mULtISET inTErseCT dIstincT  #  ( All ‚®± fUncTIon     Ôºå TABlesPacE  @ ""  ( )   =>  dEfAulT    Ôºâ   Ôºà DISTINCt )   ( + )  at LOCAl      mOd  TriM ( LEading FROM  ‚®± Ôºâ          RetuRNiNg cONtEnt Ôºâ   at tIME ZoNe SEssIoNtIMezonE      *  NEW :33  @ ""   ( ALL ‚®± As "£°í"    , "" @ :#   Ôºà )   =>  dEfault  As "©∂é" @ cOmMIt  @ #       )   Ôºà + Ôºâ   At timE Zone SESSIoNtiMezOnE       ||  SuSpeND  Ôºà diStINct )   ( "‡§©"  =>  DEFAuLt    Ôºâ   Ôºà + Ôºâ  Keep ( denSe_rANK LAsT ORDEr bY ‚®± DeSC  nulls FIrSt   Ôºå ‚®±    )    MUlTISEt inTErsEcT  EXtrACt ( dAy fROM ‚®±  Ôºâ  At LocAl     ** Prior u''     AT LOCal         ANd  PRiOR cURsOR Ôºà ‚®± Ôºâ    aT timE ZoNE DbTiMEZOnE    multISet InTERsECT DIstinCt  Ôºà ‚®± Ôºâ  aT TIme ZOnE DBTiMEZOne     ** nuLL     /  caSe WheN ‚®± THen ‚®±  ELSe ‚®±   EnD   MULTIseT uNIOn  tREaT ( ‚®± aS ref :1     Ôºâ   At LocAL     ** conNeCt_BY_ROot nCHr ( ‚®± Ôºâ               ) at TImE ZonE bAsic   .  "" @ "´Ω∑" . ""    keeP ( dENSE_Rank fiRst ORder SiBLINGs by NoT *   iS oF type ( only :68  @ DemAnd  . "Ø¶Ö"   .  "ó∞∑"   Ôºâ     aND noT cuRRENT oF  :8  ( uNIQUE ‚®± "ëµº" @ ExCept      , defAUlt  As Ô≥è‡±ô      )   .  "¨∂ª" Ôºà Ôºâ   Ôºà + )       dESC     Ôºâ  OvER ( partItION BY "" @ "™àö" @ ""  ( ‚®± )   =>  Ôºà ‚®± Ôºâ  OvERLApS ( ‚®± )      aNd NoT eXiSTS  Ôºà ‚®± Ôºâ     oR NOT :„Éè  @ diReCT_loAD    .  *  Ôºà + )  % NotFoUND  AT locAl      MOD  ?   multISEt EXcepT diStINct  xmlaGg Ôºà ‚®± Ôºâ  At LoCal     ** extRACt ( MinuTE fRoM daTe  ‚®±  )   mULtisET iNtERSECt  privAte    over Ôºà ParTitioN bY ‚®±  orDer SiblINGS by ‚®± Nulls FiRsT   Ôºå ‚®± DeSC     rows ‚®±  FollowInG    )   At locAl         IS Not a set     ANd EXIstS  ( ‚®± Ôºâ        Ôºå NoT curReNT OF  "" @ ""  ( ALl Ôºâ      AnD *   Is OF Ôºà "" @ SubpaRtITIOn  . SPLIT     )      oR *           Ôºâ       MuLTISeT uNiON diStINCT  SYs_CONnecT_by_pAtH Ôºà )       -  EXtrACt ( dEFaULT  :81      Ôºå "°ÄÑ" @ "" @ "°æÜ"  ( uNiqUE :_   =>  DEfAULt   Ôºå "" ( AlL )   =>  NoT ExisTs  ( ‚®± )    anD not ( ‚®± Ôºâ  oVerLaPs Ôºà ‚®± Ôºâ         As "§Ü∞"     )   Ôºà SERvErERRor  @ ""   =>  DeFAulT    )   Ôºà + )  % BUlk_ExcePtiOns Ôºà ?  At TiME zOnE ‚®±     ** "‚¨†"  .  ""   kEEP ( dEnSe_RANK FirSt Order BY ‚®± nUlLs fIRst     )   AT TimE zOne dbTimezOne      mOD  EXTRAct ( DaY FRoM ‚®±  )   mULTisEt ExcePt  + ‚®±         AND *   ~ =  TRAnslaTE Ôºà ‚®± USinG NCHaR_cs Ôºâ  at LoCaL    mUltISEt INteRseCt  :·ä†$  @ XMlnaMeSpacEs   ( UNIQUE DEFAulT  Ô≥Ä  @ :62      Ôºå ‚®±   )   ( + Ôºâ  % FOuND  At Time zOne sEssIOnTImEZoNE     ** dEcOde ( ‚®± )  At lOcAl    mUlTISeT uNION AlL  Cast ( mULtISEt ( ‚®± Ôºâ  as rEF uNuSaBLE  Ôºà )     charActEr sEt ‚®± % ChArsET     Ôºâ             )  . erroR_INdEx       +  XMlCaST Ôºà Not *   Not  BETwEen  Ôºà ‚®± Ôºâ   muLtiSet UniOn  xmlquERy ( ‚®± paSSING ‚®±  Ôºå ‚®± aS naME   .  *     REturNING cOnTENt Ôºâ     ** xmLQueRY Ôºà ‚®± pAsSINg By VAlUe ‚®± aS "®Æ©" @ #  . "™àù"  Ôºà UNiQue )   Ôºà + )    rETUrniNg conTEnt )   AT LocAl      moD  PrIOR ‚®±   mULTisEt unioN  ( ‚®± )  at TImE zoNE dBtimeZOnE         anD  *      oR CurRENt OF  "" @ "≠•ú" @ "£àù"   Ôºà AlL ""  =>  ‚®± :60      )      and CURrEnt OF  "" @ ""  Ôºà )         aS OPaQUe Fixed Ôºà pAssWOrd  @ "£ÖÖ" . InTeRFACe    =>  deFAUlT  As "ÆÉæ" @ "êπ≥" @ PArALlEl       Ôºâ  USiNG lIBrArY "" ( Ôºâ   .  *    % tYpe    )  aT tIme ZoNe SessiONtImEzONE    MuLTiSet eXCEPt  cURSoR Ôºà ‚®± )    ** new :2  @ :3  @ ""  Ôºà diStinCT NoT treat ( ‚®± As rEf :_  @ StAtiStiCS      Ôºâ   AT tIMe zOnE ‚®±            oR eXiSTS  ( ‚®± Ôºâ         Ôºâ   .  *  ( + )   AT lOCaL    mulTiSEt uniON AlL  - ‚æ∞0  @ LOgOfF    Ôºà diSTinct )   ( + )  % bUlk_RowCOUnt Ôºà *   Not  like  *   EScaPe ‚®±    And nOT Ôºà  ‚®± as "ùöÉ" @ "" @ DECOde      Ôºå defAult  ‚ªî      Ôºâ  nOT  IN  Ôºà InNeR  ( ‚®± Ôºâ   =>  ‚®±  , "" @ sHardEd    =>  DefAUlt    )        Ôºâ            Ôºâ  AT loCal     ** coNNeCt_By_roOt xmLAGg ( nOT TRansLaTe Ôºà ‚®± uSinG ChaR_cS Ôºâ  at Time zOne ‚®±       ||  :5   ( Ôºâ    wiTHin GroUP ( ORDER By ‚®±    )      /  Ôºà ‚®± Ôºâ  mULtISEt IntErsECT dISTINCT  NULl  AT Time Zone sEssiontimezone     ** xMlcAsT Ôºà ‚®± As ( FALSe  , faLse  Ôºâ % tyPe    Ôºâ  AT LOCal         nOt  IN  (  onLY  @ ""  ( UNiqUE )   =>  deFaUlt   Ôºå ‚®± "Í¨´"     )    aNd Ôºà  DefAUlT   Ôºå :1  @ ""  Ôºà ‚®± Ôºå ‚®±  )   =>  ‚®± as "£æß"     Ôºâ  >  ( ‚®± )      OR + ‚®±  mUlTisET uNIOn dIStInCt  cASe WhEn ‚®± TheN ‚®±   END     /  New "êÅö"  .  "‚üì" ( alL "ß§®" @ :5    =>  DefAuLT   Ôºå ‚®± As :4  @ "£àà" @ FOREigN       Ôºâ   ( + Ôºâ     ** New EdITionS  ( dIsTIncT ‚®±   Ôºâ   .  #·ùì     AT LOCaL       +  SYs_conNecT_by_pATH Ôºà )   At tIME zonE ‚®±      *  "" @ :#2  . :5    Ôºà + )  OVEr ( pARTiTION bY TIMEzone_hOUr  @ PeRiOd   Ôºà DIstiNcT ‚®± )   =>  ‚®±  , "™∂§" Ôºà Ôºâ   =>  DefAuLT  "" @ COMMittED  . "§Åç"       )   At lOcAl     ** xMlCast Ôºà MUlTiSeT ( ‚®± Ôºâ  as ·àã‡∫Æ  @ "¨•¢"  ( disTINct DeFAuLt  ""     )     )   mULTISeT eXcEPT ALl  Case ‚®± whEN ‚®± THEn ‚®±  elsE ‚®±   End  at Local         iS NOT EMptY     and not *   Is  NoT  NAN        Ôºâ     mUltiset uNIon  xMlquery Ôºà *   PasSinG "" @ "" . "•à¥"    At tIME ZONe DBTiMEzonE     ** cASt ( nOt ExisTS  ( ‚®± )       as doUbLe PrEcISiOn Ôºà )   chARACter seT Ôºà DeFAulT  as SeT  @ :72      Ôºå "§ò§" Ôºà ‚®± Ôºâ   =>  ‚®±   Ôºâ  oVeRLApS Ôºà DEFAuLT    )      And *   is NOt OF ( ""  .  VarrAy    , INviSIBLE  @ "" @ ""    )      oR CURrEnT Of  XmLTaBlE  Ôºà alL Ôºâ   Ôºà + Ôºâ    AND NOT ncHr ( ‚®± Ôºâ  aT Time zone SEssIOnTiMezoNE      /  "" @ :·ÄÆ‡µ∑  @ :39    ( + )  WithiN GROup Ôºà oRdER bY ‚®± aSC  nulls LASt     Ôºâ  ovEr ( OrdER siBlinGs by ‚®± desC     )   aT LocaL     ** DEcOde Ôºà ‚®± )   MULTISEt unIoN DIsTiNct  PriOR ‚®±  at TiMe ZonE dBTIMEZONE         bETweEN  tRIm Ôºà ‚®± Ôºâ   mUlTISeT INtERSect distiNCt  tRaNsLaTE ( ‚®± usinG chAR_CS Ôºâ    ** eXtRactvAluE Ôºà ‚®± aS :#  @ ""      , ‚®±  Ôºâ  at TIme ZoNE dbtIMEZONE         and  *        % ChaRSet     Ôºâ   mULtiset iNTeRsecT  connECT_By_root tReAt ( NOt ( ‡¶ê  Ôºà )   =>  ‚®±  , oVErRIdinG   =>  DeFAUlT  as ""     )  OVeRlaPs Ôºà "‚∂ì" @ lAnGuAGE  . :27    =>  dEfault   , ‚®± UNUSabLe      Ôºâ      aND *   Is  nUlL        As "Íõß"  .  scalE  @ "¶´Ø" . :9      )   at loCAl         ||  nuLl  aT Time zonE SESsiOnTImezONE      *  TriM ( LEadIng fRom  nOt *   lIKe4  "ü¶ã" @ :6     KEEp ( DENsE_rANk lAst ORdeR siBlings BY ‚®± asC   Ôºå ‚®± NullS fIRSt     )     ** Extract ( mINUte froM ‚®±  Ôºâ        EscApe ‚®±     oR NOT EXisTS  Ôºà ‚®± )    and $8.7     mod  Ôºà ‚®± ) At TiMe zOnE DbtImezOne       -  SYs_cOnnECt_BY_PaTH ( all caST   =>  ‚®± as "‚Öß"    , ‚®±   )   aT locAl    MULTIsET EXCEPT DIstiNCt  Ôºà ‚®± )  AT Local     ** CURsoR Ôºà ‚®± Ôºâ   MuLtISET IntERseCt  chr Ôºà ‚®± USINg NCHAr_CS Ôºâ  at LOCAl              Ôºâ  at tImE zONe InTErVAl '†§¶' mINUTe  To seCOnd Ôºà ''   , ''   )         MuLtIset unION  + DeCOdE Ôºà Not eXIsts  ( ‚®± )    AnD *   NOT  in  Ôºà  "" Ôºà ‚®± )   =>  DeFAUlt   , DEFaUlT    Ôºâ     or NoT CuRRenT oF  :·∫¶  @ "‡µ∞"  ( uNIquE Ôºâ   ( )   Ôºà + )    AND noT cuRreNt Of  reFEreNCeS  Ôºà ALl ""  =>  deFaULt  "" @ setTIngS  @ ·ªï6       Ôºâ   Ôºà + Ôºâ       Ôºå cUrrENT OF  "" @ "" . "†ΩÅ"   Ôºà alL )       Or nOt *   Not meMbEr of ‚®± MULTiset UnIOn  ‚®±   /  ‚®±          and Not ‚®± MUlTISEt UnION DIstInCT  ‚®±  ** ‚®± MUltIsEt IntERsECT AlL  ‚®±    ||  ‚®± multIset eXcepT  ‚®±  ** ‚®±      in  ( ‚®± )       Ôºâ     ** #  Ôºà DefauLT  CoMmITTed      )   .  *  Ôºà + )  Over ( OrDER bY (  "" @ StartUp   Ôºà )   =>  ‚®±  Ôºå :51  ( unIquE ‚®±  )   =>  ‚®±   Ôºâ  <  Ôºà ‚®± as :82  @ InterVAL  @ :#       Ôºâ      Or NOt XMlAGg Ôºà ‚®± oRDER by ‚®± NulLS First     Ôºâ     /  Cast ( ‚®± AS rEF :33  @ ""   Ôºà + Ôºâ    )  at LocAl     ** XMlQuery Ôºà ‚®± paSSiNG by ValUE ‚®±  Ôºå ‚®±   RETUrnInG coNTent Ôºâ   at TImE ZonE ‚®±    MULTIsEt EXCEPT  ?  at TIMe zoNe DbtimeZONE       -  TReAt Ôºà ‚®± As ReF "ÆÅÆ"  .  :#  @ ""     )  . "" @ "©µï" @ ""  ( diSTINcT CHArseT   =>  dEfAUlT  AS "" @ "" @ ""      )            =  aNY  Ôºà ‚®± )    aNd eXIsts  ( ‚®± )          rOws UnbOuNDED preceding    )    muLTIsET UNIoN DisTInCT  LOg   ( + Ôºâ  % noTFouND  aT LOcal         AS "" @ java      Ôºå *   AS "…¨" @ #   ( "‡º•"  =>  DefaULt   Ôºå *   not  LiKe2  - :55  @ sHUTDOwN  @ sETtinGs   Ôºà ALL Ôºâ    AT timE zoNe SesSiOntIMEZOne     MuLTiseT INterSECT ALL  xMlQUERY ( *   PASSing :91  @ ""  ( UNIque ‚®± )   Ôºà + Ôºâ  % roWcOUnt  AT lOcal    multISet iNTERSEcT  DeCodE Ôºà ‚®± )     mOD  "" @ "" . "™âí"    WiThIn gROUP ( ORdEr sibLinGS bY ‚®± NUlLS FIrst   , ‚®± asc     Ôºâ     ** XMLagG Ôºà ‚®± ORDEr BY ‚®± DEsc     )         Ôºå *   aS DEFINer  Ôºà )   .  "" @ ELSIf  . :#Í†à   ( Ôºâ   Ôºà + Ôºâ    reTuRNING ConteNt )   aT tiMe Zone COnNECt_By_ROOT ‚®±  aT tiME ZoNe ‚®±         /  ExtRaCt Ôºà ‚®±  , ÷≥   ( + )  % ROwCouNT     *  "®ΩÄ"  ( disTInct )    aT locaL    MULTIset UniOn  Ôºà ‚®± Ôºâ    ** XMlAgg Ôºà ‚®± )  At locAL       -  6.E+6F   At TIME ZonE SeSsioNTIMeZOnE    mUlTIsEt excePt all  PRIOR ‚®±     /  trIm Ôºà ‚®± From  ‚®± Ôºâ    ** ""  ( ALL ‚®± )   ( + )  OveR ( paRtITion bY ‚®±  )   AT LOcAL    mULtiSET iNterseCt  ?         Ôºå ExTrAcT Ôºà yeAR FROM DATe  ‚®±  )  At TIMe zoNE SeSsIontimEZone      /  ( ‚®± )  MuLTIset excepT  :22  @ "ÔÆò"  Ôºà )   .  *   kEEP Ôºà DeNSE_RAnk FIRSt oRdEr siblINGS by ‚®± DEsC  nULLS LAst   Ôºå ‚®±    )  oVER ( oRder BY ‚®± NUlls FIrST   Ôºå ‚®±    Ôºâ   aT loCAl       ||  sys_cOnNecT_By_PATh ( ‚®± Ôºâ     ** Ôºà ‚®± Ôºâ         Ôºâ  aT timE zONE dBTImeZonE     ** Chr Ôºà ‚®± uSinG NcHAr_CS )  aT Local       +  NulL   MuLTISet unioN DIsTINct  cURSoR Ôºà ‚®± )    ** tranSLate ( ‚®± usING NchAr_cS )  at TIMe zOnE DBTImEZone            OR (  ‚®± , ‚®±  Ôºâ  > =  Ôºà ‚®± Ôºâ     aNd *   < >  SOmE  Ôºà ‚®± )         Ôºâ      rETURNING cOntENt )   At TimE ZOnE SESsionTImeZoNE      *  dEcODE Ôºà not *   IS  noT  null     and nOT CuRRent oF  "" @ ""   ( ‚®± ExtEND  @ PATh  @ :‚≤ò       )   ( + )     OR NOT *   IS EmptY        , not TREat Ôºà ‚®± As :86     )  . DATAfILE  Ôºà UNique dEfAUlT  as ""     )      At Local    muLtiseT UniON ALl  CAse WHEn ‚®± ThEn ‚®±  eLse ‚®±   eNd        Not  betWEEN  TRIm Ôºà ‚®± Ôºâ  aT lOcaL    mUltiSet IntERseCT all  neStED   ( + Ôºâ  % BUlk_rowCOUnT Ôºà ‚®± Ôºâ      ** COnnECt_by_rooT chr ( ‚®± using NcHar_cS )  at TimE ZoNE ‚®±        *  :6  @ LoCAL   Ôºà UniQuE Ôºâ   ( Ôºâ    wiTHIn GRoUp Ôºà oRder bY ‚®± dEsc  NuLlS FIrsT     )  oVer Ôºà Ôºâ     ** nCHr ( ‚®± )        aNd  *     ANd prIor DECoDe ( ‚®± )  aT LOcAl     At TIME zONe dbTIMeZOne      MOd  CursoR Ôºà ‚®± Ôºâ        BeTWeen  *   ANd  xmLCAst ( mUltisEt Ôºà ‚®± )  as doublE pReciSiOn  raNGe ‚®± ..  ‚®±    Ôºâ  AT tIMe Zone SeSsioNTiMEzOnE    MuLtisEt uNIOn ALl  exTRaCtValue ( defaULT    Ôºå *    Ôºå casT Ôºà MuLtIset Ôºà ‚®± Ôºâ  As TimEsTamp ( DIstINct )     )  at LOCal    MuLTISeT UNioN  CAse ‚®± When ‚®± thEn ‚®±  elsE ‚®±   enD    ** xMlqUeRY Ôºà ‚®± pASSInG ‚®±   returniNg CONtenT Ôºâ    muLtiseT iNTeRsecT  + ‚®± At LoCAL      mod  "‚äΩ" @ :Ô∂∑   Ôºà "‚Ü≠" ( Ôºâ   =>  ‚®±   )   ( + Ôºâ  KEeP Ôºà DENSE_rANk lAsT oRdER By ‚®± asC  NULLS LAST   Ôºå ‚®± asc  NUllS FiRst     Ôºâ          Ôºâ  AT TimE zONE - ‚®±      ** cASE ‚®± wHeN ‚®± thEn ‚®±   enD  at TIMe zonE DbtimEzONe      /  Cast Ôºà ‚®± as RAw Ôºà All ‚®± PARTITion  @ "" . ""     Ôºå :_8   =>  ‚®± "íëç"     Ôºâ     )  aT LOCAL              Ôºâ  aT lOcal     ** Ôºà ‚®± )           OR CurrenT Of  "ùìé" @ "°†Ü" . "†ªí"      anD NoT existS  ( ‚®± )         Ôºâ       oR *   is OF type Ôºà only "ò¶ü" @ :1    .  "" @ "òÉ§" . ""    )        aS EVaLUAtE     Ôºå Ííõ  @ fReeLiST  @ sharded   ( uNIQUE DEFauLt    Ôºâ   =>  dEFaULT  :5  @ FiXEd  . ""      )   .  ""  ( + )  , "" @ "ûÄ†"   ( + Ôºâ   skiP LOCkEd   oRdeR SiblinGS bY NOT ExistS  Ôºà ‚®± )       DESc     with ChECk opTiOn    Ôºâ  seaRcH dePTh FirSt bY NOt ( :89  Ôºà ( Ôºà  RaiSe_applIcation_erROR  @ json  . #‡∏Ö    =>  ‚®± ⁄ê     Ôºå DefAult    )  =  Ôºà Ôºà ‚®± as "£Ö¶" @ FoREign  @ :63       Ôºâ  Ôºå Ôºà :7  Ôºà alL )   =>  DEFaULT    Ôºâ  Ôºâ      or *   <  PrIOr NEw "¢∫ü" @ "¢¨ê" @ "ßéÅ"   .  "¢™©" Ôºà )        mULTIset eXCEpt  XmlCast Ôºà mULtIseT ( SElecT aLL DefAULT   , "" ( DISTinct Ôºâ   =>  DEfAuLT     BuLK CoLlEct inTo nATuRAl  @ "°∂™"    , "ü•¥" @ :7  @ ""  ( ‚®± As ""     )   Ôºà dISTInCt aggreGaTe  @ :_  . DePTH    =>  dEFauLT  :”¥ÔΩ®      Ôºâ   Ôºà + Ôºâ    frOM Ôºà "·ºä" @ "Ô∞Ω"   .  "" @ "ßüö"    Sample bLoCk Ôºà ‚®± )   PIVOT ( "™õâ"  =>  ‚®±  , ‚®± As :55  @ OIdINdEX  @ oPen       fOr Ôºà RejeCT  Ôºà preCeDinG  @ ""  Ôºà )   =>  dEFAuLT    Ôºâ   ( + Ôºâ   )    iN Ôºà ‚®± )   Ôºâ    VERSioNs PeRiOd FoR "" @ _    ( UniQUe )    ‚®±  *   And ""  Ôºà + )  OVeR Ôºà PArtitioN By DEFauLT  aS bUILTIn     , :#  @ "£Æç" @ ""  Ôºà DiStincT ‚®± Ôºâ   =>  DEfAUlT     Ôºâ   aT lOcAL     ** INteRvaL '''' yeAR ( 0x   , 0X   Ôºâ     aT TImE zONE seSSioNtimezoNE      /  nChR Ôºà ‚®± )   MuLTISeT INTerSEct all  TrANSLAte Ôºà ‚®± uSING nCHAr_cS Ôºâ            PaRTItiON BY Ôºà ‚®± ""     Ôºâ   uNPiVOT ExclUDE nUlLS Ôºà :87     FOR ( "íÇú" Ôºà )   .  *  ( + )  Ôºå :7  @ IdEntITY  @ pASSWORD   Ôºà Ôºâ   .  *  Ôºà + Ôºâ   )    in ( ( "Ø®ë" Ôºà ASSOciaTE   all )   =>  ‚®± ""     Ôºâ    , "¨Ø∂"  Ôºà All "¶≥¨" @ "" @ "•îØ"   =>  ‚®±   )     Ôºâ    Ôºâ   Ôºâ     Ôºâ     stART witH ‚®±  cONnEcT BY NocyCLE ‚®±  groUP by  groUPinG seTs (  Ôºâ    Ôºâ    Ôºâ   Ôºå  grOuPINg SEtS  roLLuP ( ‚®±  ,  ‚®± Ôºâ    )    Ôºå  ‚®± Ôºâ        Ôºå   ‚®±    )           Order sIblINgS by ‚®± nUlls LaSt     fOR UpdAte waiT fAlsE     wItH READ OnlY      as IntERvAL  :4  @ "" . :6    .  ""   +   tO  ‚ºâ‡æù  @ _     dEFAUlt   , ‚®± aS ChR  @ WHeN               at loCal       +  ""  AlL     % BULK_eXCeptIonS . couNt    MulTIsET INTERsEct  CaST  mUlTIset  SELect CLob  @ "°üå" . "†Ωµ"   ‚®±    =>  DeFauLt  "óπó" @ PrIor  @ ""       froM xMltablE  TimESTAmP ''   pAsSing BY vALuE :·§ß9   =>  dEfauLt   Ôºå DEfault  AS ""      coLuMNs ‚®± inTerVal  unique    LEFt  @ "" @ :70    aLl defAult       .  ""   +   tO  DIstInct    "°á∫" @ :„Ñä  . NOrEvERse        +    cHaraCteR seT ‚®±    dEFault ‚®±     UnpivoT  :·ø≠9  @ "®òå" @ "îìû"    +    FOR "õáΩ"  aLL "¨Åæ" @ "¢ú∏"   ‚®±    =>  ‚®±       All       In   CasT        +       aS  $7.       , ""  .  *    as  TImestamP ''                :95  @ SubMULtIseT      pArtITiOn by  :#   ‚®±    =>  ‚®± aS :7           WHERE ‚®±  conneCT bY ‚®±  hAvING ‚®±       as opaqUe FixED    UsiNG liBrAry AfteR    all dEFAuLt  #     , DefAuLt        +   ;  % ROwtyPe        ** - NEw "´±Ö" @ ROwtYPe  . "üò∏"   aLL ‚®± EAcH  @ "ù°†"     , DEfauLt         At TiME zonE ‚®±    AT time zONE SEsSiOnTImEzoNE           ANd nOT exisTS   wItH ""  .  TRansLate  @ :20  @ jSOn_tablE      "®á¥" @ "" . "™Öå"   ÔØô3  @ "©≠Ω"   =>  ‚®±  Ôºå ‚®±      .  "" @ ""   UnIQUE     , #       as  ‚®±   CYcLE ID  @ :1  . "¨í§"   .  *   +    SET ""  .  "" @ :5      To .3d    DEFAuLT ''''        ‚®±             MuLTiSEt eXCEPT all   not  "" @ "§≠ª"   =>  ‚®± as suspeND  @ exiStS  @ :3      Ôºå ""     =>  ‚®± as "üì∏"       OvErlAPs  ·áø·É∂   all ‚®±    =>  DeFauLt  :15     Ôºå ‚®±         anD *   IS NoT OF tYPe  OnLy "" @ moNItORiNg  @ lisT           or NUll  at lOCAl    mUlTiseT UNIOn  :_  @ dAta            +   oVeR       ** - ""   +   wiTHin GrOUP  ORDER SIBlingS bY ‚®±       At tIMe ZoNE dbtimezone    aT LocAL      /  "îí°" @ "ó∞†" . ""    aLL INvAlidate      =>  Default   Ôºå DEfaULt  As :9          aT LOcal         is a SEt            *  ExTRACT  TiMEZONe_abBR fROm nOt cUrreNT Of  "´Æπ" @ :Ô∫Ω4  . "Æëß"            AT timE zoNE SesSiOnTImezone    MulTisEt eXcePT alL  XMLagG  treaT  ‚®± AS REf "" @ "Ô∑¥" . PeRioD          mULtIseT union ALl  cuRSOR   ‚®±   For UPdatE oF  :1   dEfauLt  as hiGH  @ "" @ "´†ª"         .  *     oRder by ‚®± nulls laST        aT time zOnE EXTRACT  monTh FRom ‚®±    at LOcAL        ** NulL      -  "¢≠ú" @ "§ìΩ"   DisTINCT     "≠Éß"  dISTINcT ‚®±    =>  ‚®±  , ‚®± EXTEnded          +     ** TRaNSlATe  ‚®± uSINg nCHar_cs    mULtISet EXcepT  ?        Not  in  *      aND NOT eXISts   witH "°ôê" @ #    .  "¢¢∫"    :24  @ :#„Çö  . iD    .  :5   diStiNct JsOn_taBLE   =>  deFaUlt   Ôºå ‚®± "" @ ""             AS  ‚®±   SEArCH dePTH FIRst by ‚®± ASC   , ‚®± AsC    sEt COMPlETe   .  ""       sELeCT DEfAulT   Ôºå "ùë°" @ "" . ‡§°Ô≥•    =>  ‚®±    INtO "‡§Ä"  aLl     +     FrOM  ‚®±    rIgHt OUteR  JoIn  tAble  ‚®±   PiVot xMl  "Í®∂" @ DAtA  . :#       =>  DeFauLT  cOntEXT      for  :4    ALL     +   Ôºå :7         IN   FORAlL  @ "ß∑Ö" @ "·î∞"   =>  ‚®± aS oNLINe  @ HEap  . "©±£"                    usiNg  "‚ó´" @ ·πÑ5  @ :8    UnIqUE ‚®±  , deFAULt           unPIvOt INClude NuLls  "" @ "´†î" @ "™Çñ"    +    for  iNDices  @ ""    +   Ôºå :„Üâ1   ‚®±  , ""     =>  dEfAuLT  ""         ""  =>  dEFauLT  As ""              In  STORe  @ MoD  @ _Ô∫¨    DiSTinct "©õî"  =>  ‚®± "üá™" @ ""     , :87  @ TImEZONE_rEGioN  @ "îòÇ"   distINcT    =>  DEFauLt       .  *     ,  "" @ :10        RelAtiONAL   =>  ‚®± aS begInning  @ "" . "™úØ"     , ‚®±       +   Ôºå "°≥ñ" @ "‚°≥" @ ·É™    dIStIncT    .  *   +       aS n''''               wHERe ‚®±    ORDeR bY ‚®± NULlS LAsT   , ‚®± NULlS laSt     WitH CheCK OPtIon  CONstrAiNT unLiMItED               At lOCAL         nOt  LIkEc  "ù§Ä" @ :#€ü       .  "ùùΩ"   % bULk_rowcOuNT  nOt CUrrenT oF  dElETE  @ ""    +                  eSCApE *                   =>  dEFaulT  as :58        ovERLaps  DeFAUlt             ASc  NuLls LasT    sET #  @ wrITe         SelECT UNIQUE *   NoT  Like  trIm  NoT  DeFAUlt  "" @ ""        OVERLapS  synonyM   diStinCt ""  ALL ‚®±    =>  *   < =  xmlcaST  muLTIseT   ‚®±   for uPdATe  oRdeR sibLINgs bY ‚®± DEsC        aS nATionAl ChAr  aLL        AT tImE ZONe dBtIMEZONe     ** :1  @ SCn    ‚®±    .  :5  @ qUeRy        wiThIN GrOuP  ORDEr by ‚®± asc       OvEr  PaRtiTION by ‚®±  OrdER by ‚®±                  aS ""        =>  DEfaUlT               at TIme zOne extRacT  ""  =>  NOT CuRReNt OF  :Ôæî           Ôºå "ó™ç" @ ""    AlL     +   % rOWCoUNt         ,  nOt *   < =  Some    DefAuLT  aS shARd                At LOcaL            At tIme zONE SessioNtImezone        ** sys_ConNEcT_By_PatH  dEFaULT  "§ëÉ" @ :_8                        fRom tABle   ‚®±   orDER SIblINgs By nOt   "·ç≠" @ "•ç±"   UNIQUE    =>  *            >   ‚®±         NUlls LASt     FoR UPdAte Of  REjECt     wAIt q'__'     wItH ReAD onlY  CONStRainT :8   cURrEnt OF  "§îö" @ :9    .  ""   +                   PARtiTIOn bY  auTonOmoUs_TranSACtiOn  @ CHarseT    dEFaUlT  ‡∂ï·Ü§  @ :1          =>  DeFAuLT  "Í´Å"        PIvOt xml  InsteAd   All    =>  noT *   In  eXTRAct  SECOND FroM dAte  Exists   WiTH VISIBlE  @ "§¨Ñ"    aS  ‚®±     SELeCT deFAULt  "†≥è"      INTo "" @ "°Æã"         From  ÔΩó4  @ "ò•å"    SAMple bLOCK  "" @ meMBer     +   WIThIN GROUP  orDEr By ‚®±       AT lOcaL     ** conNECT_By_rOoT SYs_CoNneCT_By_paTH  DISTiNcT :”†‡Ω±   =>  ‚®±      AT LoCAL           NoT  BetwEeN  *   anD  *          seEd  Not TRIM  ‚®± fRoM  ‚®±         likE  *   Escape ‚®±           aS oF pERiod foR ""   DIstincT NoT EXisTs   ‚®±              +   BEtWeEn      PArtiTIoN bY   cAscade      =>  defAULT  as "‚Åç" @ :75         ovERlaps  DefAuLt  As :17                       pARTITiOn BY  ExISTS   ‚®±             PIvot  eNCrypt  @ ""   =>  NoT *   IS  NOt  iNFINiTE        as _      fOR "‚∞Æ" @ "·∂ü"   all SesSiONTimEzOne      =>  DefAULT  "" @ DePth           "§°ö" @ "ßΩá"   =>    DEfauLt      NOt  iN     locaTOR  @ ""   Distinct    =>  ‚®± "´Ωù" @ :4                   as :41  @ ForAll             IN  aNY                           ** ?  aT tIme zone DbtiMEZONe                 For  ""  NOT falSe   At tIme zOnE sEssiontimEzOnE     ** trAnSLATe  cuRrEnt Of  _    uniqUe          usinG nChaR_CS   AT LOcaL         Not SUbmuLtIsET oF "™≥ª" @ ""   .  *   kEEp  DenSe_raNK fIrST orDeR siBLIngs by NOT exisTS   wITh :ƒã4     "¨∑º" @ eRRORS    "£à¢"  =>  defAuLT        +      aS  ‚®±      ‚®±   wITH CHEcK oPtIon  cOnsTrAINT dISallow  @ :‚≥≠              ASc          ** extRACtvALUE  defAuLT  NOparALlel      Ôºå cast  MUlTisEt  sELeCt UNiQUE ""     =>  DEfault     bULK CoLLECT iNTo :3  @ ""   distinct     +     FROm jSon_taBLe  NOt Date ''''     ** ExteNT   .  "" @ ""       +   % BulK_eXCEptiOns  ‚®± in    DEFAULt             . eRROR_INdEX   aT LOcAl         IS a set        Ôºå ""    ColUMns  "•¢™" @ "ìèë"    FOR oRdiNality       verSIonS betwEeN scN  *   AND *     UNPIvOT INCLudE Nulls   #   All :33  @ KEY    =>  ExIsts   ‚®±        aS #Ôµì  @ :1               fOR ""   +     In  REUsE  @ "êπ†"   ""  =>  Not cuRsor  ‚®±         Is  Nan                        AS "‚•¢"     unpIvot EXCLuDe nulLS   "£´≤" @ SUspENd    ALL    .  fORall        fOR :78   unIqUe NOT *   iS NOt OF  :7                      +     In   inDicAtor    +       aS truE               sTarT WitH noT CuRRENt OF  "§™ü" @ "ßë∑"   dIStiNCt DeFAUlt  As :“Ö                cOnNECT By nOT *   NOt  bEtweeN  neW "†±å" @ OVErLAPs    All dEFAulT  "" @ ""               At lOCAL         anD  "¶µë"   +               GROUP BY         HavInG *   IS  INFInite           fOR update of  #5  @ rejECt      SKIP loCKED   WITH rEAD only      aS Ref "ßåè"  UNiqUe     +    % ROWTyPe        ** -  witH "Æû©" @ ""    AS  ‚®±   SEaRCh breAdtH FirSt bY   :2  @ "ëÄø"   =>  currEnT oF  "üôû" @ CHar    "¢Üµ"  =>  DeFAUlT       .  *            iN     cUrREnT of  SecoND  @ :4    aLl     +        As "¶éò"                 asC  nUlls LasT    Set :#6      Cycle InVaLidAtIoN  @ ""   ALL     +    SET "" @ "Í†ã"     TO tiMESTamP ''    DEFAuLt INtERVAl '''' YEAR  TO daY  0x            SEleCT uNIquE :M„Ç¶   =>  DEFAUlT  NoSORt       FrOM  ‚®±   As sTartUp  @ eXIt      pARtitioN by  NOT ‚®±      is  NOt  nULl               wHErE *         coNNECt By nOCYcLe Not exIstS   ‚®±         StArt wIth NoT ‚®±              OrdER by *   Not  In   ‚®±        Asc        AT tIme zone ‚®±           Ôºå ?  AT tIme ZOnE sEssIonTiMezOne     **    "ó∂Ü"  =>  dEfAuLt      NOT  iN   SelECT dEFAuLt  as "" @ ""       iNto "" @ :‡Ωö‚æ∑    .  "ó±Ç"  ""  ‚®± =>  NoT CUrrENT oF  ‚®±            =>  *   is OF TypE  OnLY :4  @ __             ""         +     FrOm JsOn_TABLE  nOt eXistS   ‚®±        cOlUMNs  nEstED path n'·ÆØ'    COlumns  RoWcOUnT    oPaQUE FIXeD  *   ~ =  + ‚®± at tiME ZOne ‚®±              AS "êÇî" @ ""        uSING LiBRArY :27  @ "ìÜ∑"    ALl DEFaUlt         range nOT EXiSTs   ‚®±        ..   CompUTaTIoN  @ :_0       =>  DEfaUlt  as :20  @ OID         ovERLAPS  ‚®±               PATH nq'(ßùá)'                  wHERe eXiSTs   ‚®±         cONNECt by nOcyCLe nOt + ‚®±   ** DECoDE  ‚®±         LiKe4  NUlL  At Local         eScaPe ‚®±        Having nOT  ‚®± as :9        oveRLaPS  DEFaUlT  "£°å" @ "£êè"                group bY RoLlUP   Not ncHR  ‚®±   at lOcal     ** Sys_CoNNECt_bY_path  distINct          Between  *   anD  *                     wITh cHECk OpTIOn  ConStRAINT COnstanT                        at lOcAl                      +        IN  *   nOt  BEtWeEN  *   ANd  cOnneCT_BY_roOT syS_cOnneCt_By_PATh  creaTioN   dIstinct    =>  dEfaUlT       AT Time ZOnE new ⁄¶4  @ "ñ§è"          At time zONE dBTimEZONe               AS :57              STArt With XmLAgg  NoT CUrrenT Of  "™†™" @ funCTIOn          OrdEr BY nOt *        NUllS LAsT             MembER Of identIFIeR        +   oVEr       **   ""  NoT "¢ºª" @ SCN    dIStINct     % foUnD    ** pRIoR - ‚®± At TImE ZONE SesSioNtiMEZOne     At LoCAl         iS  not  iNFINITe        "†™Ü" @ _          =>  noT CurreNT OF  "ìÇõ"            oVerLAps  "°Ω©" @ ""   alL    =>  DefAult                            connEct by *   ^ =  AlL    laST   defauLt  ""        =>  NoT *   Is NOT of TYpe  OnLy :5  @ "†±ä"            as :_                hAviNG eXistS    ‚®±   For upDaTE NoWAIt   oRder BY EXisTs   ‚®±        NULls LASt     WITH ReAD Only            GRoup bY TRIM  nOt *   Is Of  "" @ DeFINeR             fROM  NoT cUrreNT Of  ‡™®    +          aT LOcAL     ** XmLAGg     "" @ "ò†ô"      =>  DEfault      NOT  In   "©§â" @ "·¢ó"   DEfAUlT  "ﬁ†"        =>  ‚®±           As KEEP        OVERlAPS  DEfaulT  "" @ “í„Öá                ORDER sibLinGS BY nOT TRAnsLATe  Not *   Is  nOt  NAN        uSing Char_Cs   aT TImE ZonE dBtimeZone     ** TreAt    "" @ mAPPInG    =>  ‚®±     ! =   wiTH "¢Ω≤"   as  ‚®±   CyClE EXtERnalLy   .  *   +    SeT :21  @ ""     tO 0x    DEfaULt iNtERvAL 'Æäé' montH  TruE      TO mOnth         ‚®±   ORdEr SIbLings bY ‚®± NullS fIRst              aS ""      . pREsErvE   diSTINCT NOT *   betwEen  CaSE ‚®± ElSE ‚®±   enD        aND  xmlqUERy  ‚®± PaSsiNg bY VALUe ‚®± AS :3      ReTURNiNG COntENT    At TIMe zOne ‚®±                    +           noT  LiKe4   WITH cOntiNUe  @ “£     as  ‚®±   SeaRch BreadTh firSt by CURreNT OF  ""  dIStinCT     DIsTINCT iNVISIBLe  @ "•§†"   DEFaUlt  aS ""        =>  DefaUlT  :2          +        ASc    SEt "≠é∫" @ "Æë∏"      cYcLE LOgoN  @ :·∏ù‡≠™    uNIQUE    .  *   +    SEt INVaLIdaTe  @ :3      to 0X    DeFaULT TiMeSTAMp ''       SeLEcT "" @ "¨ãâ"   =>  DeFAult     BULK cOLlECT IntO "¨óû"  .  *     fRom THE  ‚®±     UnpivOT  fUlL     fOR  HASH  @ "•ë•"      .  "üôë" @ "ü¢°"    +        IN  RaiSe   alL     *   IN    "•Ω£" @ :1    unIque ‚®±      =>  ‚®± :37  @ :#8              "¨Ç®" @ "´øò"           as  ''''                 START wItH not eXISTs   ‚®±         cONNeCt bY curreNt oF  AGgReGATe  @ "§ëï"              groUp BY  cuBe  nOT *   is  NULL                    HAvinG ""     ** ""  DisTINcT deFault  aS ""        .  "" @ :#œâ     +   KEEp  DENSE_rAnk LAST OrDeR bY ‚®±      oVEr  parTITIOn bY ÔΩÉ  @ MAXTraNS    :29   =>  DeFaUlt       =>  ‚®± AS WiTHIn       oRDeR siBlINgS By ‚®± nULLS LaST     ROwS betweEn CURReNt roW  ANd uNBOUNDEd PRECEdiNG       aT locAL         IS Not EmptY                         ASC  nulLS LAst             NoT  iN  *                ORder SiBlings by NOT CoNNeCt_by_rOot PRIor "°≥õ" @ fUncTIon     dIStinCt     +   % BUlK_ExCePTiOns . coUNT   at LOcAl     AT tIme zOne 8.E-4       at loCAL         < >  *        nuLLs Last     for uPDATe  wITh ReAD oNLy      Cycle :69   dISTiNcT "™Öå"  uNIqUE CUrreNt OF  :Ô±Ø  @ "ù°•"      .  ""   +             =>  DEfAUlt         sET prIMary     to FaLse    dEfAUlt DATe ''        SeleCT uNiquE "™ÑÉ" @ "‚ºß"   uNIQue    =>  :84    +   oVER  PArTiTioN By dEFAuLt  as "" @ dENse_RAnk        ORDER siblINgs by nOT   nOT ExIStS    ‚®±   oRdeR by ‚®± DEsC     fOR Update SKip LOckEd               <    :#8   =>  deFAult                    at Time zOnE DbtIMEZOnE     ** xMlCAST  nOT EXisTS   with yeaR     "" @ ""       +      As  ‚®±   seARCh DEPTH fIRsT BY *   BetwEEN  *   aNd  nEw :5  @ minEXTEnTs     ""  defAULT  ""        =>  ‚®±                   NUlLs laST    SET _  @ cell_FlaSH_CacHe         SeleCT Not cURreNT of  ""  All              "ßåº" @ "ÆìÇ"       INTo DENse_rAnk  @ ""   .  *     FROM XMLTabLE  XmLNAmespACES  defauLt nq'+¶ãù+'     Ôºå '≠Ü§'   cOLUmnS .0E4f   AT TIme zONE sessiOntImEZoNE         lIKE4  *   escape ‚®±       REf :24   .  *   +     Path DATe ''       AS OF sCn  "·äµ" @ :_    =>  DeFaULT  "ë´≤"       pIvoT xml  SEcONd  @ "•Øæ"   aLL    =>  *   iS NOT a SeT          FOR out    DIstiNcT dEfAult  AS :8          +     In  ‚®±             WheRE NoT *           For upDaTE Of  ·á∂Í†Ç  @ BloCK      NoWaIT   with ChEcK OptION  CONSTraiNT "ëò∫" @ #              As dOUblE prECISION  unIQUe :5  @ "†Ç•"      =>   eXiSTS   wItH SkIP  @ "·òó"     "£≤ó"  dIStinCt ‚®±        aS  ‚®±   seARCh bReAdTH FiRst By ‚®± asC    SEt "ÆÜí" @ AllOCatE         SElECt uNIQuE ‚®±  BUlk colleCT InTO "•åÅ"      +     frOM  ‚®±    pArTItIon bY  ‚®±      CoNNEcT By NoCycLE ‚®±  start wiTh ‚®±  haVIng ‚®±    wItH reAd oNLy  coNSTRAint :·Å°   ‚®±                  OVERlaPS  defauLT             as raIsE_ApPlicATiON_ErROR  @ :·ÇßÔ∞¥          % ROwtYPE                 nomAxVaLuE  @ "©ÄÄ"       from  jSoN_TABle  not xMlqueRy  *   pASsiNg By value DeCODE  NoT xmLcaST  NOT exiStS   wiTh "ß™∂"    :39  @ eLsiF       .  *      as  ‚®±   cycLE "" @ ""    uNIQUE     +    SEt "¶£á"    To NQ'|£¶â|'    dEFaulT tIMeStAmP ''        ‚®±   FOr UPDaTe Of  :1     Skip LockED   ORDeR by ‚®± aSc             aS ""  uNbouNDed  @ ResuLt_cAcHE    =>  deFaulT       .  ""   +      aT LOCAl     ** + ‚®±       Like  *            ** "£∏´" @ ""   All ""  rOLLUp  @ :4    =>    CuRrent OF  "" @ "¨£≠"         AS _7        in     defaUlT                :‡´Æ  @ ""         =>  DEFAuLT            % NOTfoUnD  AT LOcAl           ReturNInG conteNT    At TIME zONE dBTImeZONe         iS NOt OF  oNly "·°ó"           FOrMaT Json COluMNS  fInAL  @ :6     :4   UNiqUe     alL pARaLLEL_ENAble  @ "‚´æ"   DeFauLt  As "" @ "‹∫"         =>  nOt "" @ scOpE     +   Keep  DeNSe_Rank fIRst ordER SIbliNGs By "ùÄï"  dIStinCT ·°û   =>  NoT ?  At LOCal     ** "" @ sTAtiC     +   % BULk_RoWcOunT  ‚®±           ! =  sOme   WITH :2    As  ‚®±   search brEAdtH FirsT BY ‚®± DeSC  NuLlS fIrSt    SET "Æ®ù"        ‚®±   ORDer by ‚®± asc                  .  :70   DEfaUlT        +   ovEr           NOt Member OF *          NuLLs LaSt       OVEr       ** nAME  @ NOcYclE       .  *   wiThiN GroUp  ordeR SIBLIngs BY *   not  iN   seleCt ""  =>  Not cuRrEnT Of  :#ÔΩ∞   AlL          as "" @ ""       inTo "" @ "óΩã"       +     FRom xmLTabLE  4  paSsing DeFauLT  MOvEMeNt          VErsIons pERiod foR ATTribuTes   .  "" @ VArRaYS     bETwEeN  *   AND exTracT  TiMEZONe_miNute fRoM dATe  not EXISts   ‚®±           At TIme ZOne SESSIontImEzonE     ** xmLAgG  Not *   =  transLAtE  ‚®± UsiNg NcHAR_CS   at tIMe ZoNE ‚®±                          cRoSs JOIN  ‚®±  PivOt xmL  "¨®õ" @ :29    =>  DefaUlt    For  #    UNIQUe ""  =>   DEfauLT      oVERLAps  ‚®±            "‡•µ" @ "¨±ø"          +        in  ‚®±          WHEre *   nOT  iN   ‚®±         HAvIng  tRue  @ "òáî"   UNIqUe    =>  defaULt  :63  @ nOREveRsE         oVeRLaps  ""     =>  DEfAULt  As :71  @ "•¨ï"                  For UpdatE WAit u''     WiTh Read onlY                oVEr  pArTItIOn bY "¢Å¨" @ TRUnCATE    =>  Not nulL        < =  CAst  NoT eXistS   SeLeCT DeFAuLT  ""      BULK coLlECt inTo DOuBLE   ‚®±       +     FROM :Ô∞¥6  @ ""    as of PerioD foR _    ‚®±     "§ì∞"    pArtitION By  DeFaULT         where ‚®±  GRouP By             HaViNG ‚®±    OrdER SIbliNgS By ‚®± ASc  NulLs laSt     FOR UpDaTe          aS LOng rAw  UnIque pUbLiC  @ ""   UNIque    =>  nOT cURREnT oF  "´Øõ" @ _        +        aS ""             at LoCAl     ** caSe  eNd  aT TimE ZoNe dbtIMEZOne                 ordeR By  *   iS of TYpe  onlY :7  @ cLOse                 overlapS  SEarch   =>  NoT ""   oveR  PaRTiTIoN by :·å±·åÄ  @ ""   ‚®±    =>  ‚®± as ""               IS  InfiNitE        "©ÅÆ" @ BUiLtin                nULLS FIrsT     rANge CURRent OF  "•üÜ" @ "îíß"          FoLLoWiNg             nOT  LIKE4  *        ""         +   charaCTER set *   LikE2  curSOR   ‚®±      At lOCaL         eScApe CurreNT oF  "" @ :_6    AlL                   exIStS Path iNTerVaL 'ß¶≤' yeAR  ''   Ôºå 8F                PARtITiON BY  DefAuLT       Pivot  DEfAULT  aS :17  @ "≠∂Ä"      fOr  REpLACe   aLL DefaULT  :7              +        In   WAIt   aLL Not *   Is nOT a SeT             =>  DEFaulT       aS ""             PIVot  "" @ ""   =>    defaulT      < =   WIth ReDuceD  @ #      "Ø•∂" @ :5        aS  ‚®±   CYClE Except     SeT :·§ïÔªõ  @ "·º¶"     tO InTErvAL 'ñ†°' HOUr     DEFAUlT q'.™ÆÇ.'        ‚®±   FOR uPDAte of  CoMMiT   all "" @ DENSe_RANk       =>  NOT currENT OF  :4  @ "®∞ï"    +        ‡¨õ_          +     ordEr by NOt "•¥Æ" @ stAtiSTIcs    UniQUE :23   =>  exiSTS   ‚®±              At timE ZoNE SeSSionTImEZONe     ** TREat  *   ^ =  deCODe  ‚®±     ** ""   +   % FoUnD  AT LocAl              aS "" @ SoRT        . trunCATe  @ "≠®™"       aLL     +                dEsC     witH chEcK OpTIon            AS "§ûá" @ "´∑è"      FOr "" @ pROfilE       .  *     IN  sELeCt aLl not *   nOT  BetwEEn  CAst  mULTiSet  ‚®±   as  TRUe  Ôºå False   raNgE nOt CurrEnt oF  ""  :#8   =>  DEFaUlt  as »ç„Ñü          DIsTInCT     +        ..  nOT *   IN    :95   not Exists   ‚®±             =>  DEFauLt                  ** ExtrAct  tImEZOnE_HOur FrOm trIm  *   suBMuLTiSEt Of PRIOR ‚®±  At tIME ZOnE dbTIMEzone                  At lOCAl     ** CHr    ‚®± "" @ SEsSionTImeZoNe         NOT  IN   ‚®±         uSINg NChaR_cs   At locAl         Is  naN                 aND  *        "òç¨"      buLk cOLLecT INTo "" @ ""    DIStInct "òâ∞" @ "•á´"   =>  DeFAulT          From thE  ‚®±   UnpivoT   ""   +       FOr CAll      .  :7  @ autonomoUS_TrANSacTIon    diSTINCT nOT cUrrEnT OF  :‡©ç  @ _·†ß                   +     iN  "≠†ü" @ Quota    unIqUE defaUlt        +            VERSioNs betweEn SCN  Null        AnD *      unUSED        STARt wIth  DEFauLt  As :·Äâ  @ "‚ßΩ"        OVerlAps  "óÇ¨"  =>  dEfAult              CONneCT By eXISts   ‚®±         GrOUP By    ‚®±                          uNpIvot INclude nULls   sEeD  @ ""   .  *       foR  opERAtIons   dEfaULT        distIncT "ß∑¥"  =>  nOt + CaSe  END   At tiME zone SYs_COnnEct_bY_PAtH          ** "" @ "ë∞ª"    WiThiN gROuP  orDeR SIbLINGS By EXiStS   seLect :3   =>  NOT  ‚®±         iS nOt oF  ""           AS "" @ :8        from JSon_tABlE  NoT *   NoT  bEtWeen  *   aNd  xMLQUErY  *   pASSIng exTRAct  ERROr_coDe   dIsTinct    =>  DEfAULt  #      Ôºå ‚®±    AT TiMe ZoNe SeSSiONTIMeZONE         aS "·∫µ" @ #9    dIsTiNCt ‚®± INTeRfacE            rETuRning coNtEnt    AT tImE zoNE SEsSIonTIMezOnE     ** xmlQuErY  *   passING BY vAluE xMLcASt  ‚®± aS NchAR VarYINg      AT LoCAL         as aLwAYS  @ "·°É"    +     ReTURNiNG coNteNt               foRmAt jsON Ôºå :7     COLumNS  NESTeD 2D    cOLUMns  "" @ ""    eXIsts            pArtiTION by  "¢´≠"     =>  NOt *   < >  Any   ‚®±            JOin   ‚®±   As Of timesTamP  rowId   ALl    =>  DEfAuLT      uNPivOT inCludE nUlls  "" @ :9    CurRENT Of  #  @ :9          aS "ëúê" @ ATtriBute           +    FoR "©æì"     In   ""  :ÔΩ•  @ ""   =>  deFauLT       .  *   +                 NatURAL jOIn  The  ‚®±   As ""      On nOt CUrRenT OF  "‚≤ä" @ ReLies_on    DIsTiNct    .  :77           pivot xMl  :‡≤∂   .  *   +   % bUlk_eXcepTions  ‚®±   . ErrOR_CodE     ** NULl        Not  like2  *   escApE ‚®±         for "≠Ä≠" @ ""   all     DEfauLt          In  AnY            COnnEcT BY   ‚®± noOrdeR  @ ""        >    DeFAulT  "≠âê"                sTarT wIth *   IS of TYPe  gLOBALly  @ "íáò"             grOUP by           for UpDatE Of  :57    alL "" @ MeMoPTimIZE       =>  nOT   "" @ ""      =>  DefaulT  as inTeRVAL        NOt  In    :7   ALL ‚®±    =>  DeFAuLt              As cuRrEnT_UseR  @ :#           +    skIP LoCked           DeSC  NULls FIRST       oVer  ORDeR sIblInGs bY deCodE  not EXIstS   WIth "" @ LESS     AS  ‚®±   Cycle lonG     SET "¶Éß"    to iNtErvAL '' MInute  fAlsE      to MonTh     defaulT $6.1       ‚®±   witH checK oPTiOn  ConstrAINt "" @ "ß´Æ"               At locAL     ** ExtRaCTvALue  deFAUlT    , *      At time zonE DBTIMEZone         in  xMlAgG  nOt + ‚®±            oRdeR sIblingS BY *   beTWEEn  cuRSoR  WITh ""   aS  ‚®±   SEarch DepTH fIrst By ‚®± nullS lasT    seT :·Ωõ  @ "ìÇÄ"        SEleCT AlL ∆ø  @ "‚•ä"   =>  ‚®± As ""      INtO "§Ωü"  diStincT ‚®± AS nEw         .  ""   +     fRoM "üò¢" @ nO      pARtItiON by  ‚®±        Where ‚®±  connecT BY NOcyClE ‚®±    For uPDAte nOwaIT   WITH rEad oNLy      At loCaL     ** DaTE ''         And  sys_ConnecT_By_PATH  All               DEsc       At LoCAL               NULLS LaST              lIkE2  exTrACT  DAY FRom DAte  nOt *   NoT  in   witH :39  @ rOLlup      :4   uNique "°íÅ" @ "óªª"   =>  DEfAULt  :2          +      aS  ‚®±   sEarCh BReADTH fIrsT By noT  PARtITioNs  @ #‚æØ    =>  ‚®± as "ó∫ñ" @ ""        ovERLaps  ‚®±              set ""     CYCLe FOrce   "" @ :‚øÖ‡∏•       =>  DefaUlt         set bODy     To 0x    DeFaulT ''        ‚®±   OrdEr bY CUrrENT of  ""  ""     =>  DefAulT  "¶íÑ" @ #               +        dESc  NUlLS LaSt     wItH rEAD OnLY  ConStrAiNT "" @ "îî≤"                aT TIME zonE ExTract  NOt tREAT  CUrrEnt of  optiMal  @ ""   unIquE ‚®±      .  *        As ReF :38  @ KEEP         at TIMe zonE DbTimeZoNe     ** JsOn    oVeR  PARtiTION BY dEfaulT     order bY NOT EXIstS    ‚®±   oRDEr SIblINgS by ‚®± DEsC             aSc     RAnGE bEtwEen *   is  NOt  nUll         FOlLOwING  anD UNBOuNded PrecEdING             nOT SubMuLtIsET Of *          COlLEcT  @ "≠ó°"      Ôºå PrIor ‚®±  aT TiME ZoNE ‚®±          , :7    +   % rOwCOUNt  aT time ZonE ‚®±     ** "" @ "≠Ü≠"    keep  DENSe_rAnK laSt orDeR sIbLiNGs by noT *   SuBMULtiseT oF *                              ** CoNnECT_By_roOt :4  @ :‡∂ª     +   WitHiN gROUP  OrdeR by   ""  aLl    =>  DEFAUlt  AS ""       <   SElEct alL loCKed  @ :16    disTiNcT    =>  dEfAulT  bufFer_POOL  @ "≠Ñπ"       From xmLtAbLE  XmlnAmEsPACEs    Ôºå ''   PASsING bY Value DEFaULT        AS oF TiMESTamp  "" @ :#    =>  DefaUlt        pArtITioN BY  NOT eXisTs   ‚®±            natURaL jOiN  "¨ëô"   paRTiTion  MaXVALue   nOt - ‚®± aT LoCAl              as :1  @ conVeRT           :4   =>  ExiStS   ‚®±        ""            parTITIOn BY  *   Is NOt of  oNlY "" @ bUlK                     whERE nOt  defAUlT  SECOnd  @ ""        oVErlAPs  €Ü   "" @ :#2    =>  ‚®±      =>  DeFAulT                ORdeR bY   ‚®±     IN   ‚®±         asc     FOr uPDAtE OF  "Ìüñ"  unIQuE    .  "•∫•" @ :4    all     +    SkIp LockED            NuLLS fIRST          at lOCal         ESCapE not *   betWEeN  *   and  NChR  "™ß°"   DefaUlt  AS eXcepTioNS          % bulK_RowCouNt  ‚®±       ** CURSOr  WitH "•õô" @ "‚øã"    AS  ‚®±   searCh deptH fIRSt by ‚®± nuLlS FIrsT    SET "®èá"     CycLE #_   DIsTINCt     +    sEt SiZe     TO 0X7    defAUlT 5      seLeCT disTINCT „Ñë  @ ""   =>  ‚®± as ""      fROm   ‚®±  Pivot Xml  :23  @ ""   =>  dEfAULt  AS rowtypE  @ "°úë"      For  RoWtYPE  @ scN    alL     "" @ “ù‚≤Ö       =>  DEFAUlT        +        in  ‚®±          Inner joIN   ‚®±    cRosS jOIn  ‚®±   uNpivOT ExClude NUlls  ""  diSTiNCT ‚®± ‡±©0         .  *    for  "¶öõ" @ "êî∏"             in   C    unIque RewritE   =>  ‚®±       +       aS  u''''                 Pivot  NEW  @ CONDItIONal    dISTincT    =>  DEFAULT  :2  @ "·ìé"      FOR  "" @ "¢Ω£"   .  ""  ‚®±            iN  ‚®±        verSIoNS bEtWEEN TiMeStaMP  *   aNd XmLcast  MulTiSEt  ‚®±   AS iNtERVal  ENaBLE  @ UndeR     TO  ""      DIStInCT     +                 ParTitIon by  dEfault  "£¶≥" @ "¢Ωó"        INNeR Join  XMLTABle  xmlnaMESPaceS  dEFauLt    dEFAULT .5E0f     , TImeSTAmP '•êä'      piVOT XMl  ‚®± ""     FOr :7  @ :_     +     iN  any          aS OF scn  "" @ ""   reFERENCIng  @ :38    unIqUe    =>  dEfauLT       =>  dEFaUlT  as "‚Åï"        :_  @ Ô±ì      pARtitIon BY  ‚®±     rIGHt  joiN   ‚®± UnPivOT eXCLude NULls  ""   +    FOr  WritE    AlL "©©≥" @ "°òÄ"   OuT   =>  ‚®±      =>  ‚®± As :9  @ ""               IN  ""  dEFAULT  as ""         +              aS "ñ•ó"    parTItIoN BY  "" @ :20       =>  ‚®±     NAtURaL inneR joIn  ‚®±  oN ‚®±      staRT wiTH ‚®±  cOnNECT bY ‚®±  HaVing ‚®±  GROUp by ‚®±           At lOCaL         is  not  NAN                                      iN  ""    aS tIMestamP ''''               ConneCT BY nOCYClE ?  at timE zoNE sEsSioNtImezonE     ** TREaT  NOT cuRREnT oF  jAva  @ qUOTA    unIQue DEfault  "ñº¥" @ STORAGe          .  :#_         as :64        AT LoCal               GROUP bY grOUpING sETs  NoT CURRent oF  "ùú≥"  .  *   +                    witH CHECk opTION  coNstrAiNT GROUpS   uNique         FoR uPdaTe  oRDEr by *   ! =  AlL    NOT EXtrAct  MiNUTe fRoM DAte  exiSTS    WITH #ÔºØ  @ ""    as  ‚®±     sELEct "" @ LOg       =>  DEFAULt  "" @ "≠∂∫"       bULK COLlECT iNto _Ô≠ª  @ ""    +     frOm TabLE  ‚®±   aS Of PErIod foR sETs   All DefaulT        +   betwEEn    UnpiVot ExCludE Nulls   "£πì" @ :ÔØï    .  :5  @ wriTE         FoR "®ê∞"  .  *     in   :6   All ‚®± AS rESuLT          +                  UnpIvoT  jAva  @ ""       AlL      fOR  vArRAYs   .  "" @ :8     +        in   ""  "òâµ" @ "≠¨£"   =>  dEfAUlT        distincT                   WHERe ‚®±  STaRT WiTh ‚®±  COnNeCT bY ‚®±  HaVING ‚®±    wiTh cheCk optIoN  coNSTRaiNT "®ï®"  :42  @ "™åä"   =>  ‚®±           OrDEr By ‚®±    FOr uPdAte SkiP LOCked   wiTh cHeCK oPTIOn                ** TReAT   ‚®± sHarINg        overLaps  "ß¶í"  DIstInct    =>  ‚®± :_œû  @ :9                as "" @ "¨áº"       . :·áë  @ Without    *   NOt  LIKE4  *              +     aT loCAL                         desC  nuLlS First         