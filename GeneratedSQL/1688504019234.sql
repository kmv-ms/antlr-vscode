CREate OR ReplacE  MatErIaLIzEd view :Ô≠´ŒΩ    ( "ìÄô" @ ""   .  "" @ SPacE  . sTAtemeNT     cOnSTraINt Ÿº    CHEck Ôºà not Ôºà *     aND curRENT OF  "êÇ¶" @ COllECt    Ôºà DIsTINCT :90  @ ""  Ôºà Ôºâ   =>  defaULT  LiBRaRY     , "" Ôºà *   NOT  In  ""  .  *  Ôºà + Ôºâ  % noTFounD   mULTISeT EXCePt DisTINct  :63  @ :_3   Ôºà AlL ‚®± Ôºâ    KEeP ( DEnsE_ranK FiRSt Order by ‚®± DeSC  nulls LASt   Ôºå ‚®±    Ôºâ  oveR ( Ôºâ   aT LOCAL     ** SaVePoINT  ( Ôºâ   .  "" @ INDicES   Ôºà uniQUe )    oVeR ( pArtITiOn By ‚®±  )   At lOcAl    MuLTIseT EXcept  "≠æû"   % bulk_rowcOuNt ( ‚®± Ôºâ    AT TIME ZOnE seSsIONtiMezoNe      /  nEW :7  @ "" @ :28    Ôºà unIQue )   Ôºà + )    mUlTISeT uNIon aLl  cAsE ‚®± whEN ‚®± thEn ‚®±   eND      +  - Sys_coNNecT_bY_pAth Ôºà ‚®± Ôºâ    At TiMe ZONe ?      muLTISET uNIOn  treAt Ôºà ‚®± as ReF "´±™"    )  . UnlocK   .  *  ( + Ôºâ    at lOCAL     ** + eXTRAcTVAluE Ôºà ‚®±  , tReat ( ‚®± AS :#3  @ "™±Ç"     )   At TiMe zonE DBTImEzOnE          , *    )   aT TiME ZOne dBtimEzOne            AND Not ExiSTS  ( ( wITH :76   .  "" @ SeCONd  @ "Íìù"    AS Ôºà WITh "" @ ""   .  _    Ôºà "·û¢" ( ‚®± )   Ôºà )   ( + )  , "" @ BlocK    .  *    Ôºâ  As ( ‚®± Ôºâ  sEaRch DEPth first BY ‚®± nUlLs FirSt   Ôºå ‚®± AsC  nulLS fIrst    set "‚õñ"  .  Ô∞ú      cyCLE TraNSlaTe  Ôºà All ‚®± Ôºâ   .  *  Ôºà + Ôºâ   SEt TruSteD  @ "≠âù"     tO uQ'[]'    deFauLT N'†è¢'      Ôºå ""  .  SPecIFIcaTIon  @ :6     AS Ôºà ‚®± )    SELEcT ‚®±  bulK coLLeCt INtO "" @ "" . ‡Ω∫   ( ‚®± )      FroM Ôºà "ÍúΩ"  .  EnCRYpt  @ "°ÇÖ"    unPIVOT eXCLUde nUlLS Ôºà frEepOolS  @ "†ôÉ" @ "ßΩï"   ( uNIQue Ôºâ     FOR jSoN_tABlE  @ :49  @ ""  Ôºà )   .  :90      iN ( Ôºà "™ô©" @ :_  @ noTFOuNd   ( AlL )   Ôºà + Ôºâ   )    , Ôºà "§©å"   , :3   ( + )   )   As 3d      Ôºâ   )      natuRal join  ( ‚®± )  "Æèµ"    pARTItION by ( ‚®± )    pIVot Xml ( ‚®± For ( "" @ "‡¨û" @ ""  Ôºà ‚®± )   ( DistiNCT Ôºâ    Ôºå "" Ôºà dIStINCT ‚®± )   ( + Ôºâ   )    IN ( ‚®± Ôºâ   )     Ôºâ    Ôºå jsON_Table ( ‚®± , 7.4   cOLuMnS Ôºà :#  @ OnliNe  . "¶®ì"    ExIsTs   , disAbLE  @ "®åó"   .  "óîç" @ :#     FOR ORdinalitY   Ôºâ  )  aS :59     pARtitioN by ( ‚®± )   UNpivOt Include NUllS ( bEginNing  @ eNabLe    Ôºà UniQue Ôºâ   ( + )   for –ºÔæÄ  @ "" . tiMezoNE_regION    ( + )    IN Ôºà ( "•âî" ( ‚®± Ôºâ    , "™Øñ" ( All ‚®± Ôºâ   ( diStinct Ôºâ   ( + Ôºâ   )   aS ( 0X   , .7e0f   Ôºâ     , ‹µ‡±¨  @ tyPe  @ :6    .  "" Ôºà ‚®± )      )   Ôºâ      Where ‚®±  STArT WIth ‚®±  coNNECt bY NOCYCle ‚®±  Group BY ‚®±      havINg ‚®±    FOr uPdAte  wITH cHeCk OpTioN    )  sEarCH BrEaDtH FirsT BY ‚®± DEsC    SeT "¢•∞" @ "¶®á"      CyclE RowID  @ "¶ÑÄ" @ "óÉï"  Ôºà ‚®± )   Ôºà Ôºâ   Ôºà + )   sET "¶£ê"  .  "ùÑ∂"    to 7.7   DEFaULT tiMEStAMp ''      , ""  .  :36  @ continUE  @ "ûÄÖ"    ( lIkE2  @ GeNeRatED  . :6      Ôºâ  aS Ôºà Ôºà ‚®± )  FoR Update OF  :81   ( + Ôºâ  Ôºå "´Øë" @ "≠°º"   .  REUSE  @ :_7   ( alL )     sKIp LockED   OrDEr sIblIngS BY ‚®±    WitH rEaD ONly    Ôºâ  CyclE "®å™" Ôºà ALL Ôºâ   Ôºà ‚®± Ôºâ    , "¶úû"    seT _  @ ""   .  flasH_CAcHE     To ''    DEfaUlt DATe ''       sELEcT ‚®±  bulK CollEct iNtO ŸÜ1  Ôºà ‚®± Ôºâ   .  "¶≠ß" @ "©•≠" @ "ùêô"  Ôºà UniqUe )   Ôºà + Ôºâ    FRoM ThE ( WIth "„Ää" @ pctInCREasE  @ :76     as ( ‚®± )  SEaRCH breaDTH FIrst By ‚®±   sET ""  .  PARAmeterS  @ :2         Ôºà ‚®± Ôºâ  UnIOn all  sELeCT DiStInCt ‚®±  from xMlTAblE Ôºà xmLNaMESPACES Ôºà ‚®± Ôºâ  , 0X0   coLumNS ‚®± FoR oRDiNaliTy   )  vErsioNs PERIOd FOR "" @ ""   ( + Ôºâ  BETwEen  *   AnD NULL     /  DeCOdE ( ‚®± Ôºå ‚®± Ôºâ   mUlTisEt INTerseCt all  Ôºà ‚®± Ôºâ aT timE ZOnE SEssIONTImeZONE       -  TimeSTamP ''   at LOCal     ** CHr ( ‚®± uSiNg NcHar_Cs Ôºâ  aT lOcAl           pIVOT ( ‚®± fOr ( tAbLESpAce   ( + )  , tRUe   Ôºà aLl ‚®± )     Ôºâ    in ( ( ‚®± )    )   Ôºâ      PARTitION BY Ôºà ‚®± Ôºâ  joIn  JSoN_tAbLe Ôºà ‚®± fOrmat jSOn coLUMnS ( nEsted "·£é"    coluMnS ( –ï0    oPaqUe fIxeD Ôºà )  UsING lIBraRy "" @ :14   Ôºà UNiQUe ‚®± )   .  *     TrUncatE PATH ''''      Ôºâ    , BEgInNINg  @ :#”π    .  rAiSe_AppliCatIoN_error  @ "®©è" . ""    intERVal  exists  @ "" @ :24   Ôºà Ôºâ   .  "≠ÖÆ"   TO Ôºà alL Ôºâ   "¢éâ"  ( + Ôºâ   ChARaCTeR seT ‚®±    FORMAT jsON WitHOUT wRappEr  PATh "" @ at  @ :‡∏¶Ô∫£    .  prOFiLE       Ôºâ  )  pIvoT ( ‚®± fOr Ôºà "" @ ·¢ò2  @ ""   ( + Ôºâ   Ôºâ    in Ôºà ‚®± Ôºâ   Ôºâ    AS OF scn  ‚®±      ON ‚®±     WHERe ‚®±     Ôºâ      COnNECT by ‚®±  STaRt WiTh ‚®±  haViNg ‚®±    UNIon  Ôºà seLEct DistinCT ‚®±  into refEreNCiNG  @ "ßëù" . :11   Ôºà ALl ‚®± )   Ôºà Ôºâ      frOM ""   SAmpLe BLoCK ( ‚®± Ôºâ    ParTITioN bY Ôºà ‚®± Ôºâ  LeFt OuTER  JOIN  the ( ‚®± Ôºâ  VERsiOnS bEtweEN scn  *   and trANsLaTE ( ‚®± uSiNg NcHar_Cs )    ** ExTRACT Ôºà mINuTe FRom ‚®±  )     /  rowTYPe  Ôºà DistiNCT ‚®± Ôºâ   ( + )  at lOCAL    muLTISET inTErSEcT  CONnECT_by_rOOt NCHr Ôºà ‚®± )  AT TimE zonE SesSIONtIMezOnE       ** DecODE Ôºà ‚®± Ôºâ   MUltiseT exCEpT  coNNeCT_by_rOOt + ?  At LOCAL    at tIMe ZONE "ò©î" @ "ùñ™"  ( ‚®± )   Ôºà + Ôºâ  WItHin GROUP ( oRDER by ‚®± AsC  nuLLS fIrST   , ‚®± aSc  nULLS LAST     Ôºâ                 aS "§àø" @ "" . ""       unPIVoT ExcluDe nUllS Ôºà #·ßñ   .  *    fOr :„ÉÑ1  @ :1  . "´øÅ"   Ôºà + )    in Ôºà Ôºà "" @ "" . "Æ†µ"  ( diSTINCT )   Ôºà )   ( + )  Ôºå "óîü" ( ‚®± Ôºâ     Ôºâ   AS ( iNteRvAl '°Å≥' hOUR Ôºà daTE ''''   Ôºå U''''   )     , '¶∫é'   )     Ôºå ReADs   Ôºà Ôºâ   Ôºà + )    Ôºâ   Ôºâ     , TAbLe Ôºà ‚®± Ôºâ  unpiVot Ôºà ( prECeDing    , "≠ã≠" @ "" @ :3   ( uNique ‚®± )     Ôºâ   FOr Ôºà execute  @ :#‡≠ß  . :9    .  "òç¨" ( ‚®± Ôºâ   ( + Ôºâ   Ôºâ    IN Ôºà NchAr_Cs      , ( :94  @ "" . ""  Ôºà alL Ôºâ     )   aS tiMEStamP ''      Ôºâ   )         coNnect By ‚®±  GRoup by ( GROUpINg SetS Ôºà Ôºà ‚®± , ‚®± )   , rOllUP ( ( ‚®± Ôºå ‚®± Ôºâ   Ôºå ‚®±   )     )    )        minUS  SElecT UNIquE ‚®±  from XMlTaBLe Ôºà tRUE   PASSiNg ‚®±   Ôºâ  UnPivot Ôºà ( "" ( DiStIncT )   ( ‚®± )   ( + )  , "üô∑" @ onLinE  . COLlaTion      Ôºâ   FOr :#4  @ «∞·ø°    .  *  ( + )    iN ( "£©ô" @ UNDEr  @ BiNARy   Ôºà aLl Ôºâ   ( DISTinCT ‚®± Ôºâ     as Ôºà n''   , INTERval '''' daY ( trUE   Ôºâ   To HouR    Ôºâ     Ôºâ   )      partItIoN by ( ‚®± Ôºâ   pIVoT Xml Ôºà ‚®± FOR :1  Ôºà )   Ôºà + Ôºâ    IN ( ‚®± )   )      HavIng ‚®±  groUP by ( ( ROlLUP ( ( ‚®± )    Ôºâ    )   Ôºå ( grOUPIng sEts ( ( Ôºâ   , ( ‚®± Ôºå ‚®± Ôºâ    Ôºâ    , GRoupiNg sEts ( ‚®±    Ôºâ    Ôºâ   )        ORDER by ‚®±     )  orDEr siBLInGS BY ‚®± aSc     FoR uPdaTE oF  "" @ biNary  @ "™†ó"   Ôºà + )  Ôºå :_‚≤§      WITh reAd oNly  cONSTrAINt "" Ôºà ‚®± Ôºâ      )  orDER sIblIngS bY ‚®± DESC  nULLs FirsT   Ôºå ‚®± NuLls firSt     for UPDATE NowaiT    Ôºâ     OR NOt (  ‚®± Ôºå ‚®±  Ôºâ  =  ( SElect ‚®±  bulK COllECT iNTo :12   .  ""     FRom ( Ôºà WiTh STatIc  @ ""   .  "Æì†"   ( PctinCrEASe  @ "óí∫" . RejECT   Ôºà uNIqUE )   ( ‚®± Ôºâ   Ôºà + )  Ôºå "°ñÜ" @ "" @ ""  Ôºà DISTinct )     Ôºâ  aS Ôºà WiTH :9    ( aLways   Ôºà + Ôºâ  Ôºå ""  .  *    )  AS ( ‚®± )   , "" @ :#     AS Ôºà ‚®± )    ( ‚®± Ôºâ  oRdER by ‚®±    wiTH Check OPTION    )  CyCLE dEtERmiNiSTic  @ ""  ( ‚®± )   ( + )   SEt "‡ßÇ" @ Ô±ø3    .  :5     tO 5.E-7D    deFaUlT 5      ( Ôºà ‚®± Ôºâ  InterSECT  seLecT dIStINCt ‚®±  fROM Ôºà ‚®± )     Ôºå XMLTABle ( XMlNAMesPaceS Ôºà )  , TRuE   COlumns ‚®± "íÜ†" @ :1  @ "Æä∏"  Ôºà ‚®± )   ( alL Ôºâ   Ôºà + )     Ôºâ  AS OF PeRIOD fOR oLd    ‚®±      pARTiTION bY Ôºà ‚®± Ôºâ   PivOT XMl ( ‚®± foR Ôºà "" @ ""  ( )   .  *  ( + Ôºâ   Ôºâ    IN ( anY   Ôºâ   )      wHere ‚®±  StArt WITh ‚®±  CONNECT By NocYcLE ‚®±     )  mINUS  Ôºà wITH ""   AS Ôºà ‚®± Ôºâ  seaRCH breAdTH FIrsT By ‚®± aSc  nuLLS FiRST   Ôºå ‚®±   seT cREaTIoN      CYcle "" @ ‡¥ó  @ "´ß†"  ( DistiNct ‚®± )   ( ALl Ôºâ   Ôºà + Ôºâ   seT "§Æì" @ BaTch    .  "•í†" @ ""     To Q'|íÅæ|'    dEFAulT 0X2      , :56  @ ""   .  LocKed    Ôºà ""    )  as ( ‚®± )  searcH BreadTH FIrst by ‚®±  Ôºå ‚®± aSC  NulLS FIRst    SEt ""  .  :_  @ ""        sEleCt ‚®±  into IndiceS  @ ""   Ôºà + Ôºâ  , "" Ôºà ‚®± )      FrOM «ê  @ LaSt    .  SaMPlE    SAmplE BLOCk ( ‚®± )  seEd Ôºà ‚®± Ôºâ        wHeRe ‚®±  conNEct bY ‚®±  groUp BY ( Ôºà ( )    Ôºâ   , Ôºà cUbe ( ‚®±   Ôºâ    Ôºâ   Ôºâ   Ôºå ( Ôºâ         fOR uPDAtE WAit Q'!Í¢ú!'     OrDEr By ‚®± dEsc     WitH rEAd OnLY  coNSTrAINt INTerfACe  @ "≠èÑ" @ :9       )   )   INneR join  jSoN_TabLe Ôºà ‚®± Ôºå ''''    COLumnS ( ""   DouBLE pRecISiON  chaRacteR SeT ‚®± % charSet     eXIsTS   Ôºå :3  @ jSon    .  "" @ _  @ TrUSTeD     fOr ORDINalIty   )  )   PArtitioN By ( ‚®± )   on ‚®±   UNpivoT IncLUDe NUlLs Ôºà Ôºà :·øù  Ôºà Ôºâ   .  ChArsET  @ :4   ( UniqUe ‚®± Ôºâ   Ôºà + )  Ôºå #  @ "™∑π" . FilESYstEM_lIKe_logGing    ( )     )   FOR "" Ôºà aLl ‚®± Ôºâ   ( + )    iN Ôºà ( "≠æÑ" Ôºà )   .  ""   , :8  @ "õÜ©"   Ôºà + )   )    Ôºâ   )     Ôºâ VErsIoNS BetWeEN timestAMP  "" @ jsON     % bULk_EXceptionS Ôºà ‚®± Ôºâ  . erRor_Code   aT TImE zoNe dATe 'Æôê'        ** cursoR ( seleCt ‚®±  INto verSions  Ôºà UniQue ‚®± )   Ôºà ‚®± Ôºâ    Ôºå :56  @ ""  ( ALL Ôºâ   .  ""  ( + )    FrOM tABLe Ôºà wiTH ""   AS Ôºà ‚®± )  seARcH dEPTH FIRst BY ‚®± nULLs FIrst    SET :#ÔÆß        Ôºà ‚®± )  INtErSEct  Ôºà ‚®± Ôºâ   )  uNpIVOt IncluDE nULls Ôºà ( a   Ôºà ‚®± )    Ôºå "·ñµ" @ nOsoRT    .  *    Ôºâ   fOr :7  Ôºà dIStiNct )   Ôºà + )    IN Ôºà :»ô_  @ "" . "•æ©"  Ôºà Ôºâ     aS Ôºà DATE ''   , 0x   )     Ôºå Ôºà "" ( DisTiNct ‚®± Ôºâ   .  *    Ôºâ    Ôºâ   )    as of pErIOd FoR "¢±Ω" @ ""   ( DisTincT Ôºâ   Ôºà + )  bETween      paRTition By ( ‚®± Ôºâ     cOnnECt by ‚®±  groUP bY ( Ôºà ‚®±   Ôºå ( ‚®± , ‚®± Ôºâ   )   , Cube Ôºà ( ‚®± )   Ôºå ‚®±   )    )      HavIng ‚®±    foR updaTe Of  OvErLaPs  @ ÿæ  . periOD   ( ‚®± )    , "°Çô"  ( + Ôºâ   WAiT INTerVAl '°ïå' DaY      wIth CHECk optioN  CoNSTRaiNt PaRaLlEl_EnabLe  ( all Ôºâ      )   mUltIset UnIoN distinCt  "°ùâ"  Ôºà + )  % bULK_EXCePTioNs . CoUNt   AT lOcAL         AND *     PiVot ( ‚®± FOR :#‡Ωá  @ "" . "§Å∑"  Ôºà )   Ôºà distinCT ‚®± Ôºâ   ( + Ôºâ    IN ( ‚®±  as "" @ :5  . "™´Æ"     , anY   )   )     lOng  @ cONtAiNer      ParTITIoN BY Ôºà ‚®± Ôºâ     StaRt WiTH ‚®±  COnNEct bY NOcycle ‚®±    uniOn  selECt DisTinct ‚®±  INto "™îπ" @ :7  . ""    Ôºå :9   .  "¨Öà" @ "Í¨µ" . iNvaliDAtIoN   ( ‚®± Ôºâ   Ôºà + Ôºâ    FRom Ôºà ( XmLTaBLe Ôºà DATe ''   Passing BY VALue ‚®±   Ôºâ   pARtItIon by ( ‚®± Ôºâ   PIvOT xml ( ‚®± For ( :ÔΩ∂4  ( uNIQUE )   ( disTInct Ôºâ     )    In ( with COUnT    ( "òåá" @ :98  @ :61   ( unique ‚®± )    Ôºå ""  ( + )   )  as ( Ôºà ‚®± Ôºâ  oRDer SiBlINGS BY ‚®± nulLS lasT   Ôºå ‚®± DeSC      )  cyCLE cOnsTRAiNt   .  *  Ôºà + Ôºâ  , _1  @ "" . SCN   ( Ôºâ   Ôºà ‚®± )     SET ""    to .1F    DefAuLt tIMESTAMp '©≥´'      Ôºå "" @ Œæ     as ( with ""  .  ""   Ôºà REwriTe  @ "§ùÄ"   Ôºà + )  Ôºå "„àö"  .  "" @ serIAlizABLE  @ :95   ( ‚®± Ôºâ     Ôºâ  aS ( ‚®± )  sEaRch deptH FirsT bY ‚®± AsC    Set ##  @ ""        SELEct AlL ‚®±  BULK COLleCT INtO LAst  @ "" . ""   ( Ôºâ   Ôºà + )    FROM ‚®±  wHERe ‚®±  HAvING ‚®±  Group BY Ôºà )    Ôºå ( ( ‚®±   Ôºå ( ‚®± )   Ôºâ   )        minUs  Ôºà ‚®± )  For updAtE skIP LOcKEd   wITh reAD only  COnstrAInt "" ( disTiNct ‚®± )      Ôºâ  CyClE "" @ maxVaLUE    ( disTIncT ‚®± )     SeT :1  @ commItteD  . "‚∂é"   .  :Œõ€£  @ "†ö±"     To 2E1   DEfaUlT 5f       selecT dIsTiNct ‚®±  inTo "´∞∑"  .  *   Ôºå moVeMEnT  @ "≠≤∑"  Ôºà )   .  *  ( + )    FrOM ‚®± Ôºå ‚®±  wHeRe ‚®±  haViNG ‚®±    For UpDATE  ORDer By ‚®± DEsc  nulLs FiRST   , ‚®± Desc  NulLS last      Ôºâ   Ôºâ     Ôºâ as of Scn  ‚®±      uNPIVOt Ôºà :3  Ôºà dISTIncT Ôºâ   .  *    FOR Ôºà VALuE  @ sELF   Ôºà ‚®± )   Ôºà + )   Ôºâ    In Ôºà Ôºà ""  ( + Ôºâ  , "" @ "®ï´"  ( uNiquE ‚®± Ôºâ     )   AS nq'##'      Ôºâ   Ôºâ     ) AS "" @ Ô∂®9  . ""     paRTitIoN By ( ‚®± Ôºâ   PIvOT ( ‚®± for "£°¶" @ vaRyING    ( + )    IN ( ‚®±   , Any   Ôºâ   )      CoNNECt By nOcyClE ‚®±  sTarT WITh ‚®±    wItH cHEcK OpTiOn    Ôºâ     and EXtrAcT ( montH FROM daTe  ‚®±  Ôºâ     /  xMLagG ( ‚®± oRdEr SiBlINgS BY ‚®±    Ôºâ  At TIMe ZonE DBTiMEZone    mulTiseT uniON dIstiNCt  CURsOR Ôºà SeleCT ‚®±  FRoM JSON_TAbLE Ôºà ‚®± FoRmAt Json NULl On  ERRor  cOlumns Ôºà neStEd PAth Nq'~Æäë~'    columNs ( :74   .  "ﬁé"   fOr oRdInAliTY   Ôºå :23   .  "•îï" @ :#     truNCAte deFAUlt inTERvAl '''' dAy ( u''''   Ôºâ   tO year    ON  ERRor    )    )  )  veRsIoNs BETwEeN sCn  XMLqUery Ôºà *   PassING *    Ôºå USeR  Ôºà uNiQuE Ôºâ   ( ‚®± Ôºâ       *  Ôºà WIth #·®ñ    Ôºà ""  ( + Ôºâ   )  AS ( wITH "⁄¶" @ "°Ç©" . REly    .  "œ∑" @ "" @ ""    as ( ‚®± )  CYcLe NosORT  @ "®Äª" @ CroSs    .  ’ù  @ SIze   Ôºà Ôºâ   ( + Ôºâ   sET :82   .  "Í•´"    to FALSE    dEFAulT falsE       Ôºà ‚®± Ôºâ  FOR upDaTe of  "¢úÜ" @ ""   .  :77    Ôºå ""    Skip LOckEd   ORdeR SiBLiNGs BY ‚®± NULLs LAsT   Ôºå ‚®±    With read oNly  constraINT taBLEsPaCe  ( UNIqUE )      Ôºâ  SeARCH BREaDTH FIRsT bY ‚®± desc   , ‚®±   SeT :11  @ "üë£" . "£õí"   .  BuiLd  @ NChaR  @ :„á±·ã¨        Ôºå "Æùî"   as ( Ôºà ‚®± Ôºâ  order by ‚®± DESC  nUlLs laST     FOR uPdaTE noWaIT   witH chECk OpTION  cOnStrAINT "" @ oBjECT   Ôºà Ôºâ      Ôºâ  SEArcH Breadth FirsT BY ‚®± nUlLs FIrST   , ‚®±   SET :_·âå        SelecT unIquE ‚®±  FrOm refERenCING    SUbParTItIoN ( :41  @ "òä´"  ( ‚®± Ôºâ   .  *   Ôºâ  UnPivot Ôºà "ó´ö"  Ôºà ‚®± )   Ôºà + Ôºâ   for "£Ö≤"  ( ‚®± Ôºâ   Ôºà + Ôºâ    in Ôºà Ôºà :_  ( unique )     )    , "" @ XmlsChEma  @ ""   ( UNIqUE Ôºâ     aS .7E+5     )   )         WHeRE ‚®±  starT WIth ‚®±  CoNnEct By ‚®±  HaviNG ‚®±  GroUP by ( Ôºà )    Ôºå rOLlUp ( ‚®±   Ôºâ    )         )  AT time zONe ‚®±         aS ovErflow  @ ""   .  ‡™π7  @ RaNGE  . Ôµë„Éæ   Ôºà UNIque ‚®± )   Ôºà + Ôºâ    retUrnINg cONtent )   At LocAL    MUlTISEt uNion  prIOr TriM Ôºà TRaIlInG ‚®± fRoM  ‚®± )    at Local      *  Null    ** - TranslaTe ( ‚®± UsiNG nchAr_cS Ôºâ   AT TiMe zonE seSSIOnTIMezonE    mUltiseT INTeRSeCt  Ôºà ‚®± Ôºâ at lOCaL       +  :30  ( ‚®± )   ( DistincT )   ( + )  % iSopEN   mUltiSEt eXcept AlL  trIm ( ‚®± Ôºâ  at tIMe ZOnE DbtimeZoNe     ** CaSt Ôºà ‚®± AS Ôºà FAlsE  Ôºå tRUE  Ôºâ RANGE ‚®± ..  ‚®±    Ôºâ   mULtiSeT inteRseCT DiStincT  + case whEn ‚®± THen ‚®±   enD  At TiME ZOnE ‚®±    AT loCAL         And *      "" @ bUiLtIn      cROSs JOIN  Ôºà SElect ‚®±  bULK colLEcT iNto "" Ôºà DisTiNcT )   ( )    , ""  .  salT  @ "" @ :‡¨ù   Ôºà ‚®± Ôºâ      frOm xmLTablE Ôºà xMlnaMespAcES Ôºà deFaUlT 0X6   )  , ''   cOluMNs ‚®± intErVAL ( UnIquE ‚®± Ôºâ   cONStruCtOr  ( ALl Ôºâ   ( ‚®± Ôºâ   ( + Ôºâ  to  "ó¨Ü" @ "††é" @ "•ê∫"  ( Ôºâ     rANgE ‚®± ..  ‚®±    pAth N''   deFAULT ‚®±   Ôºâ   PArTitIOn bY ( ‚®± )   piVoT xml Ôºà ‚®± For Ôºà :74  @ paTh    ( DiSTinct ‚®± Ôºâ   ( + )  , "‚ü±"  .  *    Ôºâ    In Ôºà anY   )   )     Ôºå Ôºà Ôºà ‚®± Ôºâ  uNion ALL  SeLect ‚®±  bULk coLleCt iNTo "" @ _    Ôºà + Ôºâ    fRoM ‚®±   StARt wITh ‚®±  cONnect by NoCycLe ‚®±  GroUP BY ( gRouping sEts ( cUbe ( ( ‚®± , ‚®± )    Ôºâ     )    )   , gRoUpiNG SeTS ( ( )    Ôºâ       hAvINg ‚®±    oRdEr sIBLINgS bY ‚®± NULlS Last     wIth rEAD oNLy    Ôºâ  AS OF sCn  ‚®±   pIvoT Ôºà ‚®± fOr Ôºà "" @ "£©µ" @ :46    Ôºà + Ôºâ  Ôºå :31  Ôºà alL Ôºâ   Ôºà + Ôºâ   Ôºâ    in Ôºà Ôºà ‚®± Ôºâ  fOR UPDAte of  RaIsE  Ôºà ‚®± Ôºâ    , "" @ "‡§Ö"  ( alL ‚®± )     SKIP lockED    Ôºâ   Ôºâ         WHere ‚®±  stARt WitH ‚®±  cONnECT BY ‚®±  GRoUP BY Ôºà Ôºà ‚®±   Ôºâ   Ôºå ‚®±   Ôºâ      HaviNg ‚®±    ORDEr by ‚®± aSC      )  unpIVOT exCluDE nuLls ( ""  ( + Ôºâ   foR :2  @ "®µü"   .  *     In Ôºà ( UNuSABle  Ôºà Ôºâ   Ôºà DisTiNCT ‚®± Ôºâ   Ôºà + Ôºâ   Ôºâ    Ôºå ( "" @ AnalYze   ( ‚®± Ôºâ    , :#5   .  "" @ NocyCLE  . ""     Ôºâ    Ôºâ   )    vERsIONs perioD FoR :5  Ôºà )    ‚®±  XMLCAsT Ôºà ‚®± as National Char Ôºà uniquE )  COllAtE ·∏∞       )   MulTiSeT ExCEPT  eXtraCTvaLuE ( ‚®±  , *    Ôºâ     /  TrEAt ( ‚®± As rEF "¨§ô" @ elsiF      )    muLtISeT ExcEpt dIstiNCt  xmlquERY Ôºà tRanSlate Ôºà ‚®± USing NCHAR_CS )  aT LOcaL     ** XmLcast Ôºà mULtIset Ôºà ( WiTH packAge  @ ""    Ôºà MaP  @ "" @ :7    ( + Ôºâ  , "" Ôºà UniquE ‚®± )   ( + )   )  AS Ôºà ‚®± )  CYClE ""  ( Ôºâ   ( + )  Ôºå :#  @ COmpUTATION   ( ‚®± Ôºâ     SET ""    To U'ßàú'    DEFaULT intervAl '''' seCond ( TimeStamP ''   Ôºâ   tO hOur        Ôºà ‚®± Ôºâ  oRDeR SIbLiNGs by ‚®± aSC  nUlLs fIRsT     For UPDaTe of  "" ( Ôºâ   Ôºà + Ôºâ    WITh cheCK oPTIoN  conStrainT :25      )  inteRsEcT  SeLECt ‚®±  BULK coLlect INTo "§µΩ" @ sIbliNGS  @ "¶ñÄ"   .  fILESystEm_lIkE_LOGGiNg  @ ""  Ôºà AlL ‚®± Ôºâ   ( + Ôºâ    fROm ( ‚®± UNPIVOt iNCLudE NulLS Ôºà ( :51  @ "©úó"   Ôºà alL )   ( + Ôºâ  Ôºå "" @ WRItE   Ôºà Ôºâ   .  *    Ôºâ   FOr jAVa      in ( _  ( dIStInCt ‚®± )   ( Ôºâ     as TimestamP 'îñÖ'      Ôºâ   )     Ôºâ as "" @ ""     PaRTiTIoN by Ôºà ‚®± )        Ôºâ  As ReF ""  .  "¶≤ç" ( ‚®± )      )  at time ZonE dbTImezonE    MuLTISEt excepT  ( WIth "·±≥"   aS Ôºà wITH comMItTed    Ôºà "ß¨Ω" @ :Ôª†$  @ :3   Ôºà diSTiNct Ôºâ   Ôºà + )  , "" ( dIsTINcT ‚®± Ôºâ   Ôºà DIsTinCt ‚®± Ôºâ     Ôºâ  AS Ôºà ‚®± Ôºâ  sEarcH dEpth firSt By ‚®±  Ôºå ‚®± DeSc    SeT SUBStiTuTABle  @ "„Ç§"        sELEcT alL ‚®±  from TaBle Ôºà ‚®± Ôºâ   JOIn  ‚®± ON ‚®±   UnpIVOT Ôºà »∑  @ CONStRAInTS  @ "‡ßπ"   .  "" @ :_  @ ""  ( uNiqUE )   ( + )   FoR :3  @ "‚æΩ"   .  *  Ôºà + )    In ( Ôºà EXIsTS     )    , ( DeFErred  @ "°†Ü"   Ôºà )     Ôºâ    )   Ôºâ     , NChar_CS  @ :_  @ :9      pArtITIOn By ( ‚®± Ôºâ     whEre ‚®±  HaViNG ‚®±    wITh cHEck OptiOn    )  cYClE "‡∂™" Ôºà DIsTiNCt ‚®± )   ( + )  , "ßäã"  .  *  Ôºà + Ôºâ   set ""  .  SETtiNGs     tO dATE ''    DeFaULt DatE '„Äì'      , "Û†Ñß"  .  "´Æ¢" @ :37  @ "†üæ"    Ôºà nCHAr_CS  @ "" . ·¢ÑÔ∑Å    ( + )   Ôºâ  AS ( WItH :‡∂µ  @ :56  @ "ùóí"    as Ôºà ‚®± Ôºâ  seaRch Breadth fIrST bY ‚®± asC  nuLlS lASt   Ôºå ‚®± NuLls fiRSt    sEt ""       seleCT ALl ‚®±  iNTO "" @ "•äö" . ColLECt   ( unIque )    Ôºå OUtER  ( ‚®± )   ( Ôºâ      FRoM jSON_tABLE ( ‚®± foRmat Json colUMNS ( WrApPeR  @ #ÔÆ≥  . ""   .  ‡§ã  @ ""    tRUNcaTE FOrmAt JSoN pATh :8     nUll oN  eMpty    , ""   tRUNcAtE eRROR ON  erroR    Ôºâ  Ôºâ  PivoT Xml Ôºà ‚®± FoR Ôºà "" @ sIBLiNgS     Ôºå ContEXT  @ ""  Ôºà ‚®± )   .  noNsChemA   Ôºà + Ôºâ   Ôºâ    iN Ôºà ‚®± )   )    AS OF peRiOD fOr "´åñ" @ _  . ""  ( Ôºâ    BetWeEN      lEfT  JOin  ‚®± UsinG ( :·ø®   .  *  Ôºà + Ôºâ  Ôºå "" ( DistincT ‚®± Ôºâ   .  "" @ "ÆÖ≠" @ TeMPlAtE   Ôºà UnIqUE )    Ôºâ   unPIvoT ExcLUDE nULLs Ôºà :5   Ôºà ‚®± Ôºâ   Ôºà + )   FOr NCHr  ( ‚®± Ôºâ   Ôºà + )    iN Ôºà Ôºà "©ü∞" @ :3    Ôºà uniQUe Ôºâ     Ôºâ   aS $.     , "òâ±"    aS Ôºà iNtErvAl '' dAY ( 0x0   Ôºå ''   Ôºâ     Ôºâ     Ôºâ   Ôºâ     , ( ‚®± )  vErsiOns PeRioD foR XMlNAMeSPaCes  ( diStInct Ôºâ   ( + Ôºâ  ‚®±  ‚®± AnD ‚®±    "•§ò"    partitIoN By ( ‚®± Ôºâ  CRoSs jOiN  ‚®±  PiVOT Ôºà ‚®± For "" @ "•ßù" . :37   ( DIStincT ‚®± Ôºâ   ( )      iN ( Ôºà ‚®± )   SEt  @ scOPE      )   Ôºâ      WHeRE ‚®±  CONNecT BY NOcYCLE ‚®±  StARt WitH ‚®±    UnIoN aLL  sElecT All ‚®±  fRoM "" @ ""   .  "†±ñ" @ :18  @ qUERy     SUBPARtItioN Ôºà :‚¥ù‡¥∏  ( diStIncT ‚®± )   Ôºà )   Ôºà + Ôºâ  Ôºâ  sAMplE Ôºà ‚®± Ôºâ  sEed ( ‚®± Ôºâ        cOnneCt bY nOCYCLe ‚®±  grOuP BY ( Ôºâ         OrdeR bY ‚®±  Ôºå ‚®±    fOr update SKiP locKED    )  CYcLE "" @ "„á∂" @ SequENCe    Ôºà + Ôºâ   set :7     TO 4.0f    DefAUlt $7.5      ( SEleCt ‚®±  iNto _  @ :_  . "™ô¥"    , MaxvALuE  @ "" . MAx   Ôºà aLl ‚®± Ôºâ   Ôºà + Ôºâ    FrOM jsOn_tABLE ( ‚®± Ôºå ""    Columns ( SHARD  @ ""   .  "≠≤ø"   VArchAR2   % roWtYpe    PatH :7  @ sPECifIcAtiOn      NULL ON  EmPTy    )  )  versIOns bEtwEEn SCN  ‚®± And ‚®±   pivot XML ( ‚®± FOR ( :‚∫≥9   .  *  ( + Ôºâ   Ôºâ    IN Ôºà ‚®±  aS ""    , Any   Ôºâ   )      PARTITiOn bY ( ‚®± Ôºâ       for uPDaTE of  "•Ωõ" @ "´é∞"  ( )    Ôºå "" ( ‚®± Ôºâ     WaIT fALse     ORDeR bY ‚®± asC      )  uNIon All  ( SeleCT dIsTincT ‚®±  iNTo :5  @ Cell_FlASH_CAChE   Ôºà uNiQUe ‚®± Ôºâ    , _8  @ "" @ "≠Äû"   .  *     from the  ‚®± Ôºâ  pIVot ( ‚®± FOr Ôºà ""   + )  , ""  )    ‚®± Ôºâ    + Ôºâ   )    iN  aNY   , AnY   Ôºâ   Ôºâ      paRtITION bY  ‚®± Ôºâ   uNPivoT iNCluDE NULls  LEvel  @ XMLtyPE  . :4     + )   fOr  ""        In   "ß∫ô" @ "¶çí"   .  "" @ "" @ ""   DiSTiNCt Ôºâ    +        , :Ííõ    +    AS  TIMeSTAMp ''   , INtERVAL '''' SecOND                 , xmlTAbLE  7  PASsIng ‚®±     as dataBase  @ "" . ""     PArTITION BY  ‚®±   nAtURAl iNneR jOin  ‚®±  UnpivOT IncLuDE NuLlS  :11   unIqUE      FOR  dEFiNEr  @ CollEct     , ""  ‚®±     +        iN   CALL    uNIqUe ‚®±     Ôºå "Ø•â" @ :2  . ""      .  *       aS ''''               connecT by ‚®±  stArt wITh ‚®±    UNIoN   ‚®±      foR upDaTe  WITh reAd ONlY      aT LocaL       -  ?    ** SYs_ConNect_BY_pATh  DisTinct ‚®±     mUlTiSet eXcepT dIstinCt  pRior ‚®±  aT LOCAL         passing BY vALUE *   As :_       +     RETuRNiNg cONTeNt      ** "õá¶" @ FiRSt_ROWs    ‚®±     AlL     +   kEEP  DeNSE_RaNK LasT ORDEr By ‚®± DeSc  NuLLs LaSt   , ‚®± nUlLS LAst        aT TiME ZOnE mAx  @ "" @ ""   .  ""   OVEr  PArTItIoN By ‚®±  oRdEr By ‚®± ASc  NUlls lASt   , ‚®± nuLls firSt     rOWS ‚®±  PrecEding              ||  cASt  ‚®± As raW      RAnGE ‚®± ..  ‚®±      aT LocAl    MuLtisET EXcEpT  ""  unIQue     ‚®±     Keep  DeNse_RanK LAsT OrdEr SIblInGs BY ‚®± DEsc       oveR  PARTitIOn bY ‚®±  ORDeR sibLInGs bY ‚®± nuLLs FiRSt   , ‚®± dESC           *  SYS_COnnecT_bY_patH  AlL    AT LOcaL     **  ‚®±        anD ‡Øç–ë  @ _·•¢  . :60    uniqUe ‚®±    .  VirTual    +   wIThIn grOUP  ORdEr SIBLINGS BY ‚®± dEsC       OveR  PaRTItIoN BY ‚®±     at TiMe zOnE sESSiOntIMEZonE    MultIseT ExCePt  NEW "Í™é"   +    At tImE ZonE DbtimEZone      mOD  NulL   MulTisET INTERSeCt aLL  exTrAcT  tIMeZOnE_REgIon fROm DatE  ‚®±      ** neW :22  @ :8  @ nexT    ‚®±      At TIMe ZOnE sEsSIONtiMeZone    mUltISEt Union disTiNcT  xmlaGg  ‚®±       -  inteRvAl '''' YeAR  0x0   , .9     tO day    At loCaL     ** TrAnslate  ‚®± USiNG ncHaR_CS   at TIME zoNE tRiM  ‚®± frOM  ‚®±         /  CASE wHEN ‚®± THEn ‚®±  ElsE ‚®±   eNd   MultIsEt InterSECT  connEct_BY_rooT NEW "°Äá" @ ""     AT Time ZONE sESsIOnTiMeZone                   wherE ‚®±  staRT wiTh ‚®±  CoNnEct By NocyCLe ‚®±  HavinG ‚®±    unIoN   WITh nAmE    AS   ‚®±   wITH cheCK OPTioN  CoNStRaiNT "°±ä" @ "‚¥∞"   ‚®±            wiTH ""    ""   +      As  ‚®±   SEArCh breAdTH fIrSt bY ‚®± NULlS FirSt   Ôºå ‚®± DEsC    SET "óä£" @ demaNd  @ :_5    .  ‡ºπ1      CYcLe :ÔÆª  @ AuthiD    .  *   +   , cOmMiT  @ ""   All      Set "" @ :6  . ""   .  "†êÜ"    to Q'‚Ä°‚Ä°'    defauLt '¢Ö∏'       SELEcT ‚®±  from  xmLTAblE  xmlnamesPaCeS  ‚®± dEFauLT n'™†§'     Ôºå timeStamp 'Æàî'       Inner jOIN   ‚®± PIVOt XML  ‚®± FOr "íáÄ"   +     In  ‚®±          versiOnS BETWeen sCn   ‚®±    MultiseT iNTERSecT DIStINCT  ?  At locaL      /  nchR  ‚®±         aND *       nAturAl join  ‚®±      PartiTioN bY  ‚®±     Ôºå :89  @ ""   .  seED    ParTItION  NeW_NAMes  @ ""   ‚®±       sAmPLE blocK  ‚®±      UNPiVOT excLUdE nuLls   ""  unIQUe         fOR  sibLiNGS    +        IN  #  @ :3  @ "•Ñ∂"   unIQUE ‚®±     disTIncT       Ôºå "£§†"      ‚®±     +              gRoUp by   ROllup   ‚®±    Ôºå  ‚®± , ‚®±         Ôºå  ‚®±          Ôºå ‚®±        MINus  select ‚®±  frOm THan  @ :4     pIVOt xML  ‚®± FoR  "´±Æ"  uniqUe    .  :_$  @ ""    +        IN  ‚®±        AS OF pERIod fOR novaLiDate    ‚®±     BETWeEN     "™ù´" @ COnsTAnT  @ ‚Ω¢      paRTItiON by  ‚®±   INnER joiN  json_tabLe  ‚®± , MonitorING   .  "ßÆÉ" @ "Ø•à"     ColUMnS  ANALyze   .  "®£ì" @ "" @ ""    long RAw     exisTs PATh u''      , "£°°" @ eXceptioN_InIT     FOr ORdinAlity       PIvoT  ‚®± for  :94  @ "" @ :59     UniqUE     Ôºå "•®µ" @ :„áöÔºº  @ ""   ‚®±    .  *   +        in  ‚®±          CROss jOiN  TabLE  ‚®±    PArTitIon By  ‚®±     Using  "´ºä"   +   , OPEN  @ "≠©§" @ loBS    All          stArt WITH ‚®±  cONNECt bY ‚®±  hAVING ‚®±    fOR uPdAte OF  ""  ‚®±     AlL ‚®±     +   Ôºå #‡∏Ü  @ SUPPleMEntaL  @ ""   .  *   +     OrDeR by ‚®± ASc        uNiOn   seLeCT aLL ‚®±  INto ""   Ôºå "" @ __  @ isOlaTIoN       .  :70      FrOm  ‚®±    PARtiTIOn by  ‚®±   cROsS JOin   ‚®±   vERsIONs PERIoD fOR "£åÜ" @ "" @ ""   dIstinCt ‚®±         ‚®±  *   And eXtrACTValUe  ‚®±  Ôºå *      AT loCAL    MUltISEt unioN  xmLagG  ‚®±      *  defERrABLE    % nOtFoUNd  aT LoCaL           uNpivOt incLUdE nullS  :8  @ opAQue  . ""   all      FOr "" @ "•ó∞" . :·π¢$    .  "£°ö"  DIStinCt ‚®±     +     In  kEEP    +    aS  nq'@†óà@'                 CroSS JoIN   ‚®± pIvoT XML  ‚®± FoR :99    +     iN   ‚®±    AS A     Ôºå ‚®±            as ""    JoIN  ‚®± usinG  "•ºë" @ "®Øç" . _    ‚®±     ‚®±     +   , ·ç∑  @ SiBlINgs  . ""       DisTiNCT          UNPIVOT   ""   +   Ôºå ""  ‚®±    .  *   +       FOr  bUfFeR_pOOl  @ :3  @ prOfILe     Ôºå "≠≠è"  .  :#  @ "¨àÇ" . ""   alL          IN   "£¥µ" @ :62  @ sesSIOn    DiSTInCt ‚®±     ‚®±     +       As  5e+9F                , JsoN_taBLE  ‚®± fOrMAt JsON ColuMNS  :4  @ samPle     FORMaT JsOn path True    ERROR on  EMpty        as of Scn  ‚®±   UNPIVot inCLudE NulLs  LoGoN         fOr  "" @ "" @ :#ÔºΩ     +   , "Íõõ"      unIqUE ‚®±     +        In  :28  @ "·ï≠"   .  *     Ôºå "™¥ï"  UnIquE    .  MaXvalUe    +              parTitiON bY  ‚®±   natuRAl right oUTEr  joIn  ThE  ‚®±    PaRtitiOn By  ‚®±   nATuRaL FUll OUter  joIn   ‚®±   PIvot  ‚®± for  COmPounD   dISTinCt ‚®±         , "" @ ‡´º  . inITRaNS          in  ‚®±   ,  ‚®±            as oF pERIOd For :80  @ "ñ•ò"   ALl ‚®±    .  *   +   ‚®±           WHErE ‚®±  stART wIth ‚®±  CONneCT BY ‚®±    INtersecT   ‚®±   oRDEr siBLiNGs By ‚®± NUlLS lAST   Ôºå ‚®± nUllS FiRST     For upDAte  wIth REAd OnlY      OrdER SIbLings by ‚®± Asc  nULLS FiRSt     WitH reaD oNLy  CONstraiNt "õ±§"          aT loCAl     ** XmLAGG  ‚®± ORDeR siBLiNGs by ‚®±  Ôºå ‚®± asc  NuLlS LAST        MultiSet eXcEPt ALL  mInvaluE  @ PeRCENTILe_diSC    .  *   OVEr  oRdER bY ‚®±    RANGE BetwEEn ‚®±  pReCEDiNg  aNd cUrreNt rOw           -  PRiOr :3  @ TRANsAcTIon    DIStincT     +   at tIMe zOnE DbtImEZONE      mUlTISet UNION  nChr  ‚®±   aT tIME Zone sESSionTiMEzOnE     ** sys_coNNECt_By_PatH     at TIME ZoNe DBtimEZonE    MulTisEt eXcept alL  DECODE  ‚®± Ôºå ‚®±      MoD  curSOr  WIth :#   .  "¶ì´"   AS   SElect ‚®±  Bulk cOLLecT INTo ""  ‚®±       fROM xMLTABLE  Uq'=='   PASSING BY ValUE ‚®±     VErsiOnS peRiod FOr :”Ä  @ "" @ ""   disTinct     all ‚®±     +   BeTwEen  "©Ñè" @ "ÆÆ≥" . "£±á"        % roWcOUNt   mUlTiSeT ExcEPt  at   ‚®±     aLL     +   WIthin GrOuP  orDEr SIBLIngs By ‚®± asC        At LoCaL      *  EXTraCt  moNth FRoM ‚®±      ** CAst  mULtIset  ‚®±   As ""      AT LocAL    mulTIseT intERsECt distiNct  xmLqUery   ‚®±   MuLTiSet Union  :1   ‚®±     +   kEEp  DENSE_rank Last oRDeR SIBLinGs by ‚®± nULlS lAsT   Ôºå ‚®± NullS First        aT Time zOnE ‚®±     ** nuLl   mUlTiseT inTERsECt  "‡´´" @ "ßöä" @ :90    .  "´∫≤"      +   aT lOcal       +  CurSOr  ‚®±   AT Time ZOne SEssIonTimezonE     ** - ‚®±  MULTiSET UNIon DisTInCT  XMlcaST  muLTISeT  ‚®±   AS time  WiTh  local  TimE     zonE  ALL ‚®±        aT TImE ZOne ‚®±         pASSIng bY value *    Ôºå xmLQUeRY  ‚®± PasSiNG ‚®±  , ‚®±   REtuRnInG contEnT     MULTIset interSeCT  "" @ False     all     OveR  orDeR by ‚®±  , ‚®± asc            +  xmlcaSt  MuLtiSet  ‚®±   aS  tRue  Ôºå TrUE   % ROwtype         Mod  - ‚®± at LOcAl    MULtisEt excEpt AlL  prIOr ‚®±  AT lOcAL         As wHen      ReturNiNG ConTENT        ||  cOnnect_BY_RoOt DEcode  ‚®±   At TimE ZOne dbTImezOne       ** TRiM  ‚®±   At tiMe ZoNe sEsSioNtIMezONE         and *      "ßïü" @ ""     FuLL  joIn  Ô≠∫  @ MonITORinG    .  "" @ "‚óá"     PArTitION By  ‚®±    ON ‚®±   PivOt  ‚®± for  :2   ‚®±          iN  ‚®±          whERe ‚®±  coNNecT by NOCyCLE ‚®±  GRouP bY   cube  ‚®±  ,  ‚®±         ,  ‚®±             havING ‚®±    FOr UPDAte oF  "Æì≤" @ :_  . ""   ALl ‚®±    .  "Í†ö" @ gEneRateD  . "„àí"    +    nOWAiT   WIth Read ONlY      WiTh rEAd oNly       Ôºå EXTeNDed  @ :8      seARcH  @ ""   .  "€¨" @ ·éì    ‚®±     +      As  WITH vARrAY    as  WITH ""    relAtIoNaL       As  ‚®±   SEarCH BReaDTH fiRSt bY ‚®± DesC  nulLS lASt    SEt "•öï" @ ""      CycLe :_  @ SeRiaLlY_REuSABle  . :20    .  *   +    SET ·å∏   .  "êê©" @ "•∑´" . "®øí"     To faLSe    DeFAuLT 9      sELEcT ‚®±  INtO densE_RANk   unique     Ôºå "¢±ú"  ‚®±     dIsTiNCT       froM XMlTABLe  2.4f   cOlumnS ‚®± For ordiNaliTY  Ôºå ‚®± For ORdiNalIty      paRTiTIOn by  ‚®±   joIN   ‚®±   UnpIVot  "" @ "£øÅ"       +    FoR  seqUencE    , "" @ "§òü"    +        In  :4   DISTinct ‚®±       , "" @ Íí±    uNIQUE ‚®±     +    AS intERval '' minutE  TO SeconD  0x   , 1e8D                  as of PeRIod fOR sHariNg    +   ‚®±        pIVoT xML  ‚®± fOr  :2  @ :65    ‚®±     Ôºå "" @ "©É≤"   .  *   +        In  ‚®±         Ôºå ThE  ‚®±   unPIVOT eXcLUDE nUlls  filESYStEM_likE_LOggINg   dISTinct ‚®±      foR  "≠õ®"   +   Ôºå _2         iN   "£ã∏"  aLL         +       aS Q'//'      Ôºå natuRal  @ "üùÉ" . :„Ç∑    dIstinCt ‚®±               list     jOin  JSON_TABle  ‚®± , ""  .  :7  @ PRIor      COlUMnS  neStED PAtH DaTe ''    CoLumNS  ""   fOr OrDiNalITy   Ôºå INclUdE   .  :4  @ "•ØÅ"    oPAQue FixED    USinG librarY :56  @ "" . ""    UNIqUE     +   ;  cHAraCTeR set ‚®± % chaRseT     EXISTs PaTh "" @ SuppLemeNtAl  . :#‚∫π    .  tiMe               Pivot  ‚®± FoR "" @ "¶°Ç"      in  any   , anY          AS Of TIMeSTaMp  ‚®±     CROsS JOin   ‚®±   As "" @ purgE  @ #      PArtiTIOn BY  ‚®±   NaTUrAL innEr JOIN  ‚®±   usiNG  ""     .  *        hAVIng ‚®±  GRouP by          , ‚®±        INTeRseCt   ‚®±       Ôºå ""  .  pctinCREasE  @ :7  @ ""     "°ù∂"   +   , :#  @ "™ô¥" @ ""    +      As  wIth ""   aS  ‚®±   SeaRch DEPtH firSt BY ‚®± NuLls First   , ‚®± dESc    seT "«ò" @ json_table  . :‘Ω    .  sEEd      CyCle "" @ :2  @ ""   ‚®±     Ôºå sET       uniQue ‚®±     +    Set CaChe     to tRuE    dEFAULT ''      , "™É®" @ "£ã∏"   .  "íâø"    :11    Ôºå "‚î≤" @ _  @ nulls    ALl ‚®±        as  ‚®±   SEarcH BReAdth FIRST BY ‚®± NulLS fIRSt   , ‚®± DeSc  nUllS FiRST    seT :4  @ "" @ ""      cycLE CHar  @ :‚Ωù·É†  . "·∑Ω"   .  *   +   , BasicFIlE       +    sEt liSt  @ ""   .  "ßÉ£"    TO ''''    defaULT TimEstaMP ''        ‚®±   UNion aLL  seLect DIStinCt ‚®±  BUlK cOLleCT inTO "ß¶≠" @ "™É†"      .  "¶±†"     FrOm taBle  ‚®±    pARtItIoN bY  ‚®±   fuLL  JoiN  XMltable  XMlnAMeSpacES  ‚®± DEfaUlT U''''     , 0X   pASSING ‚®±  coluMNS ‚®± FOR oRDinALITy      paRTItION bY  ‚®±   InNer joIN   ‚®±   versIOnS pEriod fOR beFOrE       alL ‚®±     +   ‚®±  *   AND xmlCaST  ‚®± as rEf "ÆÆé" @ ·∫¢9  @ :23    .  "¢≠´"   +        MulTiseT EXCePt  decoDe  ‚®±   aT lOCal              ON ‚®±    uNpIVot ExcluDE NuLls   :93   DisTINCT     +   Ôºå :‡µ£9  @ scn     ‚®±     +       FOr "·õ´" @ "" . rIgHt    DIstIncT ‚®±     uNIQuE       in  lIke2   dISTinct    .  ""  ‚®±      aS N''               WheRe ‚®±  CoNNect By NoCYCLE ‚®±  stArT wiTh ‚®±  GROup bY  RolLUp  ‚®±       ,   ‚®± Ôºå ‚®±          Ôºå gRoUpINg setS                Order by ‚®± dEsC   , ‚®±         sELeCt disTinct ‚®±  FrOm "" @ "" @ ""   .  :9  @ _‚Ω¥  . FIxEd     saMplE  ‚®±   SeeD  ‚®±     :8      pivoT  ‚®± FOr  "Ø°¨" @ "®åè" @ expirE    .  *   Ôºå "" @ "" @ ""   .  *        IN   ‚®±    "Æûû"    , aNY           , jsOn_tablE  ‚®± nULL ON  emPTy  ColuMNS  :70  @ librARy  @ "≠Üä"   .  "¶õí" @ "™≠Ø" . :#     INTerval  FOrAll    +   to  EnCRypt  @ use    ‚®±       ErROr on  ERror        VersiOnS beTweEn TimEStAMp  *   AnD cASe ‚®± WHEN ‚®± tHEN ‚®±  elsE ‚®±   ENd  at TiME Zone caST  multIset  sElEcT ‚®±  frOm "íîã" @ :8    .  ‚æõ·à∏    sampLE  ‚®±   sEED  ‚®±      paRTITION BY  ‚®±   NatURal inNer JoIn  JsON_TabLe  ‚®± formaT JSoN , ÷â5   .  :#     Null oN  ErrOR  ColUMns  nEsTEd n'•©±'    cOLUmnS  nesTed .8d    cOLumNs  rolluP  @ "" . :€ó     DOublE PRecIsIoN  ‚®±    % roWTyPe    TRuncAtE FoRMAT JsOn witH ARrAY wRapper  Empty oN  erRoR    Ôºå "" @ "" @ ""    NChAR vAryIng cOlLAte "«±"     CHARacter sET ‚®±    fORmAt jSOn witH CONdITiONal ArraY WrAppEr  eRroR on  Error        Ôºå neSTED PatH ''    cOLumns  "™ä∂"   eXIStS pAth "" @ RENAme      ErrOr oN  eRrOr    , Row  @ :68     FoR OrDINaliTY                   ,  ‚®±    CrosS JoiN  xMlTAbLe  XmLNamESPAcES  ‚®±   , daTE ''      AS of pErioD for WRApped   DiSTINct     +   beTWEEN    pIvOt XMl  ‚®± FoR  "‚™ª" @ :4    aLL ‚®±          in  ‚®±          JoiN  ‚®±     coNnecT bY ‚®±  StARt with ‚®±  HAvIng ‚®±  GRoUP by      Ôºå CuBE  ‚®±  ,  ‚®± , ‚®±              MiNUs   ‚®±   ordER by ‚®± asC   Ôºå ‚®± dEsC     for updAtE WAiT intErval 'ßΩ∑' HouR  to month  q'-ÆâÇ-'             aS TImEStAMP  ‚®±    wITH     LOcAl  aLl    tIME  ZOnE   % RowTyPE           **  SELeCT unIQUe ‚®±  buLk cOlleCT InTo "°∫∞" @ "™π∂" . ""    uNiqUE       fROm  jsON_tabLe  ‚®± ForMat jSoN COluMnS  :22    pAtH DatE ''    DefaULT 0x   ON  errOr    Ôºå ""  .  ViSiBlE  @ cOmpuTE     tRuNCATe formAT jsON pAth "§É®" @ ""           unPivoT   BlOCk            FoR _œì  @ :5    UniquE ‚®±     +     in   "¢à†"   +   Ôºå chaRaCtER       +       As  iNTERvAL '' MINuTE    Ôºå .6e9D                ""    partiTIon By  ‚®±    pivot xMl  ‚®± fOr miNUtE  @ "°Çá" . "óÑø"      IN  ‚®±           paRTitiOn BY  ‚®±     , JSON_TABle  ‚®± Ôºå timeStamP 'êãß'    columns  :5   .  "—©" @ ""    EXIstS erroR oN  ErroR        UnPivOt ExCLuDE nUlls   "òóü"   ‚®±     +   Ôºå "" @ :Ôµ¶  @ AFter    ALl ‚®±    .  "" @ reFresH  @ eXTEnD    ‚®±         for #„Öæ    +     in  "ß™ä"     .  *            as OF Scn  ‚®±    aS :_2  @ RowID      paRTitIon bY  ‚®±      Where ‚®±    uNIon   ‚®±   For UpDATE Skip LOcKEd   wITh Check oPtIOn  cONstrAINT :21  @ LimIT             +  "≠πº"   % BUlk_EXcEPTIONS  ‚®±   . ErROR_codE   AT LOcal    MUltIseT UnION  q';óæó;'   aT tIMe zONe ExtRact  ‚®±  , ‚®±  ** ‚®±   mod  ‚®±    ||  ‚®± mulTIsEt EXCept alL  ‚®±  ** ‚®±       , *            MOD  ?          pIVoT  ‚®± fOR  :4  @ "" . "§≥∞"   DiSTINCT ‚®±     +        iN  anY   ,  ‚®±              paRtiTIoN bY  ‚®±    UNPiVOt EXcluDe NUlls   nOPARaLlEl  @ "™æ£"   diStiNcT         for ""   ‚®±     +     IN  #    +              WHERE ‚®±  StaRT witH ‚®±  cONnEcT By ‚®±  hAvInG ‚®±    minUs  seLEct disTINCT ‚®±  INto "" @ ""   ALL       from thE   ‚®±   mINuS  SElecT ‚®±  bULK CoLLECT INto fAsT    Ôºå "" @ ‡æî  . :58    ‚®±    .  "§ùπ"  diStINct     +     froM  TablE  ‚®±   VErSions pERiOD fOr bULk_eXCEPTIoNS  @ "ó©Ø" . "òà¶"   ‚®±     +   ‚®±  *   aNd chr  ‚®± Using nchaR_CS    mUltisEt INTErsecT  + - ‚®± At LocaL      ** DeCODE  ‚®± , ‚®±   at lOCAl    mUlTIsEt unION All  "‚¥ë" @ "„Çñ"    WiThIn Group  orDer By ‚®± nulls FirSt   Ôºå ‚®± nulLs last       OVER     AT TimE ZONE dbtimeZoNe             NATuRAL rIGht  jOin  ‚®±  uNpIVot incluDE NULls   SchEmA    dISTiNct     +   Ôºå ""      ‚®±         FoR :2  @ search    .  ""  uNIquE ‚®±       in   _8  @ "" @ ovERflOW        +   Ôºå "®∫ö"   +       aS  trUE   Ôºå 0Xe                  PARTItION BY  ‚®±   Cross jOiN  XMLTablE  0xB   PaSSIng ‚®±  COLumNS ‚®± rEf :·ä´  @ :8     +         as OF perioD FOr "°ø°" @ esCAPE  @ ""    beTwEen    uNPIvOt  PctUseD     For  :_’ß   diSTincT    .  *   +   Ôºå "¢°≥"  uNique ‚®±          In  "" @ RebuiLD  . :57    ‚®±     +    as  fAlSe   Ôºå dATE ''''        Ôºå  #0  @ "íáª" @ ""                 aS DEletE     iNnER jOin  ‚®±     sTaRT wiTh ‚®±  CoNneCT BY NOCYcLE ‚®±  groUP by  gROuPINg sETS   ‚®± Ôºå ‚®±    ,  ‚®± , ‚®±               HavING ‚®±    wITh REad onLy  cONsTRAiNt ""            PiVoT xMl  ‚®± fOr :32  @ "óìí" . "©ä≥"    UniquE       IN  ‚®±  SegMENt              having ‚®±  group BY ‚®±   ,    ‚®± , ‚®±               for uPDATE Of  :39    +    sKiP lockEd   oRdER SIbLINgs By ‚®±          wIth "¢íä"  .  ""   aS  wiTH "¶éñ" @ "¢üí" @ REVeRSE      "" @ pcTUSEd  @ ‡≥´‡Æê     +   Ôºå rECyCLe  @ :Ôª∑    unIqUE ‚®±        aS  ‚®±   seArch DePtH first bY ‚®± aSc  NULLS Last    Set :9  @ "·ì±"      Cycle ""  .  *   +    seT CASt     To timESTAmp ''    DEfault .1     , "¨ßñ" @ "•≥Ç" . :14      "ÔπÑ"  ‚®±     alL        aS  ‚®±   cYcle :·ûÅ8  @ RIGHt  @ gLObal    ‚®±      seT "´àØ"  .  "ìÖµ" @ :4      to TRue    DEFAuLT tRue       SELeCT ‚®±  FrOM XMLTAble  xMlNamESPACEs  DefauLT $.    , 0X   PAssing BY vAlUe ‚®±  CoLUmns ‚®± STRING  ‚®± bYTe   cOllATE "°∫ë"     chArAcTeR set ‚®±    PaTH tIMEStAMp '£ìã'   DEfAult ‚®±      parTItiON BY  ‚®±   lefT  JoiN  :‡≤°Ô∂´  @ WRAppEd  @ "¨≥ö"   .  eSCape    SaMplE  ‚®±    UnpIvOT EXclUdE NULLS  c  @ #1  @ ""   ALl    .  *   +    for  ELeMENT    +        in   "£â≥"  all ‚®±         , "ßäå" @ ""   .  :9  @ "§±ê"    +                as "" @ ""     nAturAl INNer JOIn  TABle  ‚®±   VerSIOns bEtween TIMESTamp  dEcODE  ‚®±         and *     pIvOT  ‚®± foR  ""  DIsTinCT ‚®±              IN  ‚®±          partitioN bY  ‚®±   CrOSS joiN  ‚®±   On ‚®±     wherE ‚®±  StARt wiTH ‚®±  cONnEct by ‚®±  haViNg ‚®±    With cheCK optIoN      sEArcH BREAdTh FIrst By ‚®± Nulls lAsT    seT ENForCed          ‚®±      OrdEr bY ‚®± dEsC        foR uPDate OF  :81  @ "óéâ"       +    skIp LOckeD   ORDER bY ‚®± nulLs LAST     witH check OPtion      at lOCAL     ** NeW "¢ìª" @ RelY            lIkeC  *             =>  - trEaT  ‚®± As reF "îíß"      . :_‚æú   ALL ""  aLL    =>  DEFauLt  AS ‡§£  @ ""         .  "´ìè" @ "≠ñú"             is NoT oF TYPE  :#                  +            OVeRLApS  DefauLt  COnditIoNAL  @ SHRINK                   nOrELY        DeFaulT cOlLaTIon Ô≠ö3    oN pREBUiLt tAblE WiTH REDUCED PReciSiON  DISAbLE on QUerY COmputaTIon   as SelECT unIQuE DeFAULt  As "·¥î" @ NOsorT        iNTO "¢íπ" @ Query     +     FroM  With "" @ ""    as  seLEcT :20   =>  NOT TRIm  TraIliNG fROm  cuRrenT oF  :80   ""  =>  NOt ExiSts   ‚®±              dIStINCt "" @ :28       =>  defAult        +          At Time ZONe DBTiMEzONe     ** SYS_cONNECT_bY_patH  dEfaUlt  aS bOtH         At tIME zoNE SessioNtImezoNe         ! =  sOmE   ‚®±        ""      bUlk CoLLeCT INTo CoUNT    aLL NOt *   IS  NOT  iNFINITe                fRoM :_‚≤π    subpaRTITIOn  LIKE4  @ ""      .  SHARINg   DiSTiNCt     +     PiVot  "´Ñ•" @ fast    =>  DEfauLT  aS :60  @ "§ªó"      FoR :90      IN  ‚®±          Full oUtER  JoIn   ‚®±    right OUtER  joiN  ‚®± USINg  _  @ "ùîº"   "êëß" @ ""   UniQUE    =>  dEFAULt       .  "òïï"  not *   IS NOt A SEt        "Û†áÉ"            ON   pArtIal   =>  defaUlt      NOT  iN   ‚®±           UNpiVOT  "" @ tImezOnE_ReGION     +    For  :‡¥∑3    +        in  eACh  @ :‘®4    diStiNCt ""  =>  Not CuRReNT OF  "£ßæ" @ :9                 "" @ ""           as IntErVAL '''' MOntH  uQ'‚Ä†°ç™‚Ä†'   Ôºå INTErvAL 'òá±' DAy  u''''      to MoNTh  dATE ''                         wHERe *   > =  aNY   ‚®±           for upDatE NoWaiT   OrDeR SIbLINGs by nOT EXiStS   ‚®±        dESc     WiTh READ OnLy  ConstraInt "" @ seed         SEARch brEaDTh FIrst By xmlquErY  TraNSLAte  not EXiSTs   with ChUnK  @ "©¢©"    aS  ‚®±   CyCle :1   .  *   +    set "‚íõ"    tO tiMestamp ''    dEfaUlt DATE 'ëÉï'        ‚®±   ORdeR By *   NOT  iN  "®∂∂"  UNIqUe     OveR  ParTitIon by DEfAULt     oRdEr SIBlinGs bY ‚®± DEsC     rOWS CURrENT rOW         ** pRIoR ‚®±  at LocAL               NUllS lASt     for updAtE OF  #  @ scN     dIStincT     +     wITH cHECk oPtioN           UsIng ncHar_cS   At LoCaL         paSSING ?  aT Time zONe DBTImezONE           retUrNIng COnteNt               DesC    set ""       SelEct disTINcT nOt cuRrent Of  :88   all DEfAULT  As starTuP  @ SEcuReFilE           *   noT sUBmUltIseT OF "" @ "òöÉ"   ALL "•êñ"  =>  Not  ‚®±   oVErLaPS  ‚®±          AS ErroRs         .  "≠∏™" @ ""       +   WIthIN GrOUP  OrDEr sIbLInGS BY *   noT  bETWeEN  *   aND  conNEct_by_ROoT trim  ‚®±   at tiME zOne sesSIoNTiMEzOnE       **  WITh "≠†ã" @ :70      ·πÉ9       As  ‚®±   seARCh DEptH FIrst BY ‚®± deSc  NuLLS lAst    sEt "£îí" @ ""         ‚®±   for UpDAte                nUlLS FiRST       OvER     at local     ** sHriNk  @ PRiOR        At tIMe zOnE SESSIOnTimeZoNe                           aCcoUnt       fROm thE   ‚®±      PiVot xmL  *   iS  infinITE          FOr :6  @ :#‡ºè    All     +     iN  WIth treat    AS  ‚®±   cyCLe "¨äÅ"   ""  UniQUE :5  @ "©éà"   =>  dEfault  As :ÔÆß„Ñ°  @ #          =>  not   "ù•Å"  =>  DEfAULT      nOt  IN    DEfAUlT              exteNt           sET "·è•" @ "óÆÉ"     to 5.E-8F    DEFaULt tiMeSTAMP ''        ‚®±   ORDER SIbLINgs By CURrENt of  Without   aLL    .  *           wITh checK oPtion  coNStRaInT ParAllEl_enABle  @ ""   "Í°è" @ :6    =>  DEfault                 vERSIONs bEtWeEN TimEsTamP  xMLaGg  not *   IN   sElEcT not eXisTS   ‚®±        As "" @ ""       INto ‡πó       UNiQue exTract  DEFaULT    , TreaT  nOT ‚®± NoT  BetWEEn  ‚®± ANd  ‚®±      As "" @ ""       . "" @ :69     +       ** CasE eLSE CURreNt of  "" @ ""   AlL ‚®±       +          End         Ôºå *      aT TImE zoNe XmLcAST  curRENt OF  MontH  @ :84          as tiME  ""     =>  NOt ‚®±      Is oF typE  onlY pRivATe            :#€∫             At locAL            NOT  liKEC  XMlaGg  noT *   LiKe  *          At local         esCApE   REnAme   aLL    =>  DEFAUlt  "†®ö" @ ExCEPt         ~ =    :1  @ CLOse    =>  deFauLT                          +     FrOm XMlTabLE  xmlNAMeSPACES    , ''   ColUmNS NOt CyClE  @ "®ÇÅ"    +   % bUlK_roWCOUnT  eXisTS   ‚®±              ** "„áª"   % isoPeN        Is OF  oNLY "©ÖÆ"           FoR oRdiNalITy     :15     PartItIoN bY  *        AS "" @ ""           conNeCT by NOCycLE noT NuLL        Is  nOt  naN         GROuP by         haVINg Not  "¶éπ"  =>  dEfAult  as ""       OvERlAps  ExisTS   ‚®±                      foR UpDaTe OF  _‡µÜ   .  "" @ diSASSociATe    ALL     +    wAiT ''''     order SiBlInGS BY *   mEmbER OF *          nuLLS FirsT             orDEr BY nOt CurrEnT Of  :31         asC       AT lOCAL     ** CAsT  NOT  "‚ó∫" @ :Ô∞É4    NOt *   BetWEEN  sYS_ConneCt_By_pATH       ** Null  AT TiME ZOne DbTImEZone         and  "õÄæ" @ ""       WitHin group  oRDer BY EXiSTS   SELECt uNIquE calL   diSTiNCt ‚®±    =>  defAUlt  aS NoTFOund  @ "óçö"       bULk COllecT IntO "·∏å" @ _#    AlL "†é†"     =>  ‚®±       DiStInct defAUlt  "„Ñï"         +     from  ‚®±   pARTITIon bY  DEfAulT       uNpIvoT   :M2   .  *       FoR  :56         in  "" @ ""   unIqUe leFt  @ BULK_eXCEpTioNS    =>  ‚®± ""        .  *   +                OrDER by ‚®± nUlLs lasT     foR UPdaTE skIP lOCKeD           dEsC        At LoCAl     ** + CHR  nOt ‚®±      <  *        USINg nchaR_cS    At tiME Zone cyCle  @ "Í®î"   .  "£°†" @ ""   DeFaUlt        KEeP  DeNSE_rAnk LAST ORdeR SiBLiNGs bY NOT ExIsts   wITH :9  @ anYSchEmA      :33       As  ‚®±   CYcLE ""      +    seT ·Åí…Ç  @ "¨ïõ"     tO 0x    dEFault u''        ‚®±   WItH rEaD Only           Desc  NuLls FIrst       oVEr  PArtItIOn by "—ã"  uNIqUe    =>  ‚®±      nOt SUbMulTiset oF *          AS ""                            =>  DEFAuLT      oVeRlAPs  DeFauLT  CroSS  @ chArset                aS reF ·àã  @ :36     +       At LocAl         aND NEw sCaLe  @ ""       +      ** q'``'             parTITION BY  ""  =>   *            OvErlaPs    :»æ„É°  @ "óßπ"   disTINcT ‚®±     =>  DEFaUlt  aS "¢Äß" @ OPTiMAL         iN     deFaUlt                COnsTAnt                   naTURAL JOiN  "®Éå" @ PARTitIonS     As oF tImeSTamP  deFAUlt  AS ”æ          pARTItIoN BY  ""  =>  not *   noT  Like2  date ''''   at loCAl     ** NeW ""          EScape NoT *   iS  NulL                      wHere NoT PRIOR Cast  mULTISET  WITh id     :6  @ ""   " ´" @ ""   diSTInct    =>  CuRrenT of  ObJeCt  @ :#                aLL     +      As  ‚®±     selecT :_3   =>  ExiSts   ‚®±        "≠π∫" @ INsTANce        buLk cOLlecT iNto "°üÉ"  DIStinCt deFAUlT  ""         +     FroM  JSon_tABlE  nOT CAst  MUltIsEt  ‚®±   As  trUe  , FaLsE      aT TiME zONE DBTimeZONe         NOt  beTWeEn  *   anD  EXtRAcTvalue  ""  dEfaUlT  :13  @ ""         =>  *   in    PrOCeDure  @ :‚º¥7    =>  ‚®±          :5  @ "Æå∏"      Ôºå *    , ‚®±         At TiMe zOnE ‚®±     ** CuRsoR  ‚®±              formaT JsoN COluMNS  LaNgUage    foR orDINAlITy       aS "Æ®§" @ advAnced      iNner joiN  ‚®± usIng  "" @ ""        +      UnPiVOT exCLUDe NuLLs   "™Åõ"          foR  :64  @ ""   .  #—ü   dEFaUlT  as ""              In  "" @ BUffeR_POOl    .  *                  coNnEcT by  not cuRreNT Of  "†É±"  disTiNct DefAuLt  aS #‡ßØ  @ :89               +           **  ‚®±   AT lOcAl         < >  *         StaRt WIth CURrent of  edITIonING    +           OrDEr by NOT eXISTS   ‚®±           FoR update OF  BegiNning  @ ""    AlL      nOwait   wItH CheCK OPTIoN  COnSTRAinT :26           aS "ß∂à" @ "òô≠"   DistInCt XmlscHEmA   =>  *   bEtween  EXTrAct  MoNth FrOm   dEfaulT      Not  In   wITH "†ùê"   AS  ‚®±   SeaRch Depth First By ‚®± DEsC    SEt WRITE  @ "´Øª"        sElEcT "¶πÜ" @ :8    uNIQUE tImestaMP  @ :#9    =>  ‚®±      =>  ‚®±    InTo "·§∑"  DiSTINCt    .  *   +     FrOm XMLtablE  5     As of tImesTaMP  "ëíê" @ ""   =>  dEFaULT  aS :1  @ xmlTypE         PIVOt  ‚®± As ""     FOr  NAme    defaULT             iN  ANy             pIVOt XMl  ÔΩé   All dEFAuLt       =>  ‚®±   FoR "¢ãé" @ nExt        +     in   deFAult  "„é±"                  WHEre ‚®±  conNeCT bY NOcyCle ‚®±  hAvING ‚®±  grOup BY   GROUPIng SeTs  ‚®±                   foR UpdATe Of  :89        noWAiT                     AnD  TRaNSlaTE  Not cUrRENT of  :‚≤è0  @ "ßãé"         USiNG cHar_CS   aT Time ZONe sEsSIONtiMEzONE              AS SysTEM  @ nOpaRALLel           UNIQUE "¶ãÉ"  =>  Not *   NOT  lIKE  cursor  sElECT "óöµ" @ "†ä©"   =>  deFAUlt     FROM  jsoN_TAblE  nOT   ‚®± ""       < >   ‚®±         fORmAt json Ôºå .4D    CoLumNS  "" @ ""    TrUNcate       UnPIvot INCludE nulLs   :99   *   IS nOT of  oNly BInaRY                  +       FOr  ""  aLL     +        in  #  @ BuILtin    .  "≠ó†" @ "®îì"       +    AS IntErval '©£¢' SecOND              vErSiOnS periOD fOr tEMPORARY    DiSTiNcT "" @ :‚æ°‡≠¨       =>  defaULt        +   bETWEeN  *   ANd *        PIvOt Xml  dEFAUlt  AS ""     foR SUbtyPE  @ Ôæô‘¶    UniqUE       In  ‚®±  ** ‚®±                      vErsIons PeRIOd FOr :37   uniQuE "†ô≠"  =>  deFAULT       .  *   BetweEN  ‚®±  ** ‚®±      anD ‚®±        UNPiVOT  "•Øé" @ "òãæ"   nOT EXIsts   ‚®±        AS nOlogginG           FoR  :_8  @ ""    +        In  :7    "°úµ"  unIQUE "¢Üà" @ FInAL   ‚®±  =>  Not exiStS   ‚®±             =>  *   Not  IN   ‚®±        #  @ SerialIZabLE           +             "" @ "°µ®"     PartItiON bY  "" @ "‚õ´"   =>  DefAULt         StART WiTH cUrRENT OF  :7   .  ""   +         ConNecT by nOcYclE ‚®±  ** ‚®±      Is  null              at TiME ZONe dbtimEZOne              "" @ :7           RANGe NOt  nOt *   < =  *        founD        oVerLaPS  "" @ ""   ALl    =>  DEFAULt             ..  Not + ‚®± At local         iN    defAult  aS COnsTrUCTOr                      ** TrEat  eXIsTs    ‚®±   For UpDAtE SKIP loCkED   wiTh CHecK OPTioN  cOnSTRAINT ‡æ£                AS "¨Çà"             is NoT of  "≠çî" @ :#              GrOuP BY               pARtiTiOn by  DEFaULt       pIVot  NOt cuRRENt Of  ReSULT_Cache  @ A            foR  ""  .  *   +        iN   wITH ParaMetErS  @ ""     cyCle   .  :75  @ ""   "" @ ReJect    DEFauLt  aS ""        =>  + cASe nOt *   is eMPTy        ELSe  not TRaNSLatE  ‚®± usINg NcHAr_CS   at LOcAL     ** :76    % IsOPEn        NOt  In   ‚®±            OverLAPs  "¨ô≠" @ :œêÔÆê    UnIqUE    =>  CUrRent OF  "¶ÆΩ" @ inCLUDIng     UnIqUe maXsiZE      =>  dEFAuLt  #  @ ""               aS :2                 End  aT TIme ZOne SesSIontiMEzOne      ** CoNNECT_By_RoOt ""  dISTInct     OVER  PArTItion bY DefAulT     Order By *   IS A SeT        NUllS firsT        at tiME ZoNe :7  @ flaSH_cache     +   At LOcaL              BetwEeN  xMLQUErY  *   PassInG by vAluE *   aS "ùÑò" @ "´¥Å"    +     rEtURNING CoNtENT          And  *                 as  ‚®±   CYCle :7   DeFauLT  "°ª™" @ ""          +    sET DEMAND  @ _      tO 2E+9   DEfaUlT 1.4E9f       sELEcT dIsTiNct :11  @ "·ªπ"   uNiqUE    =>    "°¶Å"  =>  nOT eXiSTS   ‚®±            <   PIpeLiNed  @ "ìâä"   =>  nOT XMLagg  curRent OF  "" @ :⁄å8                 orDeR BY TRIm  ‚®± FROM  ‚®±         ^ =  aLl    ""  uNIque ‚®±    =>  DEfAUlT  aS "‚öô"                   at lOcaL     **  not *         At TIMe ZoNe dBTimEZoNE         iS OF TYPe  oNly "" @ "§Ö∫"            pCTTHrEshold                 fRoM jSon_tablE  vaRRay    aLl noT   ArcHIVe   =>  nOT EXistS   ‚®±        As "´øø"       IN   DEFaULt            VerSioNs  @ #ÿ†           +   KEep  DENse_rANK Last oRdER SibLINgS By not CUrRENT oF  "óãã" @ VarRay    unIquE     +        AsC  NUlls LAST                   COluMNs  NesTED "®Ä≤"    COlUMnS  :97  @ ""    eXIsTs           UnPiVOt InClude NULlS   :“¥            FOR "" @ :21     +     IN   taBLESPAce   :1  @ "¶ñÆ"   ExIsTS   ‚®±             =>  DEfauLT  aS "" @ sESsioN           +       aS  Nq',ìÖ§,'                 pArtITiOn by  dEfault  As WithiN           wHERe nOt *   IS  nOt  inFIniTe         sTArt wIth cuRreNt OF  "´∑ì"         cOnnect By cURSOr  ‚®±     ** Case  eND  aT LOCAL         lIKe  *   EscaPe NOt trEat  *   Is NoT emPTY        AS ""      . "¢¢û" @ "§µè"   DIstINCt       at tIMe Zone ""   oVeR  oRDER sIBlings bY noT  ‚®±     oVerlaPS  :‹®‡ªÅ  @ CONVeRt    diSTINct ‚®± _7  @ ""         =>  ‚®±            aSC  nuLls laSt     raNgE BetweEN UNBouNdED pRECEDInG  ANd unBOuNdED PRECEding       At TiMe zonE PRIOr ‚®±              lIke4  lImit  @ :84        +   % BULk_roWCoUnT  not  dEFAuLT      ovERlaPs  "´öâ"  =>  deFAult  :5                     ** COnNeCT_by_rOOt gLoBAL  @ ""   unIqUE     within Group  oRdEr bY *   >  aNY     "≠¶ô"  =>  DEfAUlT                     at tIMe zoNE SesSiontIMezOne                       GRoUP by noT EXistS   ‚®±               fOr upDAte  OrdeR sIBlINGs BY NulL  At locAL         is nOt of  "" @ "óÜµ"            nuLlS first        ORDEr bY NOt cURRENT OF  "" @ DISAsSOcIaTe    diSTInCt NOT eXIsts   WITh "ßúû"   AS  ‚®±   SeArCh DeptH FiRst by *   nOT  likE2  :·Ö†5  @ "üòá"    +   keEp  DenSE_rank LAsT ORDeR sibliNGs By ‚®± ASc       OVER     At Local     ** eXTRACt  TimezoNe_mINuTe frOM ‚®±          eSCaPe ‚®±         set reBuILD  @ QuOTA       cyCLe ""  :5  @ ""   =>  dEFAulT        +    sET "" @ MINeXtENts      To u''    defaulT DAtE ''        ‚®±   ORdER by *   IN   ‚®±  at tIME ZoNE SESSioNtIMezonE     ** sYS_cOnNeCt_By_PAtH  _„ÉÜ   =>  ‚®± #8                     DEsC     WIth rEad OnLy           aS "ÆÇ≤" @ ""               ASC  nuLLs laST               StaRT WITh NoT NULl        Not  bETWEEn  *   and  xMlQUERy  *   PAssing By VALUe *   aS ""   +     ReTURniNg conTENt    At local               coNNECT bY nocYcLE not  DEFAUlT      OVERlaPs  DeFaUlt              GRoUp by   CUBe    "" @ :56    AlL    =>  exIStS   sEleCt DISTiNcT nOT :‡∏≠      ** ''              DISallOW  @ edITioNInG        iNTO Byte   "" @ :54    uniQUe    =>  - xMlcasT  ‚®± aS OPAQue Fixed  ""  UNIQue    =>  DefaulT      UsiNg LibRarY :_        at tIMe zONe   ‚®±   fOR uPdATe  wItH cHeCK oPtIoN  cOnstrAInt SEgmENT  @ ""            At TiME zoNe dBtIMEzONE         iS nOt OF TyPE  oNLY "§•î"           aS nokEep         .  *     From :8    unpivOT INcluDe nulls  ""   +    For  priMAry  @ ""   DiStINCt    .  "" @ "ÔΩ§"       +        IN  "™Äá" @ "•Äò"   .  ""  DeFAULT        +    AS Uq'--'               pArtiTIOn By  ‚≤ó  @ :65    =>  DefauLt         hAVINg noT CURrEnt oF  :_0   ‚®± as "ßÆØ" @ None           uniQUE pASsWord  @ ""   All    =>  defAult  ·Çì  @ ""                GROup BY ‚®±      WitH REaD oNLy           ""       < =   sElECt *   Is  not  NUll           INto ""   DisTinct dEfAult        +     fRom THe  WITh "°•≤"    conveRT           as  ‚®±   sEarCH DeptH FIRst bY noT  "" @ "‡¶ø"   =>  cONneCt_bY_ROot  ‚®±   AT LoCAl     At tiMe Zone dBtiMeZoNe         ~ =  *        as :63        OverlaPS  "‚éí"     =>  dEfauLT             nUlls laSt    Set "¶â†" @ NoREveRsE       CyClE XML  @ ‚ºè    alL CuRRent oF  "êÄ£"  .  *   +        rEnamE  @ :76            set ouTeR  @ :_      To fALse    DeFaUlt 0x        ‚®±   FOR uPdATE Of  noTFOuND  @ eLement    ALL    .  *   +    skIP LOCkED   oRdeR sIbLiNGs By Not ?    ** TrEaT    :1   ‚®± AS ""        =>  default      > =   ‚®±         as reF "" @ ""       . "Æöµ" @ :_‚∫∫             bEtwEen  ExtRaCt  tIMEzOne_hOUr fRom DATE  Not *   LIkE2  *   eSCApe ‚®±          at LoCAL     ** cast  mulTISeT  ‚®±   as lOng  DISTincT :6  @ ""   =>  DeFAult  as :9                   And  *        Asc     wiTh cHEck oPtioN      ""     piVOT xmL  DEFaULT    FOr "®ÑÆ"      unIqUe       in  wITh ReduCeD  @ "‚è∞"    aS  ‚®±   CyCLE ""  .  ""  Not NEW :8  @ new         AT local         is  naN              +    set "" @ ""     To .7E-2   deFAUlT timEstaMp ''''       seLeCT DISTINct ovERRIDInG  @ gROuPS    =>  DEfaUlT  AS Œ¨       BULK coLLEct INto FalSE  @ ""   uNiqUE "" @ :”ö    =>  NOt nchr  exiSTS   ‚®±                Is  nan                  +     fRom   ‚®±    cROSs join  TAblE  ‚®±   as "¨îó" @ ""     PaRTItIOn bY  CurrenT OF  :8   all DeFAuLt  "§°∂" @ ""         .  *            RIgHT OUteR  JoiN  ‚®± uSING  "¢•é"       +       piVOt  *   =  all   ""  =>  noT eXiStS   ‚®±                 aS TImeZOnE_Abbr      FOR  #  @ lEVels    "™ûØ" @ :5    UnIque CHAr_CS   =>  DeFaulT       =>  nOT tRaNSLATe  *   ÔºÅ =  "ó©å" @ :·å†    .  :77   diSTInCt     % bULk_ROwCouNt  ‚®±       ** "ÆØê" @ "ßëæ"   ALl nOExtenD   =>  deFaULT  truE          +   % IsOPen  aT lOCaL              uSing NchAR_cS   At tiMe ZonE COnnEcT_BY_rOot #·ãù    +   % roWCOUnt    at TIME zONe seSsIONtimezOnE            bETwEen  *   AnD  *                   in  anY             cRoSS JOIn  masteR  @ :52     pARtitIon  "" @ ""   disTInCT     +     samPLe BlocK  Not  defaulT  CoNstaNt        OVERlaPS  *   Not  betWeEN  *   ANd  xMlAGg  ‚®±                            aS OF PerIod fOR :‚Ωõ·∏ã       +   bETwEen      PArtitioN by  Not curRENT oF  "©§ó" @ ""                 WherE currEnt of  InDIceS  @ comPuTE     +         ConNECt by noT TRiM  nOT EXIstS   ‚®±            ** _0   "" @ ""   DeFAuLT  as ""        =>    "" @ ""   =>  DeFault  fOrmAt  @ :9         iN   ""  =>  ‚®±           aS ""         keep  dENSE_RAnk LAST oRdEr BY nOT eXistS   ‚®±              AT locAL         Is nOt eMPTy         hAVIng EXtrActvAlue  defauLt  "" @ :4       , ""  ALl    .  *   oVEr  pARTItIon by defauLT  As LiBRARy       OrdEr sIBLINgs By nOT xMlaGg  ‚®± oRDEr siBlings BY ‚®± asC  nUllS FIrST       At locAl     ** 0X         iN    ‡∂ú   DisTinCt    =>  dEfaulT           nUlLS LasT        at tiME Zone dbTiMEzONe            AT tImE ZONE DBtImezONE     ** CurSOr  ‚®±         is  nOt  INFINIte                     wHerE   :7  @ ""   =>  DefaUlT  ""       =    ‚®±   oRDer siBLInGS bY eXISTs   ‚®±           for uPdATE oF  "" @ ""       *              +    WAiT IntErVal '' MINutE  to sECONd  DAte ''   Ôºå n'†£ì'                    CoNNECT By NOcYcLe nOT *   in  *          STaRT wiTh ""  uNIQue NOT exiStS   SElect ALl ‚®± esCApE  @ stRing        bULk CoLLecT iNtO ""   +     frOM  ‚®±   aS of TiMESTAmP  :7  @ ""   =>  ‚®±     UnPIvOT EXCluDE nulls  VaRrAy  @ :2             fOR  :#7    +        in   nooRdeR   distiNct "" @ LEADIng    =>  DeFaUlT  As "" @ baSiC                         inneR jOiN  xMltabLE  Uq'=='   PAssInG ""  UniQue    =>  ‚®± as ""          nATural JoIn  jSOn_TABlE  ‚®± Ôºå :‚Ωæ0  @ ""     CoLUMnS  ScN    OPAQue fIxED  unIQUE DefaULT  ""       usiNg LibRary "" @ :5      rAnge ‚®± ..  ‚®±    FORmaT JsOn WIth wrAppeR        "" @ ""     parTiTiOn bY  ‚®±     JOIn  ‚®± On ‚®±     PIvot xMl  DefAUlt    For #Ôπ∫   pASSwORD  @ OVERFLoW    =>  DEfaulT        "" @ ""   DistIncT    =>  ‚®± aS :‡æÖ            In  aNY            cONNECT bY ‚®±  STart WiTh ‚®±    wITH reAD onLY  cOnStRAiNt :2                   +         iS of  FasT  @ ""             haViNg   DEFAult  ""       nOT  iN     privATe   =>  DeFAuLT  "" @ ""                   grOUP bY ‚®±      OrDEr By noT + - XmlQUERY  *   Passing *     rETURNiNG content    AT lOCaL    at tiME zonE SeSSIONtiMezOne    At LocAl         Not MembER oF "" @ :1    UNIQUe NOT nChR  ‚®±     ** extrACt  tiMezone_HOuR frOm daTe  ‚®±          NOt  iN    ‚®±                +   WiTHIN GrOuP  oRdER SIBliNgS BY CurReNT OF  :#5   .  "" @ ""            ASc  nulls lAST       ovEr     At Time ZOnE dbTIMeZoNE                deSC  nUlls fIRsT     fOr upDaTE oF  ""  .  *    nowAIT   With cHECK OPtION  ConStRAINT fALsE                                HavIng CurrenT oF  "" @ foRMat     ALl "" @ ""   ALl    =>  nOt *   is oF TyPe  :6  @ ""            aS ""         +               