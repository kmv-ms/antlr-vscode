CreATE nONedITiOnaBlE  pRoCeDUrE :63  @ "ó∂ó" . "Æô°"   .  "ß©†" @ cHunK  @ "°õ∫"      aS  BEGiN  exCEpTIOn when "" Ôºà noT ExIstS  Ôºà SELECT "§®Ç"  =>  dEfauLT  cOnsTructOR       iNTO _  @ ""   ( + Ôºâ  Ôºå "¶ó£" @ committEd  @ meMoptIMIze   ( AlL )   .  *     FRoM Ôºà wIth "êìò"  .  :#    aS ( WitH "•û®" @ "·ΩÖ"   .  "" @ :82     as Ôºà ‚®± )  cYCLE Value  ( :·æÖ_  @ "™Ü¥"   =>  defauLt   , NEw SCALe   Ôºà DiSTINCt )   Ôºà + )     ** + nEW "" @ :60      At LoCaL    at timE zoNe SeSsiontimEzone    mULTiSet uniON DIstiNCT  ''      MoD  "≠£≥" @ "≠Ö¥"  Ôºà nOT Ôºà  ‚®± Ôºå ‚®±  Ôºâ  <  ( ‚®± )     and *      Or nOt CUrrENT Of  ‚®±        )   .  TREAt  @ :1  @ nOroWdEpEnDENcies   Ôºà alL )    kEep Ôºà denSE_rank FIrSt oRDeR bY XmlcAST Ôºà MUltiSet Ôºà ‚®± Ôºâ  AS dOuBle PreciSION  % tYpe    Ôºâ  aT tIME zOne DBtimeZONe    MulTiset inTeRsecT  ""  Ôºà + )  over Ôºà pArtiTioN bY "•¢í" Ôºà Ôºâ   =>  ‚®±  Ôºå deFaULT  AS "•ØÇ"      OrDer SIblings bY ‚®± NuLlS LAst     ROWs unboundeD preCeDINg    )      *  Ôºà ‚®± )  AT lOCAL    multiset excEpT  syS_conNect_BY_PaTh ( dIStInct :12  @ cACHe  . "£Æà"  ‚®±  =>  DEFAUlt  as Í†ü0  @ ""     Ôºå ‚®±   )       -  TrANSLatE ( ‚®± uSInG NcHAr_cs )  at tImE ZoNE DBtimEzone    MULTisEt InterSect  wRItE  Ôºà ‚®± =>  DeFauLt  ‡ªù  @ SIze  @ :_      Ôºå ‚®± =>  ‚®± aS ""     )    At tIme zoNE COMpUTAtion   ( ALL Ôºâ   ( + )  % rOwcoUNt       ** "•Çï" @ "êÇí"   .  *  ( + Ôºâ  % bULk_exCEPtiONs Ôºà ‚®± )  . errOr_inDex    MUlTiseT exCEPT  PRIOr CasT Ôºà MuLtiseT Ôºà ‚®± )  AS raw ( UNIquE consTANt  @ :40  . :_   ‚®±  =>  DEfaULt  OvER      )     Ôºâ  At lOcal     At local         sUbMULTISeT OF *       and NOT *   In  (  ‚®±  Ôºå "" ( )   =>  dEFAUlT    )     or EXIsTs  Ôºà ‚®± )       AsC     Ôºâ     ** eXTrACtVaLuE ( DEFAulT  AS "" @ "ßäç" @ "´óó"      , - tImestamP '†ôÅ'    At TImE ZOnE sESsiOntImEzoNe    MULTiSet uNIoN diStiNcT  triM Ôºà Not ( :31   =>  ‚®± ‡®ú‡•à     , ‚®±   )  oVeRLAPs Ôºà "" @ pErCeNtiLe_DIsC  @ cloB    =>  DeFAult    )      anD extRAct ( ‚®±   Ôºå ‚®±  Ôºâ   MulTISeT interSeCT all  CasE ‚®± WHeN ‚®± THeN ‚®±   eNd     *  xmLCaSt Ôºà ‚®± aS ( True  , tRuE  Ôºâ chARactEr SeT ‚®± % CHArsEt     )  at LOcAl    mUltiSET iNtErSECt distiNcT  CaST ( MULtiSet ( ‚®± )  as OPAque FixeD ( Ôºâ  uSiNG LIbRary ""  ( UNIQue )   Ôºà + )  ;   )    ** TREaT ( ‚®± AS "¶≤≥" @ "Ô∑ª" @ :2    .  "êÄó"    )  . :2  @ "Ô∏≥" . ""  ( dEFaUlt  AS OvErRIdInG  @ "ßöá" @ "üß™"      )   Ôºà unIQuE ‚®± #      )      AT tIme ZonE ‚®±    mULTIseT exCEpt  NUlL  At LoCAl         Is noT OF Ôºà onLy pctincreaSE    Ôºå "¢ùà" @ shRinK  . :80     )      oR noT *   NOt  LIke  *   ESCApe ‚®±    And CURRENT OF  :39   Ôºà uNiQue )   Ôºà + Ôºâ       )     mod  XMLqUERY Ôºà DEcODe ( NOt cURREnT oF  "©ñç" @ :_ÔÆ´  @ "¶°ä"      aND ExIsTs  ( ‚®± Ôºâ     oR ‚®± Is  null     and Not ‚®± meMBeR of ‚®±        Ôºå noT ‚®± Likec  ‚®± EsCaPe ‚®±       )  At lOCaL    muLtisET unioN all  ""   ovEr Ôºà paRtitION BY deFaULt   , cYCle  @ "" @ never   ( ‚®± Ôºâ   =>  deFauLT     )     ** cUrsoR Ôºà ‚®± )      ||  Nchr Ôºà eXIsts  ( ‚®± )       Ôºâ  At tIMe ZoNe SEssiONTimEZONE    mULtiset IntErsEct  coNNEcT_BY_rOOT ‚®±        passInG BY vAlUE TRIm Ôºà nOt Ôºà deFauLt   Ôºå unlOCk  ( aLl Ôºâ   =>  ‚®± :30  @ _       Ôºâ  OvErlAPs ( DEFAuLt   , "ß∑Å" @ ordINalitY    =>  ‚®± As "®πû" @ ""      Ôºâ      AND ‚®± =  ANY  Ôºà ( ( ‚®± Ôºâ  Ôºâ  Ôºâ       fROM  NOT ‚®± NoT  IN  ( ‚®± Ôºâ    aNd ‚®± betwEeN  ‚®± anD  ‚®±    oR NOt Ôºà  "õ±π" @ ""  ( ‚®±  Ôºâ   =>  ‚®± "¢°ú"    , ‚®± aS saMPle      )  NOt  In  Ôºà ‚®± Ôºâ        )   MULTisEt eXcept ALL  :‚≥´$  @ ‡≤Ñ   ( Ôºâ    wItHIn GroUp Ôºà oRDER By NoT CUrREnt oF  "" Ôºà UnIQUe dEFAULT   , ‚®± =>  ‚®± As eXistS  @ nOCyCle       )   .  :18  @ :Ôµ±2  . "´°´"   Ôºà + )    anD CurReNT OF  "" ( Ôºâ   ( + )     Or ‚®± < >  ‚®±         Ôºâ  oVER Ôºà Ôºâ   AT loCAL     ** SyS_coNNEcT_bY_PAth Ôºà DistINCt Ôºâ   At locAL       ||  xmlAgg ( NOt ( dEFAUlt    Ôºâ  OveRLAPS ( :53   =>  DefauLT    )      anD ‚®± bEtweEn  ‚®± And  ‚®±    oR noT cUrrENT OF  USer  @ "†É∫"         Ôºâ   mULtISet uNION dIStInct  extRaCT ( TimEZONE_minute frOm datE  NOT ‚®± is oF Ôºà PReSerVe   .  "¨°∑" @ "" @ ""    , "‚òü"  .  fIPsFlAG  @ uSING     Ôºâ     aNd ‚®± >  ‚®±    or cUrrENT OF  "£ü∏" Ôºà ‚®± =>  ‚®± "‚¶Ü"     Ôºâ   .  _‡®ê  @ "òùà"  ( all ‚®± as lESs  @ "·íÇ"      Ôºâ   Ôºà + Ôºâ        )  AT TimE ZoNE dBtiMEZoNE         AS "™πë"     ReturNiNg cOnTenT )    muLtiSeT Union  ( ‚®± )  at tIMe ZoNE SeSSiOntimeZonE     ** ?   mUltIset unIon DiStincT  :53   ( + Ôºâ  keEp Ôºà dense_RaNk FIrSt ordeR SibLiNgS bY Not Ôºà  "" @ :·â©   Ôºà ‚®±  )   =>  ‚®± aS "" @ "Æãà" @ ""     Ôºå DEfAUlT    Ôºâ  > =  Ôºà "" @ eXcePtIoNS  @ :10   ( Ôºâ   =>  DEfaULT   Ôºå ‚®± :8      )     and exIsts  Ôºà ‚®± )     oR *   iS nOt A seT     and nOT *   Is  nOt  InfiNItE        DESc  nuLLS FIRSt   , noT ForaLl    % FoUND   mulTiSEt iNTERSect  Ôºà ‚®± ) at Local       ||  COnnECT_BY_rOot ‚®±    ** decODE Ôºà ‚®± Ôºå ‚®± )  aT LOcAl      Mod  XmLquEry ( ‚®± pAssINg ‚®±  Ôºå ‚®± As noRowdEPenDenCiEs  @ Ô≤≥  . ""  ( UNIQue ‚®± =>  dEFauLt   , ‚®± =>  ‚®± "™∂¨"     )   ( + )    ReturniNG coNTeNt )   AT TiME Zone ‚®±         Is NOT OF tYPe ( PrAGMa  @ "" . OPERAtiONS    .  ""   , :œ∞   .  :52  @ :3     )     aND - ‚®±  MultIseT UNIoN  pRIOr ‚®±  at Time zoNe DbTIMeZOne     ** curSOr Ôºà ‚®± Ôºâ  At loCal       +  triM Ôºà TraILiNg ‚®± from  ‚®± Ôºâ  aT locAL         NOt  BEtWeeN  *   AND  *        asC  NULls FiRST     )  ovEr ( )       ||  SyS_CoNnECT_By_PATh Ôºà diSTiNCt )   at tIME zonE "" @ "" . mINutE   Ôºà )        MuLTISEt inteRSECT  nq'__'          Ôºå Ôºà exiSTS  Ôºà ‚®± )    AND EXISTs  ( ‚®± Ôºâ     Or "óàΩ"  ( DiStIncT ‚®±   )   ( + )  WitHiN GRoUp Ôºà oRder SIBLINGS By ‚®±  , ‚®± nULlS FiRST     Ôºâ     ** + ‚®± at lOCAL      /  tReat ( ‚®± As rEF "" @ :#6  . SERialLY_ReUsaBle    .  ""    )     ** DeCOdE Ôºà ‚®± )   mULtIset ExCEpt DIstInCt  exTract ( SECond FROM ‚®±  Ôºâ  At Time Zone SEsSIONtiMEzOne         not  BETweEn  *   anD  *        ) AT TIme ZOne DbTIMEZOnE      /  xMlAGG ( nOt Ôºà  :_·Äì  @ "§êï"   =>  DeFAulT  eXCEPt  @ "§¨º"     , BUFFer_pOol  ( )   =>  ‚®±   Ôºâ  IN  Ôºà Ôºà dEfAuLT  :5  @ "" @ _       )  Ôºå ( DEfault    Ôºâ  )     And NOT Ôºà dIsablE   =>  ‚®± as "≠≥∫"     )  oveRLapS ( DEFAULt   Ôºå "≠Äú"  =>  DefAuLT    )         OrdEr by nOT cURReNt oF  "Æû¥" @ EDitiONiNG  . "íâ∑"  Ôºà DiStINcT ‚®± As :5     , ‚®±   )   ( + )    AND NOT ( ‚®± Ôºâ   muLtIset uNIon DIsTInCT  tRAnSLatE ( ‚®± usiNg chAR_cs Ôºâ    ** CasE WhEN ‚®± theN ‚®±  ElsE ‚®±   END  aT Time zone ‚®±      *  TReaT Ôºà ‚®± aS rEF ""    )   At time Zone SessIOnTIMeZOne         Not  LIke  FLaSH_CACHE  @ Ô∑¥·ßô   Ôºà UniqUe ‚®± =>  dEfaulT  AS :26  @ NUllS  . "≠°æ"     , ‚®± =>  ‚®± "´∞¶"     )   .  *   % FouNd  AT LOCAl      *  ?    ** pRiOR ‚®±  AT loCAL       ||  - ‚®±   ** ExtRACt ( YEar FRom daTe  ‚®±  Ôºâ   mUlTiset InTERsEcT  TriM Ôºà ‚®± Ôºâ     Mod  FAlSe   at tiME zONe DbTImeZOne    MulTIset InteRsECt  ""  Ôºà + )  % bulK_ExCeptioNS . coUNT   AT loCAL         eSCaPE ‚®±     oR CUrRENT Of  ""        ASC   Ôºå *        ASC     )   MULTISeT unIoN aLL  ""  ( NOt ‚®± OvEr ( pArtitIOn BY ‚®±  orDEr bY ‚®± nuLLs fIRsT     Ôºâ     ** TraNSlatE ( ‚®± USInG ncHAr_Cs )  At loCaL       +  ?  At tiME zONe ‚®±    multiSeT iNtersECT  cHR ( ‚®± uSIng NcHar_CS Ôºâ     MoD  nuLL   mulTISEt EXCEPT all  Null  AT TiMe zONE ‚®±     ** TrANSlATE Ôºà ‚®± UsINg cHAr_CS Ôºâ   multISET EXcEPT DIstiNcT  extrAcT ( ‚®±  Ôºå ‚®±  , ‚®±  )               )    at locaL          )  AT lOCAL    MULtiseT eXcEpT  ConnECt_By_rOOT casT ( nOt *   NOT  in  *         as TiMESTaMP  wItH ( )   TIME  ZonE    Ôºâ  AT tiME zONe SEssiONtImezONE           Is Of typE Ôºà Only "ìÖÅ" @ "" . ""   .  "" @ "" . ÔØù     Ôºâ      OR EXiSTS  Ôºà ‚®± Ôºâ       nuLlS      )   Ôºà + Ôºâ   SEt :63     To 0x0    DEFAUlT n''       SelEcT Java  @ "°ß∞"  Ôºà DIsTINct dEfaULt    Ôºâ   =>  not exIsts  Ôºà ‚®± )     OR xMlcaSt Ôºà multisEt ( ‚®± Ôºâ  AS VaRchAr   RaNGe noT Ôºà :«¶  ( aLL )   =>  DEfaULt  "§≤Æ" @ rEDUceD      , deFaUlt    Ôºâ  OVERlaPs ( ‚®±  Ôºå "" @ SuSpEnd  . ""  ( ‚®± )   =>  deFault  as :77  @ NeVER       Ôºâ      and eXIsTs  Ôºà ‚®± Ôºâ       ..  nOt Ôºà  dEFAULT  ""    , scOPE  @ ""  Ôºà Ôºâ   =>  ‚®± as "" @ "°¶å" . #_       )  ~ =  Ôºà ‚®± Ôºâ           Ôºâ  aT time zoNe dBtImezoNE    mulTISET exCEpT  nEW :8  @ :94  @ "°õº"         +  conNect_BY_RoOt "" @ JavA     wiThin grOuP ( oRDEr siblINGS by ( ‚®± ) at Time zonE SEssIoNTiMeZoNe    mULTISET exCEPT  TREat ( ‚®± As :#_   .  ""    )  . ""  .  "" Ôºà uniqUE )   Ôºà + Ôºâ    At LOcAl      *  XMLaGg ( ‚®± Ôºâ    ** fOund   Ôºà + Ôºâ  % bULK_ROwCOunT ( ‚®± )     mulTiSET Union dISTINCT  XMlqUerY Ôºà *   PASSIng bY valuE ‚®±  ** ‚®± muLTisEt unIoN DistiNCT  ‚®±       Ôºå *     ReturNINg CoNtEnt Ôºâ   at LocAL       ||  + ‚®± At LocAL    mUltiSet exCEpt AlL  CaSE wHen ‚®± theN ‚®±   ENd    ** ·â©2  @ "" . "™ö™"  Ôºà dIstiNCt ‚®±  Ôºå lIKe2  @ "" . DEFErrABLE    =>  DEFAuLT    Ôºâ   .  *   KeEP Ôºà deNse_raNK LAST OrdER SiBlIngs by ‚®± nULLs fIrst     Ôºâ  OVER Ôºà PARTiTion by ‚®±  Ôºå "´üç" ( )   =>  defAuLt     Order By ‚®± ASC     Ôºâ   at lOcAL      *  "ßò≥" @ ""   ( DISTInct ‚®± As :21     , hEAp  Ôºà ‚®± )   =>  DeFauLT  :_  @ :6       Ôºâ   ( + )  % rOWCoUnt        Is  naN      or *   liKE  *        nULls first   , NoT cUrREnt Of  ""  ( DIsTINCt Ôºâ   ( + Ôºâ    And cASe ‚®± wHEN ‚®± ThEN ‚®±   ENd    ** "®µ∫" ( Ôºâ   .  *   KEeP ( DenSE_RANK FIRst Order by ‚®± DeSc     )   aT tIME zOne ‚®±      *  xMlquEry Ôºà ‚®±   *  ‚®±  ** ‚®±      pAsSing BY VALue ‚®±    -  ‚®±  ** ‚®± mulTiseT INTerSeCT  ‚®±       Ôºå *   aS excEpt  @ :3   Ôºà Ôºâ   .  cOLLECt   ( + )    reTUrnIng CoNTent Ôºâ   At TIMe zOne SeSsIoNtiMeZONe    MUlTiSEt iNteRSECT  "" @ expIRE  . :Ÿø   Ôºà UnIque ‚®± aS :1     Ôºå INTerfAce  @ ""   =>  dEFauLt    Ôºâ   Ôºà ‚®±   Ôºâ    OVER Ôºà ORdEr by ‚®± aSc     rOWS BEtwEen unBOundED FOllowing  AnD ‚®±  prECedinG    )       +  CHR ( ‚®± UsIng NchAr_cS Ôºâ  At LOCAl     ** CaSt Ôºà ‚®± as long    Ôºâ     /  CuRsOR ( ‚®± Ôºâ  At timE zOnE DBTiMEzONe    MUltIseT EXcept alL  + ‚®±       not  in  Ôºà  Default  as "" @ ""      )          Ôºâ  ovEr Ôºà partiTiON bY "†¢ê" @ jsOn  @ :4   ( AlL Ôºâ   =>  DeFaulT     Ôºâ     AT LocAl    multiSeT UnioN dISTinct  eXTRACT ( tiMeZOne_RegiON FROM *   < =  all  Ôºà ‚®± Ôºâ    aND nOt ExisTS  Ôºà ‚®± )        Ôºâ        iS  Not  NuLL        "°öÉ" @ #„É£        BuLk COllEct iNTo indicES  Ôºà all )   ( + )  , ""  .  *     frOM jsoN_table ( NOt nEw advanCEd  @ #Ô≥∫      aT tIMe zOne Ôºà nOT Ôºà  ‚®±  Ôºå ""  =>  ‚®± WrAPped  @ "°§ä" @ ""      Ôºâ  in  ( ‚®± Ôºâ      Or :6  ( )   .  cASCADe  @ "" . ""   Ôºà + Ôºâ  wIThIn gRoUP Ôºà ORdEr by ‚®± DeSc  nuLlS LAST   , ‚®±    Ôºâ   aT loCaL    MULtisET inteRseCT DistINct  XmlCASt Ôºà MULtiSET ( ‚®± )  aS Ôºà tRuE  , trUe  ) chaRaCTer Set ‚®±    )  At tImE ZoNe DbtIMeZOnE     ** ExtRActvalUe ( "" @ :Ô∫Ω   ( DefaULt    )   =>  DEfAUlT  aS _      Ôºå *    )        Is  nOt  Nan     aNd CUrReNT oF  ""  ( All ‚®± As "©´ö" @ "´Ö™"     Ôºå "" @ like4  . :11   ( ALl KeEp  @ ""   =>  ‚®±  , ‚®±   )   =>  deFAUlT  aS "ò®õ" @ "©ó•" @ ""      )         )     multiSet ExcePT  :23  ( Ôºâ   Ôºà + )      +  XMlAGG Ôºà not ncHR Ôºà ‚®± )  aT LOCaL     ** DEcodE Ôºà ‚®± Ôºâ   MUltISEt uniOn All  coNNeCt_bY_RoOT "††•" @ dATAfIle  @ :·∏∏   Ôºà All :·Ñß4  ( Ôºâ   =>  DEfaULT  ovEr     Ôºå "" @ "û∏ú" . ""   =>  DEFAuLt    Ôºâ   Ôºà dIstiNCT ‚®±  Ôºå ‚®± "Æùò"     Ôºâ    aT lOcAl         +  CasE ‚®± wHEN ‚®± THeN ‚®±  eLSE ‚®±   EnD  at tIMe ZOne SeSSiOntIMezONE     ** CUrsOr ( ‚®± )  AT TiMe ZOnE DbtIMezOne      /  traNslAtE Ôºà ‚®± using NCHAR_CS )   mULTiseT InTErSect  NUll        MemBeR Of *        OR *   IS  NAN     ANd Sys_ConNECT_By_PAth Ôºà )   aT TIME ZoNe + ‚®± at loCaL         *  tReAT Ôºà ‚®± as REF DenSe_rANk  @ tiMEsTAmp  @ "®®¢"     Ôºâ     ** - prIOR ‚®±   at Local       -  casE wheN ‚®± ThEN ‚®±   END    ** xmLaGG Ôºà ‚®± OrDER sIBLingS by ‚®± dESc  nulLs Last   Ôºå ‚®± desC  nullS LAst     )  AT TIME Zone DeCOdE ( ‚®± Ôºâ  aT LOCAl       MUlTISEt unIOn alL  Cast ( ‚®± as vAliDaTE  ( "" @ ""   =>  DEFAULT  As ""    , :55  ( UNIQue ‚®±   )   =>  DefAulT    )   ( + Ôºâ   )        BeTweEn  "" @ _Ôπñ    .  *   kEEp Ôºà dEnse_RaNk LaST oRDer siBlInGs By ‚®±  Ôºå ‚®± aSC  nUlLS LaST     Ôºâ  OvEr Ôºà ORDEr SIBLINGs By ‚®± deSc   Ôºå ‚®± nUlLs FIrSt     )         anD  *        )  AT lOcaL     ** XMlAgG ( nOT EXiSTs  ( ‚®± )    and Not CuRRENt OF  :34         OrDEr by *           Ôºâ        IS oF Ôºà Only passwORD   .  ""   Ôºå "" @ "" @ STriNg     )     And nOt - + "" Ôºà alL Ôºâ   ( Ôºâ    % fouND  AT tIME zoNe ‚®±     At TIMe ZONE SEsSiOnTimezoNE     ** ?  AT LOCaL    MULtiSeT unIoN  ( NOT ( orDinaliTY  @ :2  . ·πü   ( All Ôºâ   =>  dEFaUlt    Ôºâ  OvErlApS ( ‚®± "‚óñ" @ :3  . :#‡µ®      , DAy   =>  ‚®± "¨òπ" @ "¶£í" @ "¶£Ä"      )       or *   lIkE2  "ëàπ" @ "ó≤ë" @ ""   .  MEdIuM   Ôºà + Ôºâ  witHIn GrOUp ( oRdER sIbliNGS By ‚®± nUlLs fIRsT   Ôºå ‚®± Asc     Ôºâ   at tImE zONe dBtImEzONE    MUltiset eXCept all  XMLCasT Ôºà ‚®± As IntErvAL ( DEfauLt   Ôºå :63  @ ""   =>  ‚®± :69      Ôºâ   "ßæ™" @ NOkEep   Ôºà Ôºâ   Ôºà + )  tO  "" ( uNIque dEfAult   Ôºå DefaulT  as WRIte  @ oiDinDEX  @ ‘Ä‚≤∞       )   Ôºà diStinCT Ôºâ   ( + Ôºâ    )     *  ?  aT TIMe ZoNe SEsSionTimeZOne              )    *  eXtRACTvALue Ôºà sOmE  @ ""  ( ""  =>  cuRReNT Of  "·£ä"      oR nOt u''    MultISEt iNteRsecT  :«≤  Ôºà Ôºâ   Ôºà + Ôºâ  oveR ( )     ** CaSe ‚®± WHEn ‚®± THEN ‚®±  ELSE ‚®±   ENd  At LocAL    MulTISeT iNteRsEcT  ?  AT TIME ZOne dBtIMEZONe         iS NOt Of TyPE Ôºà :3    )        Id      )   =>  deFaulT    , *    Ôºå *    Ôºâ  aT locaL              foRmAT JSOn CoLUmNs Ôºà ""   REF CHR  @ :#1    .  "" @ "üúî"      tRUNcAtE PAtH OverLAPs  @ "" @ "·Å•"   .  #8     ERROr on  errOR    Ôºå "" @ movEMenT  . "¢Çï"   .  "†¢é" @ ""    TRuNCAte   )  Ôºâ  aS Of PeRIOd For "" @ :53   ( DiStINCt ‡≥áÔª¥  ( aLl Ôºâ   =>  ( dEFaUlT  aS dOuBle  @ :_3      , dEFauLt    )  oveRlaPs ( NOt eXIstS  ( ‚®± )    aNd (  ‚®± Ôºå ‚®±  Ôºâ  >  ( ‚®± Ôºâ      or nOT eXTract ( HOuR fRoM DAtE  ‚®±  )   MultISEt excepT ALL  trim Ôºà TRaILiNG FRoM  ‚®± Ôºâ      -  "" ( Ôºâ   Ôºà + Ôºâ  % nOtFOuNd   MulTiSET iNTerseCT ALL  prIOr NEW inITranS  ( ‚®± Ôºâ     at timE zONE Ôºà ‚®± ) aT lOCaL          ** TRIm Ôºà ‚®± Ôºâ  at TimE Zone DBtimezonE         ^ =  *         Ôºå :3  @ :44   Ôºà DiSTiNct ‚®± )   =>  cUrrENT of  "" @ "°èü"   ( aLl ‚®± )      AND nOT - :74   Ôºà + )  % bulK_RowcOuNt Ôºà ‚®± )      muLtiSET eXCEPt diSTiNcT  NEW CoaLESce   Ôºà Ôºâ   Ôºà + )   aT TImE zonE dbtImeZONE     ** 0.7e-3f   AT LOCAL    muLTIsET IntErsECT  ( ‚®± )  at tIMe zone SEsSiOntimezOnE      *  ?      -  ( ‚®± Ôºâ    ** eXTracT ( DAY from ‚®±  )   mulTiSet Except DiStinCT  CoNNecT_bY_ROot EXtRACTvalUE ( ‚®±  Ôºå *    )  aT LocaL     At TimE ZonE TRIM Ôºà ‚®± Ôºâ           Is nOt OF Ôºà only ""  .  DefErraBle    Ôºâ      OR (  ‚®± Ôºå ‚®±  Ôºâ  ~ =  ( ‚®± )        aS NATIoNAl      Ôºâ       Or "ëçç" @ "≠§Ø" . _   Ôºà )    % bulK_ROwCoUNT ( NoT eXISts  Ôºà ‚®± Ôºâ       )    At locAl    MULtIsET INteRSEcT  TRim Ôºà not curRent OF  "ëñî" @ :64    ( uNique "•ë≠"  =>  DefaULt    )      aND Sys_ConNECT_by_PaTh Ôºà UnIqUE Ôºâ   aT TimE ZonE sesSIoNtiMezOne         iN  *       OR Not EXistS  Ôºà ‚®± )       fRoM  nOt *   nOT suBMuLTiseT Of *       aNd XmlQuerY ( XmLCAST ( ‚®± As rEF "" @ "" @ FLasH_cachE   ( UniqUe ‚®± aS "™£≤" @ uSaBLE      Ôºå dEfAULt  aS "" @ "≠î°" . "©ã™"      Ôºâ   .  #·∫í  ( )     range ‚®± ..  ‚®±    )   MuLtiSeT eXCepT  nuLl  AT LoCAl     ** DECODE ( ‚®± )     /  ncHr ( ‚®± Ôºâ   MuLtISEt INTeRsect diSTINCT  ( ‚®± Ôºâ        PaSSing CUrsor Ôºà ‚®± Ôºâ  aT TIme zonE seSsIoNTIMEZOne    mUlTiSeT EXCEPt  xmLQUErY Ôºà ‚®± pAsSing ‚®± AS seeD  @ Scope   Ôºà ‚®± =>  DEfAUlt    Ôºâ   ( UniQUe )   Ôºà + Ôºâ   Ôºå ‚®± aS MaTerIalIzeD   .  *  Ôºà + Ôºâ    REtuRNING cONTEnT Ôºâ   At LOCaL     ** exTRact ( "" @ :39  . :51   ( ‚®±  Ôºâ   =>  ‚®±   Ôºå ‚®±  )  AT Time ZoNe ‚®±    MUltISET ExCEpt all  Sys_cOnnEcT_By_PAtH ( ""  =>  ‚®±  Ôºå ‚®± rEplaCe  @ :·ºò  @ mEmOpTimize       Ôºâ       ||  _ÔΩ´  @ "" @ "óÆÆ"    withIn GrOuP Ôºà order by ‚®± NulLs FIRst   , ‚®± nullS lAsT     Ôºâ  oveR ( OrDER SIBLiNgs by ‚®± aSc   , ‚®±    )    MuLtIsEt uNion DistINCT  BUlk_EXcEpTions  @ "≠ëÄ"  Ôºà ALl ‚®± =>  dEFAULT  ""    , DeFaUlt  As :‡æ¶_  @ :3  . qUERY       )   ( + )  Over ( Ôºâ      *  cuRSor ( ‚®± )  aT locAL    MuLTIsET IntersecT  "•üÖ"  .  *   AT LocAl          Ôºå *     retUrnING cOntENT )   aT loCal      *  ""  ( + Ôºâ  kEEp ( DENSE_rANK laSt ORDeR SIBLIngS BY ‚®± DeSC     Ôºâ     ** tRAnsLaTe Ôºà ‚®± USIng NCHAr_Cs )   muLTiset Intersect  CaSt Ôºà mULTISet ( ‚®± )  AS varcHAR2 CoLLaTe "òëê"     cHaRaCTEr seT ‚®± % chArSet     Ôºâ      ||  Ôºà ‚®± )  at TImE zOnE CaST Ôºà MuLTIseT Ôºà ‚®± Ôºâ  as OPaqUE fIxEd Ôºà AlL )  USiNg lIBRAry BaSICFile  @ :1  . "ÔπÖ"  ( ‚®± As poLYmorphIC  @ "" @ STORe       )   Ôºà + )   % rOWtyPe    Ôºâ  at LoCaL        ** "" Ôºà Ôºâ    % bulk_excEPTIoNS . COuNt         noT  in  ( ‚®± Ôºâ       )     *  + pRior tREAT Ôºà NoT curRent Of  "" @ "¨Ñâ" @ :·∫≥#       AnD ‚®± mUlTIseT UniON  ‚®±  ** ‚®± mUlTiSet eXCept dISTiNct  ‚®±      < =  ANY  ( ( DefauLt  ""    , ‡≤Ç‡ß¨   =>  DEfauLt    )  )       AS "" @ pAth  . ""   .  :75     Ôºâ  . :56  @ "" @ "¨ªë"  Ôºà AlL Ôºâ      aT timE zONe dBTimezoNe     at tIME zONe SEsSiONTIMezONe     mULTisET eXCePT  rELY  Ôºà All Ôºâ   .  *  Ôºà + Ôºâ  % bUlk_ROwcOunT Ôºà *     ANd nOt CurRenT Of  "©±Ä" @ :–å  . ""   ( + Ôºâ     OR noT exISTS  Ôºà ‚®± )       Ôºâ      ** chR Ôºà *   is nOt eMptY     ANd *   is NOt A SEt        USiNg NCHAr_cS Ôºâ  at tImE zOnE DBtiMeZOne         lIKe4  PrIOr decODE Ôºà nOt Ôºà "òìÇ"  =>  ‚®±   Ôºâ  oVERlapS ( ‚®±  Ôºå ‚®± As "" @ "" @ new       Ôºâ       Or CURrEnT Of  uNuSABLE  @ "’∏" . _0   ( ‚®± =>  defAUlT    Ôºâ   ( + )    aND NoT xmLQuerY ( *   pASSINg ‚®±    ||  ‚®± mulTISET INTeRseCT ALl  ‚®±   *  ‚®± MULtIseT INterSect diStINcT  ‚®±  ** ‚®± muLtiSEt ExCePt dIstinct  ‚®±      as ""    Ôºå ‚®±   /  ‚®±  ** ‚®±      AS :86  @ neSteD  @ ""  Ôºà UnIQuE ‚®± =>  dEFaUlT   , ‚®± =>  ‚®± "©π•" @ "" @ "≠í∂"      )   ( + Ôºâ    reTuRnIng CONTENt Ôºâ     ** cAscaDE  @ :6  . rOwcOUnT     KEEp ( dENSE_raNk last OrDER By ‚®± Desc   Ôºå ‚®± Asc  nuLls LAST     Ôºâ   AT LoCal      Mod  ExtRaCTVALUE Ôºà ‚®± oVerlApS      , *    Ôºå *    Ôºâ   mUlTiSEt unIoN  sys_coNNecT_BY_pAtH Ôºà Ôºâ   AT LoCAL     ** _”©  @ "íå™"  Ôºà AlL dEFAuLT   Ôºå ‚®± =>  ‚®± "" @ :43       Ôºâ   ( + )  % bULK_exceptioNs ( ‚®± )  . ERROr_codE    MULtIsET INTErSECT  "îîô"  ( "" ‚®±  =>  DefaULt    Ôºâ   Ôºà + )  % notfOunD  AT LocAl       ||  nEw AgGReGaTe  @ :—¥·ª§  . "•ñ≥"      mUlTIset uNion  CAsT ( ‚®± aS DoUBLE pRecIsioN ( )   % rOwtYPE    )  aT TImE zONE dBtimEzOnE      /  cASe wHEN ‚®± THen ‚®±  elSe ‚®±   ENd   mULTiseT intErSect DiStincT  nUll  aT TIME ZONE SesSIONTimeZoNe         betwEen  ExTRAct ( dAy FROm ‚®±  Ôºâ   MULTiSEt EXcEpt  TRanSLaTe Ôºà ‚®± USiNg Nchar_Cs Ôºâ  At locaL     ** "§≥ë"   kEEp ( dENSe_raNK last orDER by ‚®± Nulls firST   , ‚®± nuLlS LAST     Ôºâ  oVEr ( parTiTion by ‚®±  Ôºå DEFauLt  As ""      Ôºâ    mulTISET iNTERSect DiSTINCT  ( ‚®± Ôºâ at LocaL      /  - ‚®± AT time zonE SESSIoNtimEzOne    mUltisEt eXCepT DiSTINcT  Ôºà ‚®± Ôºâ At LOCAl       -  "†±ß" @ ""  Ôºà )    wItHIn GroUP Ôºà OrdER sIBLINgs By ‚®± DESc     Ôºâ  ovER ( Order bY ‚®± nulLs FiRST     ROwS bEtWeEn CuRrenT row  aND currEnt RoW    )     ** ?        AND  *        Ôºâ  aT tiME zONe CAST ( mUltIset ( ‚®± )  as TImE    )       aT timE zoNe cOnNeCT_BY_roOt cONNECt_bY_roOt ‚®±    aT LoCAL         moD  TREat ( eXIstS  Ôºà ‚®± Ôºâ     Or noT Ôºà keeP_DUPLicATes  Ôºà ALl Ôºâ   =>  dEfaUlT  As :45      )  OVeRlaPS Ôºà ‚®±  Ôºå "¨†ô" @ :#  @ roWTYPe   Ôºà ‚®± Ôºâ   =>  ‚®±   )         aS RebuILD   .  :#·º§     )    mULtiSEt INtERSeCT  ""  ( + Ôºâ  at timE ZoNE SESSIOnTimEZoNE              METaDATa  @ "≠ë•" @ PReCIsiOn      , DefAulT    Ôºâ   ( + Ôºâ  bEtWEEn      nATURAL iNner JOin  ThE ( ‚®± Ôºâ  piVoT XMl Ôºà inTERVal '' daY     MULTiSEt UniON  exTRAcT Ôºà tImEZONe_MiNUTe FROm DatE  not chR Ôºà ‚®± uSInG NcHaR_CS Ôºâ  at LOCAL     ** NuLl     /  TRANslate ( ‚®± uSing ncHaR_cs Ôºâ      +  :4  Ôºà DIstINcT )    Over ( PaRTitIOn bY "" @ "" . "„Öµ"  ( DIsTiNCT ‚®± Ôºâ   =>  dEFaulT  iNTeRVAl  @ :6      Ôºå ‚®±    oRDeR By ‚®± ASC  nUllS lAsT   , ‚®± AsC     RoWS ‚®±  FOlLowIng    Ôºâ   At LOCAl     ** cUrsOr Ôºà ‚®± Ôºâ   MultIseT iNTErSECt DiSTincT  ( ‚®± Ôºâ  at Time ZONe DBtiMEzone      /  NEw Ôµª  @ _    .  cOmpUtATIoN  @ "" . :1   ( Ôºâ           in  *      ANd Not (  ‚®± as "¨ØÆ"    , "ù™û"  =>  ‚®± AS ""     Ôºâ  NOt  In  Ôºà ‚®± Ôºâ         Ôºâ  aT time ZoNE DBTiMezONe      mOD  TreAt Ôºà caST ( ‚®± as tiMEzOnE_REgiOn   ( DisTINct OnlY  ( DiSTINcT Ôºâ   =>  deFAuLt   , dEfAUlT  "ó¢Æ" @ witHIn  . ""      )   Ôºà + )   Ôºâ    ** xmlagG ( ‚®± ORder SIBliNgs BY ‚®± aSC  NUllS lAST     Ôºâ  AT locaL    MuLtisET ExCEPT DistInCT  XmLCast Ôºà MUltiSeT ( ‚®± Ôºâ  As INTerVal  "Û†ÜÖ"  Ôºà + )  tO  :9  @ "§ò™"   .  "" @ ""  ( "" @ :‡¶´#  . ""   =>  ‚®±   Ôºâ   ( + )    Ôºâ  At LOcal      mOd  xMLQuEry ( *   pAsSiNG BY VAlue ·û§–ô  Ôºà DEfaULt  LocKInG  @ ""     , ‚®±   Ôºâ   ( UnIquE Ôºâ    wIThIN gRouP Ôºà OrDer By ‚®±    )     ** pRIor ‚®±     *  + ‚®± At LoCaL     ** + ‚®± AT TIMe ZOne DbtimezoNe    MulTIsET iNterseCt  "" @ OrDiNAlitY  . :8     wiTHiN GrOUP ( oRDER SIBliNgS bY ‚®± Nulls laST     Ôºâ  oVeR ( paRTiTioN by DefAUlt   , CROSS  @ "êπº" . _    =>  ‚®± "·¥™"      )          Ôºå *   aS "£££" ( :12  @ cAst    =>  DefAuLt   Ôºå dEfaULt  aS ""     Ôºâ   .  :80  @ PACkage   Ôºà ALL )      reTurNinG cOnTeNt )    MulTISEt INTErsEcT All  ?  aT TimE Zone sys_coNnEcT_By_PATh ( dIsTINCt )   AT loCaL          ||  xmLaGg Ôºà ‚®± oRdeR by ‚®±  Ôºå ‚®± Asc     )   mUltiset uNIoN  XMlcast ( ‚®± AS rEF "´öû" Ôºà "´∏∞"  =>  ‚®±   )   Ôºà + Ôºâ   rAnge ‚®± ..  ‚®±    Ôºâ        NoT  BETWeen  :#  @ "" . ""  Ôºà DEFAulT  aS :_  @ ""      )   .  :14   ( + Ôºâ    ** cUrsOr ( ‚®± Ôºâ  at TIME zonE sessIontImEzONE    MuLTiSEt EXCePT aLl  nChR ( ‚®± )  At lOcAL      *  dECoDe ( ‚®± )   MulTisET INTErSEct  "" @ NEW_nAmes    ( DISTIncT )    oveR ( partItION bY tEmporARy  Ôºà Ôºâ   =>  ‚®±    oRdeR BY ‚®± nuLls firsT   Ôºå ‚®± asc     Ôºâ   AT Time ZOne ( ‚®± ) AT TiMe zoNE ‚®±            And  *        As rEF REuse  @ "" @ :9      )  . "" Ôºà Ôºâ       mulTiseT INTerSeCT diStinCT  New "°´ä" @ xMLTYpe    Ôºà All ‚∫ä·®É  Ôºà aLL ‚®± Ôºâ   =>  dEfauLt  "´´•"    , defaUlt  as minUte  @ :‘≠6       Ôºâ   Ôºà + )   at loCal     ** xmlAgG Ôºà NoT *   IS of Type Ôºà Only haSH    Ôºå "" @ WItHoUt    .  ""   )        Ôºâ      -  CasE when NOt eXISTs  ( ‚®± )     or CUrReNt Of  "®Üá" @ "ñºà" . ""  Ôºà ""  =>  ‚®±  , AftER  @ "Ø¢∫"  Ôºà DisTincT )   =>  ‚®±   Ôºâ   Ôºà + Ôºâ       thEN *   ! =  "òüû"  ( uNIquE defaUlT  ""    Ôºå DEfAuLT  AS "" @ :1  . "£ñ¨"      Ôºâ    % iSOpEN  AT TimE zoNe SEssionTimeZONE    MULTisEt InTerSEcT  tREaT Ôºà ‚®± as :_3  @ :9      )  . HoUr  Ôºà ·â¥5  @ "ÆÉµ" . rEwrITE    =>  ‚®±   Ôºâ   .  *       ** conNect_BY_Root Null    aT LOcAL            or EXtraCTVAlue ( "" @ higH  @ :26   Ôºà DisTInCt )   =>  DefaUlt  aS "" @ ""      Ôºå ncHR Ôºà ‚®± )    ** - ‚®± AT LoCAl          Ôºå *    )   mulTIseT inTERseCT  ExTRaCT Ôºà HoUr FrOm ‚®±  Ôºâ  at TiMe ZONE DBTimEzonE      *  sIZe    wItHIn GRouP Ôºà OrdEr SibLINgS bY ‚®±  , ‚®±    )   at time zoNE sEsSiOntIMezONE       -  COnneCt_BY_root sys_COnNECt_by_PaTH ( )           NoT  betWEEN  :_  @ "Ô≤±"   Ôºà + )  % FOunD  AT tiMe zONE DBTiMEzONe    MUltisEt iNTerseCT DistinCt  cAST Ôºà MuLtiset Ôºà ‚®± )  as ( TruE  Ôºå trUe  Ôºâ chArACTEr sET ‚®± % cHarSEt     Ôºâ    ** Ôºà ‚®± )  at lOCAL         and  *     and nOt EXiSts  Ôºà ‚®± Ôºâ         EnD   MultisET INtersect  PriOr eXtRaCTVaLue Ôºà "§î∫"  =>  Ôºà  ‚®± , ‚®±  )  NOT  iN  Ôºà ‚®±  )     aNd Not 3e-4  At LocaL     ** tRIm Ôºà TRAIlInG ‚®± FroM  ‚®± Ôºâ   MuLTisET unIon DisTinct  :51  @ ‚≥ì   ( diSTINCT Ôºâ   ( + Ôºâ  oveR ( Ôºâ   at lOCAL      *  XmLquery Ôºà *   passINg bY VALuE ‚®± multIsEt EXcept DISTInCt  ‚®±   MoD  ‚®±        rEtURniNg ContEnt )     ** "" ( ‚®±  )   ( )   Ôºà + )  % buLK_eXcEPtIoNs ( ‚®± )  . ERROr_InDEx         NOT  lIKeC  *   EsCAPe ‚®±         , tRiM Ôºà NOt CURrenT OF  "°πÉ" @ ""      AnD *   LIke4  *      or eXists  ( ‚®± Ôºâ    aNd NOT ‚®±           )  aT lOCaL    multISET InTERSEct  cUrSOR ( ‚®± Ôºâ  aT time ZONe DBTimeZONe     ** dATE ''''   aT LOcal    MulTIsET ExCEPt  aRCHIve  Ôºà dISTIncT NoT *     and CurrenT of  NOmaxVALuE  @ "óêã" @ ""   .  *      or ‚®± mULTiseT ExCepT aLl  ‚®±  ** ‚®± MuLTiset unIoN  ‚®±   Mod  ‚®±  ** ‚®± mulTiSEt interSeCT aLL  ‚®±    -  ‚®±      iS eMpty        :4     Ôºå nOT ExISts  Ôºà ‚®± Ôºâ    aNd nOt Ôºà ‚®± )  overLApS ( ‚®± Ôºâ           Ôºâ   ( + )  kEep ( DENse_rAnK first ordeR SIBLiNGS bY *   =  All  Ôºà ‚®± Ôºâ    aNd ‚®±      iS  nULl      OR CURrent Of  "°©õ" ( Ôºâ   .  *  Ôºà + )    ANd noT *   IS  NOT  inFInITE        desc  nULLs laSt     Ôºâ       ||  xmLCAst ( MUlTiSET ( ‚®± Ôºâ  As "™≠ò" @ InStaNce      )  aT LOCAL    muLTISet EXCepT dIstINCt  + ‚®±   ** Xmlcast ( EXIstS  Ôºà ‚®± )       aS CharacTEr Ôºà Not *   <  ‚®±  ** ‚®±    ||  ‚®± MUlTIseT UNiON  ‚®±   /  ‚®± mUlTiset EXCEpT aLL  ‚®±         OR Not CUrrent oF  ·Ñ®  @ "†©é" @ uNLocK   ( DISTINCT DEFAult   , "‚≠ò"  =>  dEfAulT  AS ExcLUDE  @ AGenT       Ôºâ   .  "®êí" ( alL :93  ( Ôºâ   =>  ‚®±   )   ( + )    anD nOT ‚®±  ** ‚®±   mOD  ‚®± MULTISeT inTERSEcT  ‚®±    ||  ‚®±   /  ‚®±      is of Ôºà "®µø"  .  :_·∫Ä    Ôºâ        char Ôºâ  CoLlAte :21      RangE ( "" @ recORD  . "ßÖ™"   =>  DefAult  as "" @ "´êê" . "≠ºÖ"      )  OverLapS ( DEfAuLt   Ôºå ‚®± calL      )      and NOt CuRrent Of  :3  @ ‡•∏    ( ‚®±   )   Ôºà + )     oR *   nOt sUBmUltiSET of *       ANd exIstS  Ôºà ‚®± Ôºâ       ..  ‚®±  ** ‚®±   /  ‚®±  ** ‚®±      Is  Not  naN           Ôºâ         Ôºâ  AT TIME ZonE - ‚®± AT Time zONe sESSiontiMezOnE           MOD  JSoN  @ "òõ±" @ ""  ( uniQue DEFAULT  As :7  @ "íÑ≥"      Ôºâ   ( )      ** PrioR XMLAgG Ôºà not ExiSTS  ( ‚®± )    anD Not *   iN  Ôºà ‚®± )     Or not PrIor ‚®±  AT tImE zoNe ‚®±    MuLtiseT INTerSeCt  varRayS   ( + )  % buLK_rOWCOUNT ( ‚®± )      ** "" Ôºà DisTInCT )    keEP ( DENSE_rank fiRSt OrDEr By ‚®± Nulls LASt     Ôºâ  ovER ( orDER sIbLINgs BY ‚®± Desc  nuLLS firsT   Ôºå ‚®±    RoWS beTWeen uNBoundED FOllOwIng  aNd curreNT ROW    Ôºâ   at tiMe ZONE DBtimEZOne      mOd  ?  at LOCal         NOT  iN  ( ‚®± )    ANd *   BETwEen  Null  aT loCAl       -  Ôºà ‚®± Ôºâ   mUltiSeT uNiOn ALl  CuRsoR Ôºà ‚®± Ôºâ  At TIMe zoNE ‚®±     ** NuLl        And  "" @ :‡∂≠‡µ∞  . MEMBeR   ( ALl #9  Ôºà )   =>  ‚®± FReElIST      )   .  *   % rOWCount   muLTiset exCePT  TraNSLatE ( ‚®± uSINg cHaR_CS Ôºâ  at LocaL     ** saMPLe  @ CrEatiON  . :13    ( Ôºâ   ( + Ôºâ   MULTISeT iNteRsEct dISTinCT  Treat Ôºà ‚®± as ""  .  "" @ "ßØã" . ""     Ôºâ              oRdER sIBliNgs BY nOt (  "¢∞Ü" @ "" . :9   ( all ‚®± , ‚®±  Ôºâ   =>  dEfAUlT  "òÅ≥"    Ôºå DEfaulT    Ôºâ  In  ( Ôºà ( ""  =>  ‚®±  Ôºå :2   =>  ‚®±   Ôºâ  )  , Ôºà DefAULt  COnTAinEr  @ WHen       )  )      OR (  DeFAuLt   , :#  @ novAliDAtE  . "´¶Ç"   =>  dEFaulT  aS "‹±"     Ôºâ  > =  ( ‚®± )        desC  NulLS fIRST   Ôºå CURrenT OF  "¨úô"  ( DIStINCT Ôºâ         Asc  nUllS last     )  aT tiMe zoNe sESSIoNTIMEzOne     aT tiME zONE dEcOdE ( noT date ''   at lOCAl     ** cHr Ôºà ‚®± UsiNG NcHAr_Cs Ôºâ   mULTIsET eXcepT  ( ‚®± Ôºâ     *  nUll      ||  ( ‚®± ) At LOCaL     ** case ‚®± WHEN ‚®± TheN ‚®±   ENd  aT lOcAL      /  xMLQuErY Ôºà *   PaSsiNG *    Ôºå ‚®±  ** ‚®± MulTISet union aLl  ‚®±   /  ‚®± MuLTIseT UnioN all  ‚®±    ||  ‚®± mulTiSEt eXcept  ‚®±        RETURNInG CoNtENt )    mulTiseT exCEPt  "" @ "¶´ß"  ( :#ÿë  @ skIP   ( )   =>  ‚®±  Ôºå ""  =>  ‚®± AS #      Ôºâ   .  *   Over Ôºà partItiON BY ‚®±  , DEfaUlt  :51  @ "©Ä¥" @ :49        Ôºâ   aT TIme ZonE seSSIonTImEZONE         noT  liKe  dEcode ( ‚®± Ôºâ   MuLTISeT UniOn dIstIncT  ExTRACT Ôºà tiMezONE_HoUR froM Date  ‚®±  Ôºâ        esCape ‚®±       Ôºâ  at TiME ZOnE U''   aT lOcAl          multisET EXcEpt aLl  cASe wHen Not *   NOT MeMBEr of *       AnD Ôºà DEFaULt  "" @ "" @ ""     Ôºå "" Ôºà diSTinCt ‚®± Ôºâ   =>  DEFAULT    )  oVERLAps Ôºà ‚®± AS deFeRrED  @ RETurnInG       )       OR noT EXisTs  Ôºà ‚®± )       ThEN xmLaGg ( ‚®± Ôºâ    ** grOUPS  Ôºà ALL )   Ôºà :·äπ0   =>  ‚®±   Ôºâ   ( + )  KEep Ôºà dense_RANK firST OrDER SIBLiNGs BY ‚®± Desc     Ôºâ  OveR Ôºà )      /  Ôºà ‚®± Ôºâ aT tIME ZoNE SESsIoNTiMezoNE       -  XmlaGg ( ‚®± Ôºâ  aT tIME ZONE DBTIMezONe    MuLTIseT intersect  NEw PctUsed  @ lOCAtoR  . "¨°∂"  ( unIqUE )   ( + Ôºâ      MOD  SyS_ConNecT_By_Path ( "" @ "" . :“™0    =>  defAULt   Ôºå ‚®± :94      )    MUlTiseT UNiON dIsTiNct  trANslAte ( ‚®± uSInG cHaR_cS )  at lOcaL     ** null  At TiME zONe ChR Ôºà ‚®± uSing ncHAR_CS Ôºâ             anD not *   in  (  DEFAULt  "" @ "" @ nOMinVaLUe      , IsOlatIoN   =>  deFaulT  AS "" @ :76  @ ""      Ôºâ     OR SYs_cONnEcT_BY_pATH ( Ôºâ     ** _  @ "" . :7    diSTiNCt "ó∂¨" ( DisTinCT )   =>  ‚®±   )    % roWcOUNt  At locaL      mOd  XMLquerY ( *   pASSInG BY valUe *   AS PCtthReshOlD  @ varChaR2  . _5     + )    rEturnIng cOnTent Ôºâ   at lOcaL     ** xmlCAST  ‚®± As dOuBLe PrEciSION   )   mUlTiSet EXCePt  SyS_conneCt_BY_pAth ( DisTiNct deFauLT   , ‚®±   Ôºâ         NOt  bEtwEeN  "¢ùÖ" @ ""    )    % BuLk_ExCEPTIONS . coUnT   At timE ZONe sEsSIontiMEzonE    MulTiSEt UniON aLL  TriM  ‚®± )        AnD  :Ô∂é‡®ù   .  *   +   WItHin GroUP  ORDer by ‚®±  , ‚®± nulLS last        at TIME zonE dBTiMeZOne     ** new ""     MULTiseT eXCept  DECODe  ‚®±   At TIMe ZOne CAse ‚®± WHeN ‚®± THEn ‚®±   End  at LocAl         mod  coNnECt_BY_ROoT eXTrACt  timEzone_mINUTE frOm ‚®±      at Local     ** NChR  ‚®±    MUltISET iNTERsEcT  xmLqUeRy  exit  @ :31  @ "Æáû"   "Æ™§" @ CONsTRAinTS    =>  ‚®±      .  ""  uniquE ‚®± Ô≤∑          +   oveR  pARtITiON by UnLOCK  @ "õâπ" . "®â§"      =>  DEfaULt  as "ßÅâ" @ ""       orDER siBLings bY ‚®± nullS laST     ranGE cUrRent roW       AT locAl      Mod  ?  at lOCAl       +  - ‚®±    /  "´®Æ"  dISTinCt       **  ‚®±   at lOcAL         pASSIng by VaLUe *   aS ""  .  spAce  @ :5    ""  ‚®±    =>  dEFaULT  AS "¨®è"         +     RETuRNING contenT                elSE CURREnt oF  ALwAyS   ‚®±              end        nOt  like4  New "¶å≥" @ #     +    at TImE ZonE DBtimezONe     ** NOnschEMA  @ ""    +   oveR  partITiOn BY NoT   ‚®±    not  IN   ‚®±         :2                     aS "ßàó"     for  RELATIOnAL  @ :‚ºá     +        in  aNY            PartitiON BY  dEFAuLT      LEFT  JOIn  ‚®± UsiNG  "§∫ò"      ALL           sTART WiTh  "‡ºö" @ "≠õã"   =>  DEfaulT      OVeRLAPs  ""  DiSTInCt :77  @ "üüà"   =>  not *   iS eMPty        AS vAlue  @ OVerLaps          =>  deFAuLT              cONnEct bY NoT exiSts   ‚®±              SeaRCH dEPTh FIRst bY tRANslatE  Not *   in    DEFault           usiNG ChAR_cS   AT tiME ZoNE DbTiMEZoNe         Is Not oF TyPE  OnlY ""           dESC    Set EmpTy  @ :“º·Ä¨           ‚®±   Order bY not EXIstS   ‚®±        nULls fIrsT     WIth rEad OnLY      For UPdate Of  #3     SkIP loCkED   WiTH ChECK option  CoNsTRAinT "·ø≤"  distincT          PaRtiTioN bY  SeSsiOnTimEZonE  @ "•ºê"   ALL CuRrent Of  "°Ø°" @ "¨©ß"   .  *   +        AS :67  @ OpAqUe          =>   "ó≥é"  =>  DeFAulT  "‚Üë"       oveRlAPS  NoT *   iS  NoT  infiNiTe                       INneR JoIn  "" @ ·ûò1      cRoSS JOin   SeLECt UnIquE deFauLt  TRuSted       fRom ‚®± UnPivOt iNcLuDe nULlS   :8       :3  @ "†°é"   UnIQUE    =>  DeFault            FOR  "¶Æ•"  unIQue    .  C  @ nChr    UnIQUE :ÕΩ·¢©    +   % BUlK_EXCEPTiONs  NOT   ""  =>  ‚®± "" @ #         ^ =     fORmat  @ "üß´"   all    =>  dEfaUlT                  . eRrOR_Code     ** xmlquEry  TreaT  CurrenT oF  "" @ FiRSt_roWs     ‚®±            as ReF "¢ô∏" @ "™™Ç"              pASSiNG *     reTuRNING CONTENT               AS :6  @ "®≥î"               IN  :_     As  tImEsTAmp ''                 wherE *         HaViNg nOT EXTRaCt  Not - treAt  ‚®± As ""      . sUsPEnd      .  :42  @ ""    +     At tIME zone sEsSIONtImEZone    aT locAl         is NoT OF  _·âñ            aS FIrst_rows  @ ediTIoNinG       , *    Ôºå *      At tImE ZoNe deCoDE  nOT ExisTS   wiTH LeVeLs     "" @ "ë©î"       +      As  ‚®±   SeaRCH DEptH FIrSt bY ‚®±   seT "„çÄ"     CyCle "" @ :8    ""  =>  DEFauLt       .  *    SEt "¢≤î" @ :1      tO inTerVal '' Day  ''   Ôºå .0D      TO seconD  3        deFAULt Q',,'        ‚®±   oRDeR SIbLINGS BY ‚®± AsC  NullS firST     foR upDAte NOwAIT   WitH ReaD oNLY  CoNSTraiNT "Œ∏" @ "§©å"                    ** syS_conNect_BY_PATH  uniqUe DEFAULt  "°ßå"        at TiME zONe SeSSIONtimEZone         noT  in    "≠úÜ" @ "·ëû"   DIsTiNCT    =>  CuRrEnT of  ComPouNd   UNIQuE ‚®±            As :5  @ lob               grouP bY GroUpinG SETS                   unpIvoT ExClUdE NulLS  :’à“ü    +    FOr  "¢∫ã" @ ""   disTiNcT     +        iN  UnbOuNDed             versiOns PeRiOD fOr a  @ :#7     DeFaULt  :49  @ ""          BeTWEEN  *   AnD cONNEcT_by_Root ""  ""  All ‚®± =>  curREnt oF  ‚®± .  ‚®±  +        As ≈ò7         =>  DeFAulT        *   Not  bEtWEEn  + ‚®± AT LoCaL         AnD  inTeRvAl '''' MOnTh  to mInuTe      ** + ‚®± At TiMe zOnE dbTimeZone                    WIthIN GROuP  ORDeR by nOT PRIOR ‚®±    ** pRiVAtE  @ usAGe     diStInCT     +   % NoTFouND  at locAl         NoT  iN  *         AsC       OVeR  ORder SIBLinGS By NOT :7  @ DAta        +   KEEp  deNSe_rANk lAst OrdER by NoT eXISTs    with "" @ "·Öõ"    AS  ‚®±   SEaRch DePTh FiRSt bY ‚®±   Set LiKe2      cYClE "" @ ""     SET "ìÑì"    To fALse    deFaUlt DatE ''       SeleCT DiStiNCt ""  =>  ‚®±    bulk CoLLecT INto :67      .  "†µΩ"        fROm ‚®±   ConnECT BY NOcyCLe ‚®±  sTARt wItH ‚®±  GROUp bY    ‚®±               for updaTe     For UPdAtE OF  boTh  @ "ßõº"    +    NOWAiT   ORDer sIBLInGS bY ‚®± Asc  NULLS FIRst     WITh cHEck optION                       IS  INfiniTE        DesC  nullS LAst          aT loCAl     ** cursoR   wIth :87     "" @ :_    String   =>  defaUlT  vISiBlE  @ ""             As  ‚®±     SeLECt ColUMN_VALuE  @ ""   uniQue    =>  DeFAUlt     intO "¶™∏"  DIStiNct *   =  all    DefAULt             aS "ßçµ"           froM ‚®±   WHERe   :89   =>  nOT *   Not  lIKeC  NuLL  aT time ZONE dbtImEZoNE              "" @ BLOck         ~ =   dEfauLT             connEct by EXists   ‚®±         HaVing ?  at tIMe zoNE DBTIMEzoNe         =  sOmE   ‚®±           oRDeR bY not  NOt eXISTs   ‚®±        ‚∂≥9        OVeRlapS  "†É•" @ ‡±º·ã´    =>  dEFAUlt             Desc  nullS LaST     For UpdATe     WiTh CheCK optiOn                     whERe NOt ?    ** :__    DiStINcT     +   aT Local         BeTWEEN  CURSOr  sElECt uNIQue "íìÅ" @ puRGE    =>  currEnt of  TRAIlinG      .  *   +           fROm  XMLtabLe  XMlNaMeSpaces  DEFauLt  bUilTiN  @ "©ïç"      DefAUlT NQ'‚Ä°ëñ¥‚Ä°'     , ''   paSSiNg defauLt  aS "†™ï"      cOlumnS "" @ _    "ìäÉ" @ ""   =>  ‚®± aS "Æõç" @ rEAd           OVer  pArtITion bY ‚®±    OrdEr sIbLiNgS BY ‚®±         ** + PRiOr ‚®±  aT TIME zOnE ‚®±    aT lOCAL         is  nUlL        fOR oRDINAlITY     As :4  @ ""     PARTitION By  "·çã"  deFAulT  DedUPliCatE         =>  Not *   LikE2  *   EScaPE ‚®±           NAtURAl JOIn  "Ôπå" @ "¨Åâ"    sUbpaRtITioN  :78  @ :54    distinCt     alL :49   =>  dEfAuLt  AS "£Øà"         +     SamPLe   OPTimAl  @ wiThout       =>  DEfAult      oveRLaPS  ‚®±              seEd  NOT *            veRsIONS BeTWEeN tIMEsTAMp  trANSlaTE  EXiStS   wITh ""    "≠†ã"      As  ‚®±   cYCLE :·æ´”É  @ :42     +    set RAIse  @ ""     to falSE    dEFAult TimEStAMP '£∂ü'        ‚®±           UsINg NcHAr_cS         And *     PiVOt  "®öä"  =>  deFault  "´≥é" @ DEDuPlIcATE       For  "ßßÅ"  UNiquE cuRReNt OF  :_Í†ã  @ ""   DEfAULt             AS „Çõ  @ SiZe           +        In  WIth ""    ""  UniquE    .  *   +      AS  ‚®±   seaRch BreaDth FiRSt bY *   is  NOt  nAN        nulLS FIRst    sEt ""        ‚®±   WIth read oNLY               unpIVOT  eXcePtIONs  @ ""     for "¨¶ß"   UNIQUE     +     in  ÔØ∞      .  RAW  @ ""               pivoT  :3  @ :32    *   iS A sET        as sEArcH         =>  DeFAuLt    for  "" @ "üçä"    diSTiNCT not   ""  uNiQue ‚®±     =>  ‚®±     iN     ‚®±             As sAVePOiNt          +        IN  selECT DIstInCT dEFaUlT  "" @ ·¢†·®Å        BuLk CoLlect intO :31    "†°å" @ cascaDE    UnIQue    =>  DefaUlt          fRoM  XmLTABle  $1.     aS nesteD  @ ""     paRtITIon by  cell_flaSh_CAche  @ "®∂•"   =>  NOt XMLCast  ‚®± as oPaQUe fiXED  aLl   usiNG LibraRy "‚ú®"   +    % ROwtypE      aT lOCAL     ** eXtrAcT  year from DaTe  ‚®±          < >  *            jOIn  ‚®± On not   DefaulT  :_4  @ :_         ^ =   ‚®±           UnPIVOt eXCludE NuLLS  "Ø•ä"  "" @ "°ïê"   =>  noT INvaLiDAte  @ :‚∑ú        oVeR           Is oF tYpE  ""           ""          FOr :1   curreNt oF  ""  .  *   +        As overRIDiNG         .  *   +     in   ""  uNIQUe         AS TImeSTaMP ''               "°à≠" @ BYte       pIVOt  dEFAUlt    For  fIRSt_Rows  @ "•øÖ"   UniQue ·§ì·†•  @ :55       =>  *   SUBmuLtISET Of cuRSoR  ‚®±   at TiME zONE seSsionTiMEzONe                           in  AnY            sTaRt WiTh NoT CurRENt of  ""   +         ConNect By NOcyCle NoT XMlagg  ‚®±                 OrDEr BY exiSTS   ‚®±        DeSc               pARTITiON by  tYpe  @ :4       =>  defAULt  "" @ "£ì∂"        crOSs JoiN  TAbLE  not *   LIke  TRIm  ‚®± fROM  ‚®±   At lOCaL     ** - ExTRactvaLue  :_   =>  ‚®± as PCtiNCrease  @ :43       , *      aT LOCaL                 As of PERioD fOr "≠ª∫" @ ""   EXisTS   WITh MAp    as  ‚®±     SELeCT DEFAUlT     FroM _$    SAMPLE bLoCk  ‚®±     pArtitIon bY  dEFaulT       pIvot xmL  ""  =>  ‚®± "" @ ""      For  Purge    +        iN  ‚®±            fOr upDaTe oF  "" @ miN       witH CHecK OPtIoN  CONStrainT :39  @ "°•ï"   uNIQue                    diSTInCT      "¨îº" @ "£¢¨"   defAulT       =>  ‚®± ·àÅ#  @ ColLect         OVeRlAPS  ‚®±               UNPiVOt inCLUDE nULlS  uSeR    DISTIncT "ßÆø" @ ""   =>  dEFauLt  as "°¶ó" @ ""          +    foR  :2   UNiQUe :_  @ FUNCTIoN    =>  dEFaUlt       .  :25            iN  "" @ PURge    .  "¶õß"  uNiquE *   NOt  beTwEEN  #        +   % bulK_rOWcOuNT  ‚®±     aT LoCAL     ** cAst  mulTiSET   ‚®±   oRDER SIBLinGS by ‚®± DeSc     foR upDate Skip lockEd      AS lOng RaW             AND  *        AS seriALIzABle                     joiN  Json_table  nOt  ‚®±        nOT  beTween  "" @ "®ùπ"      .  *   wITHIN gROUp  ORdeR By ‚®± nUlLs FiRST          ** DECode  ‚®±   at tIME zONe SEssIontiMEzOne         anD  *        Ôºå 3.F    COlUMNs  NEsTed PaTh ''    colUMnS  "¨Üñ" @ :48     time  UniqUe     charaCter set noT ExiSts   wIth "õãÉ"    nocAChE  @ "≠∫∞"    "‚∂µ"  uNIquE :7  @ CyClE   ‚®±  =>  DEFAULt       =>  ‚®± lOggINg          +      As  ‚®±      ‚®±   FOR UPDaTE OF  "‹Ø"   +    WAIt 0X     oRdEr SibLINGs By ‚®±               tRuNcaTe foRmaT JSOn witH WraPPEr            UnpIVOT InCLUdE NuLLS   no    +       fOr "´¶î" @ :‡ß≤    deFAULT  aS :2  @ ""            in  :_7   dIsTiNCT     +    AS  iNterVal '''' yeAr  0X                    AS oF TiMeSTAMP  NeW_NAmes  @ ""   =>  - cAst  ‚®± as OpaqUE FIxEd  ‚®±     usIng LIbrARY "ò¶ò"  DIsTinCT         At loCAL      ** TRANsLaTE  ‚®± USINg NchaR_Cs         iS of  onLy "" @ :96             As ReCyClE           ON noT cURRENt OF  "üàö" @ #‚∑Ö    .  ""   +             wHErE *         STaRt wIth nOt   deFaUlt      noT  in   sELEcT LoW  @ "êöø"   ‚®±      =>  DefaULt  ""      froM tabLE  ‚®±    right ouTeR  jOIN  JSoN_tABLe  ‚®± , :·çºÔº§     coLumnS  "" @ DAtafIle     eXISTS paTh DaTe 'Ôºê'          "ñπö"    PARtitIOn by  ""  uniQUe    =>  DEFAULt  BINARy  @ "°Ä∫"         uSInG  "ñΩ∏" @ ""       PIVOT xml  TImEzone_rEGIon   unIqUe deFault       =>  ‚®±   for  :71  @ :88             in  ‚®±          WHeRE ‚®±  cONNEcT By nocyCle ‚®±  grOUP BY cUBe   ‚®±            Having ‚®±    with cheCK OpTiOn  CoNSTRAINT "≠Ö°"              coNnECT bY nOT *   ÔºÅ =  Any   ‚®± AS "†õû"             HAvING  fOralL  @ "≠πµ"   aLL    =>  deFaULT  as ‚Ωπ9  @ ""        Overlaps  bUiLD  @ :6       =>  DEFaULt              gRouP BY grOUPIng seTS   NOT  ‚®± :_#        OverLApS  "¨óÜ" @ mAp    =>  ‚®±                         oRdeR BY  ‚®±  at tImE ZOnE u''   at tIme ZOne ‚®±        ** traNSlATe  ‚®± UsiNG cHar_cs   aT Time ZoNE SesSiONtimeZOne         NoT  LiKe2  CursOR  with "" @ ""     "®öå"   UNiqUe dEfaUlT  "" @ BULK           +      as  ‚®±   sEARch dEPtH FiRst BY ‚®± ASc  NULls LASt    set ""     CYCle :62    +    SET ‚ºî·û¢     To 5   deFaUlT 'ò†å'        ‚®±   oRDEr BY ‚®±    WiTh ReaD OnlY        ** exTracT  TiMezONe_ABbR froM DatE  ‚®±          eScApE ‚®±       NUllS FIrsT     WITH ReAd OnLy  cOnstRAiNt GLoBAl  @ pRiMARY    CuRreNt OF  ""   alL     +                        And  TrEAT  noT *   iS  INfiNItE        As REF :14  @ "§ë§"                    GRoup bY         haVIng NoT *   iS nOt of TyPE  SCOpE  @ "©µ≥"               FoR uPDate of  wRApPER  @ _      sKiP LocKED   OrDER SiBLINGS By nOT ExIsTs   sELECt ""  =>  dEFAulT  As ""      INtO "Æ©£"        FroM xMltabLE  xmLnAmeSpACEs    , 0x   columns cuRreNt OF  :9   INCLuDE  @ "¢±®"   =>  ‚®±      .  *        foR ORdinalITy      PARTition BY  "íÄ∞" @ ""   All    =>  DefaULt                   DesC             "£üø"         +    Then     End :67         