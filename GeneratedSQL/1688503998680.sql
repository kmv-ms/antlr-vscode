< < :6  @ "ßîâ" . ""   > >   meRge inTO jSOn_TAbLE ( CurReNT Of  ElSIf  ( uNIQue Ôºâ       oR NoT tRaNslaTe Ôºà *   NoT  lIkE  "" @ :Ô≥Ω3    ( + Ôºâ  % nOTFOund  aT TIMe ZoNe DBtIMEzOnE    MulTIseT uniOn disTINcT  ncHr ( nOT (  DEFault  As raw     , "•≤µ" @ scOpe  . _   Ôºà alL #   =>  ‚®±  Ôºå ‚®±   )   =>  dEFault  ""     )  <  ( Ôºà "" @ "êî¢" @ NOsOrT    =>  DeFaULT  "ìç™"    , pCtuSEd   =>  ‚®±   Ôºâ  Ôºå Ôºà ‚®± As "òÖá" @ :66      , defaULT    )  )      oR eXIsTs  Ôºà ( wiTh :82  @ ""   .  ""   aS Ôºà WitH :‡¥∂„Éè  @ bAtch     ( "" @ "ÍÆ≤"  Ôºà Ôºâ   Ôºà "" @ javA   ( UnIQuE )   =>  ‚®±  , dEFault  sELf      Ôºâ    , :2     Ôºâ  as ( ‚®± Ôºâ  searCh BrEADTh fIrsT BY ‚®±  Ôºå ‚®± ASC  nUlLs FiRsT    sEt "©ªÆ"       sELEcT DEfaulT  aS "" @ "õâ∑" . "´∏Ä"       InTo subparTitiON  ( "Õç" @ "" @ NOcYClE    =>  dEFAULT   Ôºå ‚®±   )   .  *  Ôºà + Ôºâ  , :56  Ôºà all :Ô≠ó9  @ LIMiT  . "îêΩ"  Ôºà Ôºâ   =>  ‚®±   )   .  ""     From ( _·•ä  @ operATiOns     sAMPLe Ôºà ‚®± Ôºâ   AS :9     pARTITION BY ( ‚®± as "§¶Æ" @ "§≠ú"      Ôºâ   uNPIvOt Ôºà ( "" @ :1  @ "™áÜ"  Ôºà alL dDL  @ "¶≠Å"   =>  dEFAULT    Ôºâ   Ôºà ALL Ôºâ   ( + )   )   fOr "•µ§"  ( + )    IN ( "ùÑí" Ôºà ·¢°‡∞é  @ exTENt    =>  ‚®± AFTER      Ôºâ   Ôºà + Ôºâ   aS 9E1D      )   )     ) VErsiONs pEriod fOR "®ûò" @ :_  @ :6   ( )   .  *  Ôºà + )  bETween  *   And cOmPaCt  Ôºà Ôºâ    wITHin gROUP ( OrdER bY ‚®±    )     ** :73  @ "" . ""   ( + )  % BULK_RoWCount Ôºà ‚®± )    AT LOcal       +  caSE WhEN ‚®± ThEn ‚®±  elSe ‚®±   ENd  At LOCaL      *  "" @ "" @ "¢óã"  Ôºà )   Ôºà UniQUe DEfaulT  as "" @ ""      )   ( + )  % BUlk_eXCePtiONS ( ‚®± Ôºâ  . eRror_InDEX     ** datE ''   AT timE ZOnE ‚®±           pIvOT ( buLk_rOwCOunT   =>  defAult  EleMENt  @ :29  @ FOreiGN      Ôºå ‚®±   FOR Ôºà "" @ "" . "¨Ñã"  ( unIquE ‚®±   )   .  RELaTiONAl    Ôºå #  ( uNiquE )     Ôºâ    in ( aNy   )   )        , Ôºà ‚®± )  UNPIvOT incLuDe NuLlS Ôºà "" @ :‚Ωè    Ôºà :Ôø©  ( :4  @ ""   =>  deFaULT  as precISIon      Ôºâ   =>  DEfAuLt   Ôºå dEFaUlt    )     fOR Ôºà ""  ( + Ôºâ  Ôºå "êïü" ( uniQUE "§ªá"  =>  ‚®± as "" @ ExcePtION_iniT  @ eVaLuaTe      , "" @ ""   =>  ‚®± ""     Ôºâ   .  *    )    iN ( Ôºà :31  ( UNiQUe )     Ôºâ   aS Ôºà q'&&'   , '©ó∫'   Ôºâ     Ôºå Ôºà "" Ôºà )   Ôºà ‚®±  , DeFAuLt  aS ""     Ôºâ   Ôºà + )  , :15  @ "≠Éç"     )    )   Ôºâ      PArTitIoN By Ôºà ‚®± nOroWDEpeNdeNCiES     Ôºå "" @ PaRent  . __   Ôºà UniQuE Ôºâ   =>  dEfault    )  CrOss JoIn  xmlTaBle ( XmlnamEspAces ( mAXvALUE  @ "¶õò"  Ôºà Unique Ôºâ   =>  deFault  DePth  @ ·∫ï  @ :1       DEFAULt tiMESTAMP ''   )  , U'§öí'   paSSING bY VaLUE ‚®±     )     Pivot Ôºà dEFaULt  "®ëÜ" @ :_      , stOre   =>  ‚®±   for vISIBLE  @ :29    Ôºà ""  =>  ‚®±   )   ( + Ôºâ    In ( ‚®± Ôºâ   Ôºâ      whErE ‚®±  CoNnECt bY NOCYCle ‚®±  start WitH ‚®±    MInuS  SeleCT aLl DeFaULT     frOm "" @ ""    SAMPLE blOCK ( ‚®± )  SeeD ( ‚®± )     paRtitION BY ( DeFaulT  AS rowCoUnt     , :4  Ôºà all "" @ "" . unBoUNded   ( Ôºâ   =>  ‚®± ""     Ôºâ   =>  ‚®± AS :#€ß      )     WHERe ‚®±  ConNeCT By ‚®±  HaViNg ‚®±  gRoUp by ( RolluP Ôºà ( ‚®± Ôºâ   , ‚®±   Ôºâ    Ôºâ         Ôºâ  CycLe ·ÜªÍí°   .  "´í±"  Ôºà + )   SET "Æ™™" @ INDexING    .  NonE     tO 0x    deFauLt u''''      , :5  @ piPeLineD     as ( WITH :·ßÜ   .  "¢§â" @ "™Ω≤"    ( :95  @ #  @ ErrOR_COde   ( )   .  "" @ "™ãº"    , "" Ôºà distINcT DEFaULt   , "" @ "" @ ""  ( diStiNct )   =>  ‚®± "§´î" @ COunt  . "íãâ"      )   Ôºà DEFauLT   , COMPiLe  @ :8  @ :34   Ôºà All Ôºâ   =>  ‚®±   Ôºâ   Ôºà + Ôºâ   )  aS ( ‚®± Ôºâ  SEaRch DePth firsT BY ‚®± aSc  NULlS lAST    SET "†≠å"  .  MEtAdata       Ôºå "" @ "‡¨á" @ ""    Ôºà SelF    , FOraLl  @ :26  @ "ó†ü"   .  *  Ôºà + )   Ôºâ  as Ôºà ‚®± )  CYCLE :_  Ôºà Ôºâ   Ôºà UnIque DeFAult  AS LiST  @ "" . StaTistiCS      , "¨Ñè" @ "¶≥Ø" @ ""  ( uNiqUe ‚®± As "" @ uSAble       Ôºâ   =>  ‚®±   )   ( + )  Ôºå "" ( deFault    Ôºâ   .  ·Åô2  @ Í†°_      sEt :„Åü2     tO INTERval '''' MiNUtE  to YEAr     defAult inTeRVaL '' houR Ôºà True   )   To mInUTE Ôºà tIMEstAMP ''   Ôºå 0x3   Ôºâ         ( ‚®± )  UnION  SElECt ""  =>  DeFAULT  :_  @ ""     , deFauLt     bulK collecT iNTo "" Ôºà Ôºâ   .  *  ( + Ôºâ    fRoM JSON_TAblE ( ‚®± ColUmNS Ôºà "≠àÅ"  .  eScAPe    raw   cHARacTEr seT ‚®±    EXISTS Path ''      )  )  PivOT xML Ôºà ‚®± AS :55  @ "" @ cOndITIOnaL       FOR LimIt  @ SUPPLEmENtaL    ( Ôºâ      IN ( ‚®± )   Ôºâ    AS Of tiMeSTaMP  "" Ôºà distINct ‚®± ""    Ôºå _Ô∫î  @ :86  @ "Æ¨®"   =>  DefAuLT    )   =>  DefaULt          Ôºå ( taBle ( ‚®± )   PARTitioN By ( :34  @ ""   =>  dEFAult  "Õª"     )   unPIVot ( Ôºà "£çà" ( ""  =>  DeFAULT  eXcepTIons  @ :65      Ôºå ‚®±   )     )   for Ôºà inSteAD  @ "‚∂Ñ" @ :‡•∫‡∑è    ( + Ôºâ   )    iN Ôºà "ùíÆ" @ "†ñß"  ( ALL )      , "≠¶Ç" ( ALl ‚®±  Ôºå MiNuTe  @ :#8  @ ""   =>  ‚®±   )   Ôºà Ôºâ   Ôºà + Ôºâ    Ôºâ   Ôºâ     ) unpIvoT exCLuDE nUlLS ( :44  Ôºà DisTiNCT Ôºâ   .  *    FOr ( "·ã™"  Ôºà + Ôºâ  Ôºå lOgoff  @ DisALlOw   Ôºà ‚®± as "òÜ±" @ "·≠º" . "ßèò"     Ôºå :27  @ nolOGGing    =>  DEfAuLT    )   Ôºà + )   Ôºâ    in Ôºà ( ""    )    Ôºå ( PreCEdINg  Ôºà Ôºâ   ( DISTinCT DefAult  As "" @ "¢£ã" . ""     , "¶â•" Ôºà ALl )   =>  ‚®±   )     Ôºâ   AS n''      )   Ôºâ    AS of pERIOD FOR ·¶ö  @ ""  ( DefauLT  As :4     Ôºå VArrAy  @ "Øßä"   =>  defAULt    Ôºâ   .  "óôü" @ afTer  . __   ( DIStINCT Ôºâ   ( + Ôºâ  ‚®±       PiVoT xML Ôºà novaLIDate   =>  ‚®± As :#      FOr Ôºà "®èπ" @ :85   ( DefAUlT  "‚§Ö"    , ‚®± as "" @ "™à≠" . :31       )   Ôºà Ôºâ     Ôºâ    iN Ôºà ‚®±  :93  @ FINAl  @ ‚Ωí‡ßó      )   )      staRt wITH ‚®±  CoNNeCt by NOCycLE ‚®±  HAVInG ‚®±    For uPDaTe Of  ""   Ôºå noroWDEpEnDenCiEs  Ôºà uNIqUe "" @ ""  ( UniqUe defAuLT    )   =>  ‚®± "" @ ""      )   Ôºà + )   nowaiT   wITH REAd OnlY  cONStRaiNT "†©´" @ MInuTe       )  SEArCh dEPTH FIRST bY ‚®± aSC  NuLlS lAST   , ‚®± ASC    sEt reducED   .  ‚æÄ·π∏  @ :_·Üç  . "•£å"      CycLe UsAbLE   .  timEzoNE_hOUr  @ CurrenT_USeR  . "°™å"   Ôºà + Ôºâ  , "" Ôºà diStINct Ôºâ     SET :1  @ "" . :69      tO 4   DEFAulT 6.2E-8      Ôºà SELeCT diStINCt ‚®±    BuLk coLLecT INto ""  ( )    , ShrINk  Ôºà ALwAyS  @ "ÆØê" @ ""  ( "≠ö¥" @ :#  . :50    =>  ‚®± as "´ó´"    , "" Ôºà dISTINCT )   =>  DEFAULt    Ôºâ   =>  DEfAuLT  aS "´†â"    , deFAult    Ôºâ   .  *  ( + )    FROM tHe Ôºà ‚®± Ôºâ  "ñ©ì"     PIvoT XMl Ôºà stAtemeNt   =>  ‚®± memOpTimIze  @ ""      FOR "" @ ·å∑  . :79   ( diSTINcT ‚®±   Ôºâ   Ôºà + )    in ( AnY   , Ôºà ‚®±  Ôºå ""  =>  defAUlT  "" @ Join  @ moNiTorInG       Ôºâ    )   Ôºâ      gRouP By ‚®±   Ôºå Ôºà Ôºà )    )      HavinG ‚®±    UnION alL  ( ‚®± )  fOr updAtE  orDEr SIblINGS by ‚®±  Ôºå ‚®± NuLls lASt     WITh CheCK oPTiOn  cOnsTRaINt ·§ö  @ partIal   Ôºà )      Ôºâ  oRDer bY ‚®±  , ‚®±    FoR UpdaTe of  :6  ( ALL "" @ caLL  @ ""   =>  ‚®± ESCapE      Ôºâ    Ôºå _5   ( Ôºâ     sKIp lOCKed    )  ORdER SIbLinGS By ‚®± aSC  nULLs fiRst   Ôºå ‚®± NullS FIrSt     WiTH REaD oNLy    )       Ôºâ     mod  XmLCASt Ôºà nOt *   NOt sUbmulTisEt of *       and NoT "™∞ü" @ "" . "¢üô"   .  :5  ( )   ( + )  % RoWcount   muLTiseT UNiON  TrEAT Ôºà ‚®± AS ReF "¢∂†" @ ""     )      MoD  syS_connecT_bY_PaTH Ôºà AlL Ôºâ     ** XMLquERY Ôºà ‚®± pAssinG ‚®±  Ôºå ‚®± aS "ñ¨ñ" @ :#Ô≤ª  @ SCOpe    Ôºà ‚®± aS :73     Ôºå mETadATA   =>  deFAULT    Ôºâ      REtuRNinG cONTeNT Ôºâ   At TIME zONE sesSionTIMEzOne         NoT  in  ( WiTH :·ù≥4  @ "‡ß∏"   .  ""   AS ( ( ( ‚®± )  WiTh check OptIOn  COnStRaint sALt  @ "îòï" @ ""  Ôºà ‚®±  Ôºå deFAULt    )      )  miNUS  sElECT dISTIncT "£éì" @ Under  @ :·ú•7   ( uNiQue )   =>  DEFaUlt  As :8  @ AlLoW  . "¨Üè"       from xmltABLE ( TrUE   coLUmNs ‚®± INTERvAl  lOg    tO Ôºà aLL "•äñ" @ ""  ( ‚®±  , :9  @ "üûâ"   =>  DEFAULt    Ôºâ   =>  ‚®± aS ""    Ôºå "" ( UnIQUe )   =>  ‚®± MaXSiZE  @ "" @ ‡™ø       )   kEEP_DuPLicATEs  Ôºà deFauLT   , DefAulT  "Ôπï"     )   ( + )      Ôºâ  VeRsIoNS betweeN scN  *   aNd *       paRTITIoN bY ( ‚®± :1  @ :#_      , "Ô∂∞" @ PArenT   ( Ôºâ   =>  DEFaulT    )  NATuRAL fUlL OUteR  jOiN  "™¶π" @ Than  @ "•úã"   .  "®ñÄ"    pARtitIon by ( "êèé"  =>  DEFauLT  :73  @ _·¶ä  @ _‡•™      , ‚®± as :Ô∫≤8      )  fulL  JoIN  ( WitH "¨Ñ¨"  .  reteNtion    aS Ôºà ‚®± )    Ôºà ‚®± Ôºâ   )  vErsions PERIod FoR MetAdaTa   .  :39  @ "" . "§í©"   ( + )  bEtWeEn  *   ANd + ‚®± aT locAl    mulTIseT uniON  - ‚®±     -  trIM ( LeadIng fROm  ‚®± Ôºâ  at LocaL    MuLtiSET INtErSECt  ( SeleCt ‚®±    FROm ‚®±  , ‚®±   sTarT WITh ‚®±  cOnNecT bY ‚®±  GrOuP BY ( CuBE Ôºà ‚®±   )    , Ôºà ( ‚®± Ôºå ‚®± )   Ôºå gRouPING SEts Ôºà ‚®±   , Ôºà )    )    Ôºâ   )   , Ôºà ‚®±   Ôºâ        UniON alL  selEcT "" @ "" . hEaP   Ôºà diStincT Ôºâ   =>  DEfAuLT   Ôºå "" ( DeFAULT   , nONe  @ "óπµ" . "™¨ù"   =>  ‚®± as "§≥ü" @ ""      Ôºâ   =>  ‚®± As "¶∑§" @ :7  @ ""       inTO lONG  @ "£øõ"  ( UniQUe )   ( "´ü¥"  =>  deFaulT    Ôºâ    , VIsibLE  @ :#1  . "ó¶•"  ( dIsTINCT ‚®± :2      Ôºâ      FRoM ‚®± UNPiVOt eXCLuDE NULls ( "" @ a  . ""   Ôºà + )   fOr ( "´∂¶" ( DIStINct )   ( )   Ôºà + )   )    iN ( :71  ( Ôºâ   ( + Ôºâ   as ( NQ'::'   )     Ôºâ   Ôºâ     , ‚®±   GRoup bY ( ( Ôºâ    )   , ( rOLLUP ( ( ‚®± , ‚®± Ôºâ   , Ôºà ‚®± Ôºâ    )    , GroUpIng SetS Ôºà Ôºà )    )    )        FoR update SkiP loCkeD    Ôºâ    ** ( ‚®± ) AT time zOne ‚®±    MUlTiset union DisTINcT  XmLagG ( ‚®± order sIBlings bY ‚®± asc  NUlls Last     Ôºâ     MOD  PRIOr ‚®±  At TIMe zOne SessionTImezoNe    muLtIseT EXCEpt  - ‚®± At LOcaL             JoIn  ‚®± oN ‚®±   usInG ( ·Å•    Ôºâ      WHERE ‚®±  starT WiTH ‚®±  coNNEct By ‚®±    orDer bY ‚®± deSc  NulLS LASt   Ôºå ‚®±    WItH rEAD ONlY    Ôºâ  sEARCh BReaDth FIrSt BY ‚®± desC    set rEdUCED  @ "‚Ä£"   .  ""     cyCLE "" @ rEly  @ :8    .  *  ( + )  , cHunk  @ "Æ£É"   .  *    SET SAMpLE   .  "" @ :·º•  . OUT      TO DaTe '°çÜ'    DefAULt inteRVal '' MiNutE       , "ßöØ"  .  ""   aS ( WItH ·ü§  @ "" . noNschEMa     Ôºà "" ( disTIncT defAuLt   Ôºå dEFaulT  aS :98  @ "†Öî"      )   Ôºà ALl ‚®±  , RePlaCe   =>  ‚®± "™©∫" @ :4       Ôºâ   Ôºà + Ôºâ   Ôºâ  AS ( Ôºà ‚®± Ôºâ  for UpdatE OF  "" @ :_   Ôºà dIsTInct #   =>  ‚®±   Ôºâ    Ôºå prior  @ "" . "°ãî"  Ôºà All Ôºâ   Ôºà Ôºâ     sKIP lOcKeD   ordeR siBLIngS by ‚®± DesC   Ôºå ‚®± NULls last      Ôºâ  cyClE "" @ ReduCEd  . CHAr   Ôºà DefauLt  :1     , ""  =>  deFAuLt    )   ( + Ôºâ   sEt ""  .  VirTUAL     To Q'=='    Default 1.9e+8D       SEleCT "" Ôºà UNIQUE )   =>  ‚®± as "" @ :Ô∞å      , DeFaUlt  as _‡Ω∑       Into :3  @ ""   Ôºà + Ôºâ    fRoM "" @ DaTe     suBpaRtItiOn ( LIKe2  Ôºà ‚®±   Ôºâ   .  :41  @ "¶§Ñ" @ :_$     )  SamPLE BlOCk ( ‚®± )  seeD ( ‚®± )    aS oF PeRIod FoR "®†ö" @ FIRSt_roWS   Ôºà DistINcT )   .  *  ( + )  BEtWEEN    UnPIVoT InCLuDe nUllS ( "ë†É"  ( "§Ωà" @ ""   =>  dEFAULt  recycle  @ "†≥º"      Ôºâ     foR ( :85  ( some  Ôºà alL Ôºâ   =>  DeFauLt    )   .  "†°°" @ "–§"  Ôºà Ôºâ     Ôºâ    in Ôºà "ß∞ì"  ( all ‚®±   Ôºâ      Ôºâ   Ôºâ     AS "•∑Ä" @ NoROWdEPeNdeNciEs       PIVoT Ôºà DEFAUlt   , muLtiset  @ ElEMenT  . ""   =>  defAulT  As :13      FOR ( "ñ©Ç"  .  *  ( + Ôºâ  , :„Öæ·Ü§  @ "·ò®"   ( )   Ôºà + )   )    iN ( WiTH :5  @ ""   .  "§ìå" @ CycLe     Ôºà "¨Ωâ" Ôºà dIsTINcT ‚®±  Ôºå :_·†≤  @ ""  ( :89  @ PRebUILT  . ·ä∏7   Ôºà ALl ‚®±   Ôºâ   =>  deFAuLT  NopAralLEl      )   =>  DEFAuLt  "óé∑"     Ôºâ   Ôºà + )  , "•®ß"    Ôºâ  as Ôºà ‚®± )   , "≠£≤" @ ·ªí  . "≠µó"    as ( ‚®± )  searCh dEPtH FIRST BY ‚®±   Set FormAt   .  "" @ "" . "≠ûô"        Ôºà ‚®± )  OrdEr by ‚®± DeSC  NULLs lasT     FOr updaTe oF  "õãå"  .  :48  @ ""  Ôºà )   Ôºà + Ôºâ  Ôºå "Ô≠µ" @ PasSWorD  . eXcEPtioN_iniT   Ôºà dIStInct )   Ôºà )   Ôºà + )    WitH cHeck OPtiON    Ôºâ   Ôºâ      WHERe ‚®±  StArt WITh ‚®±  connECt by ‚®±  hAViNg ‚®±  GrOuP By Ôºà ‚®±   Ôºâ   , Ôºà roLLuP Ôºà Ôºà ‚®± Ôºâ    )    , ( ( Ôºâ    , Ôºà ‚®± )   Ôºâ   )        UniON  SelECT DisTiNcT :4  @ "´£ó" @ higH    =>  defAuLT   Ôºå ‚®± AS :#„Ç∏       Into "•Ä§"  .  *  Ôºà + )    frOm JSoN_tAbLe Ôºà ‚®± FOrMAT jsON eRrOr oN  empTy  COLuMns Ôºà ‡µõ5  @ uSeR     truncATE paTH ""  .  "Íò¶"      Ôºâ  )   paRTitION bY Ôºà ‚®± as :8  @ ANAlYZE  @ ⁄ë_       Ôºâ  innER JOIN  TABLE Ôºà ‚®± )     pIvoT xML Ôºà ‚®±  Ôºå OuteR  Ôºà DiStincT ""  =>  ‚®±  Ôºå ‚®± :7      Ôºâ   =>  DeFaulT  "" @ pCTveRsion  . "ßâ°"      fOr SubMuLTIsEt  @ ""  Ôºà all :65   =>  dEFault   , "®õ∞" @ ""  ( )   =>  ‚®±   )   Ôºà )      In Ôºà AnY   Ôºâ   Ôºâ         Ôºâ  CyCle ""   Ôºå #6  @ LeVEls   Ôºà UNIqUe ‚®± As full      )     set "£¥´" @ "" . "£ìæ"     To 0xE    dEFAULT $.6      sELect unIqUe :#‡±ò   =>  DEFauLt  paRAmeTERs       BulK colLEct iNtO "≠≠ò" @ ""      frOm ( ( ‚®± partITion By ( DEFaULt  As "ù°≥"     )  nATurAl INNer joIN  ‚®±   Ôºâ unpivot Ôºà "" Ôºà ALL )   Ôºà + Ôºâ   for ( ‡µú·πî  @ MInvalUE   ( DefaUlt   Ôºå :9  ( DistIncT ‚®±  , "‚ß≥" @ PERceNtilE_DisC  . OrGAnIzATIOn   Ôºà Ôºâ   =>  ‚®±   )   =>  DeFaulT  "" @ ""      )    , :6   .  "" @ "¶Çò"   Ôºà + Ôºâ   Ôºâ    in ( "™©π" Ôºà :37  @ fUll  . "°ôæ"   =>  deFauLT  as :‡®π∆∫  @ "" @ ""     Ôºå ‚®±   Ôºâ   Ôºà UNiQUE )   ( + )    , ( :3    Ôºå "" @ pAREnt  @ #9   ( DistINcT )     )   AS Ôºà trUE   Ôºå Nq'##'   Ôºâ     Ôºâ   )     :#Ô≤ö  @ "íÖ∞"     partitiON By ( specifICAtioN  @ "" . cUbE    =>  DEfAulT   , ‚®± AS "ƒô"     Ôºâ    )  naTUrAl JOiN  ( seLeCT DEFAuLT     BuLk colleCT iNTo "ìäî" @ :6  . "óåØ"   .  "" ( "ùÅô"  =>  DEFaUlt  MergE      )   Ôºà + Ôºâ    fROm xmlTAble ( xMLnaMEsPAceS ( Ôºâ  Ôºå .5E1f   pAsSING ‚®± as "" @ pURGe         )  pIvOt ( ﬁ¶»¨  ( diSTInct :1  @ :·àÜ   ( Ôºâ   =>  ‚®± thAN     , ‚®±   Ôºâ   =>  DefaULT  As ""    , "" @ "¨≠Ç" @ wiThOuT   Ôºà )   =>  ‚®± :85  @ WAIt  @ ""      FOr fORce   ( dIstInCT dEfauLT    )   Ôºà + Ôºâ    IN Ôºà wItH "" @ :3  @ :6     aS ( ‚®± )  Search DEPtH fiRST BY ‚®± deSc  NULLs fIrSt    sET nOnsCHema  @ PuRgE  . "òóó"        seLECt DIStiNcT ‚®±  , DEfAULT     frOM ‚®± UNpIvoT Ôºà "©•æ" @ "£´π"     FOr Ôºà sEquence   ( + )   )    In ( ( "òíª" ( )   ( aLL )     )    , _  @ "¨≠ë" . "®∫∞"  Ôºà "" @ :#  . ""  Ôºà all ""  =>  ‚®± ""    Ôºå DefaUlT    )   =>  deFault  aS "" @ ""     Ôºå ReJEct  @ ""   =>  ‚®±   )   Ôºà + )   aS ''''      Ôºâ   )     , ‚®±   WHERe ‚®±  CONneCT bY nocyclE ‚®±  sTART WITH ‚®±    ORdeR siBLiNgS by ‚®± dESc     FoR UpdatE OF  :Ô≠¢  Ôºà DistIncT ‚®±   Ôºâ   ( Ôºâ   ( + Ôºâ  Ôºå cEll_fLAsH_caCHe  @ "¢Æï"  Ôºà "‚´õ" @ "òòê" . :#0    =>  dEfAULT    )     wAIT ''      )   )    as of pERIoD foR SErverERroR  ( unique ‚®± LeadIng  @ :65      , DefauLt  SCalE      )   .  *   ‚®±        Ôºå THe Ôºà ( ‚®± )  wiTH REad onLY  conStRaInt "©êñ"     Ôºâ   pARtiTION bY ( "óÑ¢" ( Ôºâ   =>  DEfauLt  aS ""    , :5  @ :8  . ""   =>  ‚®±   )  LEFT OUTEr  JOIN  ‚®± On ‚®±   pivOT xml Ôºà ""  =>  ‚®± as VaRrAys  @ "" . ·Ä≥ÔÆ´      Ôºå DeFAulT    fOR _4  @ PRIVAte  . alwAyS    Ôºà + Ôºâ    IN ( Any   , ‚®±  "≠É≠"    )   Ôºâ      coNnect BY NOCYcLe ‚®±  GrouP by cUbe ( ‚®±  Ôºå Ôºà ‚®± , ‚®± Ôºâ    )       haVING ‚®±    INtErSEcT  SElECT ‚®± As ""      BuLK ColLecT INtO "" @ :53   ( UNiQuE scalE  Ôºà )   =>  DEfaULt   Ôºå defAULt    )    , "" Ôºà DiStINCt ‚®± aS NEw  @ "†¥Ñ"      Ôºâ   ( + )    From XmltAblE Ôºà tImesTaMP 'ßÇú'   coLUmnS ‚®± fOr ORdiNALItY  , ‚®± doubLE PRECisION   PAtH TRUe   dEFaULt ‚®±   )  vErSIONs BEtween timestaMP  dECode ( ‚®± Ôºâ     /  :3    keEP Ôºà DeNSe_rAnK First ORDeR bY ‚®±  Ôºå ‚®± NUlls firsT     Ôºâ   at Time zoNE dbtImEZOne     ** #  @ nO    ( + )  OvEr Ôºà PArtITion bY "¨úí" @ "íäß" . :·ú®1   Ôºà Ôºâ   =>  ‚®±  Ôºå "" @ :67    =>  ‚®± "" @ "Ø°∑"       orDEr SiBlINGS By ‚®± asc   Ôºå ‚®± desC  NUlls firSt     )   AT locAL    MULtIsEt UNioN DiStinCt  cASt ( ‚®± As "" Ôºà UNIquE )   .  *  ( + )  % TyPE    )        AND NeW xMl  Ôºà )       ** Ôºà Ôºà ‚®± Ôºâ  UnIOn  Ôºà ‚®± )  For UPDaTe WAit DaTE '≠ç¶'      Ôºâ     moD  traNSLATe ( ‚®± uSINg chaR_Cs )  at Local    mUltIseT inTeRsECT  exTraCt ( _9  @ "§Å≤" . "ùù∏"   =>  DefAULT    , ‚®±  Ôºå ‚®±  )  AT timE ZOne SEsSIonTIMeZONe       -  "ùüü" ( AlL dEfauLT  "†¨≤"    Ôºå pIpE   =>  DEfaULt  as :9  @ ""      Ôºâ    oveR Ôºà PaRtITION By ‚®± When     Ôºå "®ïØ" @ :·∫§    =>  dEFAult     )     ** new INclUDe  @ :67   ( ""  =>  deFaULt    Ôºâ   ( diSTINCT Ôºâ     at lOcAl            "·å≤"    PaRtiTION By Ôºà ‚®± :2  @ pRagMa  . ""      Ôºâ  crosS JOIn  ‚®±  pivoT xml Ôºà ‚®±  , dEFaulT    For Ôºà liKe4  @ "‚∏®" . "•á†"   .  :5  @ ConteXT  . :#‡™ë   Ôºà Ôºâ   Ôºà + Ôºâ  Ôºå ""  .  "·î©" Ôºà DiSTiNcT )   ( + Ôºâ   Ôºâ    In Ôºà WiTh "" @ "´¨É"    ( :30  @ USabLE  . ""  ( ‚®± aS ·ßÜ  @ "¨äñ"     Ôºå "ÍîÉ"  =>  ‚®± as EXCepTiONS      Ôºâ   .  "" @ lOCaL  @ _   Ôºà "§õæ" @ READ   ( ALl Ôºâ   =>  dEFAULt    Ôºâ    Ôºå :8   ( All stAtEmEnt  ( DeFauLT   Ôºå miNEXtEnts   =>  ‚®± as NOREly      )   =>  dEfaulT   Ôºå ‚®±   )   Ôºà + )   )  as ( ‚®± Ôºâ  sEARCH bREADTh FirST By ‚®±  , ‚®± nULlS FIrsT    sEt "ëç¶" @ "©•≥" . PERiod         SElECT "" @ "ü©≠" @ ""  ( UNiqUe )   =>  ‚®± ""      InTO "¨©≥"  ( DIstiNct Ôºâ      from XmlTAble ( u'·é∞'    Ôºâ    UNPIVOT iNcLude NuLlS ( Ôºà ≈Ä—Ø  @ :‚¥ñ7  @ Batch   ( deFAuLt  :75     , DEFault    )     )   foR ( _  @ "õá†"   Ôºà + )  , :8  @ "†©ª" . "°≠û"  Ôºà AlL )   Ôºà ‚®±   )   Ôºà + )   Ôºâ    iN ( "" @ ""      , "" Ôºà Ôºâ   ( + Ôºâ   aS ( iNTervAl '''' mInutE Ôºà date ''   , TIMesTamP ''   Ôºâ     , 7  )     Ôºâ   Ôºâ     Ôºå jSon_TablE ( ‚®± FORMaT JSon , 0xf    COLUMNs Ôºà NeStED path 1D    COlUmns ( oPeRaTiOnS  @ :—á2     FOr oRdINalitY   Ôºâ    Ôºâ  )      WhERe ‚®±  staRt WiTH ‚®±  cONNECt By ‚®±  HavINg ‚®±    miNuS  Ôºà ‚®± )  FOr updaTE SKIp LOCKed   ORdeR SiBLiNgs bY ‚®± dEsC  NULlS fIrsT   Ôºå ‚®±    wIth CHeck OpTiON    Ôºâ   Ôºâ        wITH CheCK OptIoN    )  UNpivOt EXcLude NUlLS Ôºà :73  @ vALiDaTe  . LAnGUaGE      fOr ( "¨îæ" @ "" @ :57    .  *  ( + Ôºâ  , :5  Ôºà DistINcT "ùçà" Ôºà bloCk   =>  dEfault  As dEpTh  @ :·æ§·®ô      Ôºå dEfAulT  ""     )   =>  ‚®± "ü†£" @ "" @ MultisET       Ôºâ   Ôºà dIstinCt )     Ôºâ    in ( Ôºà "©ïö" @ :_  . "§ñä"  Ôºà DiSTiNCt rowcOunt  Ôºà All Ôºâ   =>  ‚®±  Ôºå "" Ôºà Ôºâ   =>  ‚®±   )    , :9  @ "" . Ô±î4    ( + Ôºâ   )   aS .3E5     Ôºâ   )    as OF SCn  DeFAult  AS "¨êÅ"        sTRiNg  @ _·ªá      pARTitIOn By ( NulLs  @ "≠¢ø"   =>  ‚®±   Ôºâ  INneR JOin  Ôºà ‚®± pivOt ( dEfAUlt  aS "ñ°¥"     FOR Ôºà ""  ( dEFAUlt  Second      Ôºâ    , ""  Ôºà + )   Ôºâ    iN Ôºà ( wITH "üô±" @ :6    .  :_    aS ( ‚®± )  cycLe Fast  @ ScaLe   Ôºà alL :6  ( Ôºâ   =>  ‚®±   Ôºâ    Ôºå "≠ïé" @ FileSYSteM_LIke_logGinG  @ ""   .  *  Ôºà + )   SET "Æà•" @ "°ÜØ" @ "¨Ωæ"   .  ""    TO n''    DeFAUlt TimEstamP ''      , "" @ DOublE     Ôºà sUBtYPe  ( aLL Ôºâ   .  *   , "" @ ""     )  AS ( ‚®± )  Search BreADTH FiRST By ‚®±   SEt :59  @ "" @ Õµ‡ºí    .  "" @ ""      CycLe "" @ NatioNAL    .  *  Ôºà + )  , :_  @ xmL   ( ‚®± As :31      )   .  "óΩß" ( UniQUe Ôºâ   Ôºà + )   sET reBuILD  @ ""     tO TimESTAMP ''    dEfaULT 0X       SELeCT diSTinCT :Ô≠¥  @ "" @ "®©∫"   =>  DeFaUlT  "‚Ü∂"      FROM ‚®±  , ‚®± UnpIvOT iNCludE nulls ( "" Ôºà defAulT   , vARRAy   =>  ‚®±   Ôºâ   Ôºà diSTINCT Ôºâ   ( + Ôºâ   for _  @ ""   ( )      In ( Ôºà "´ãÄ" @ :83  . sizE   ( "" ( dIstiNCT dEFauLT   , ‚®± nOEXtend  @ :·Éæ  . :68       )   =>  ‚®± as "™§≠"     Ôºâ    , ErrOR_codE   .  *  Ôºà + Ôºâ   Ôºâ    )   Ôºâ      whERE ‚®±  StArT wITH ‚®±  COnnect bY nOCYCle ‚®±  hAVinG ‚®±  gROup BY Ôºà GrOuPing sETs Ôºà Ôºà ‚®± )    )    )        WIth rEaD ONLY  ConSTRAINT "" @ "îì•"      )  OrdER bY ‚®± DESC  NUlls LAsT      )   )     )  pARTITION BY ( :71  Ôºà Ôºâ   =>  dEFaulT  as mAxsiZe     , DEFAult    )   Using Ôºà :4  @ IncLUDe  . ""  ( diSTinct "" ( prOFILe  @ :#1  . ""   =>  ‚®±   )   =>  DEfaULT  ""     Ôºâ   .  ""  ( + Ôºâ  Ôºâ      havIng ‚®±    iNterSecT  ( Ôºà ( ‚®± )  ordeR SIBLInGS By ‚®±    FOR UpDAte   )  for UpdAte oF  cOnSTanT   ( + Ôºâ  , aTtrIbuTe  @ :85   Ôºà UNIQUe Ôºâ   ( uniQUe Ôºâ     skIp LOCked   order SiBLings by ‚®± ASC  nuLlS lAST   Ôºå ‚®± AsC     WITH ReAd oNlY    Ôºâ  foR UPdAtE wAit u''''      Ôºâ       AS Raw Ôºà Ôºâ    raNGe *   < >  *     AND NoT cuRreNt of  "Ôøé" @ "" @ "´†£"   Ôºà ‚®±   )         ..  ?      -  CursoR ( WITH ‚≤π  @ "™®ì"    Ôºà "ßçç" ( UNIQUE DEfAULT  as "" @ :_‡™û       )   .  *  ( + )   )  aS ( WIth AgGrEGAtE  @ "£íî" . :23    .  ""   Ôºà DISAssOcIAte  @ FUnCTioN   Ôºà )   .  *    )  as ( witH SuPPLemENTaL    As ( ‚®± Ôºâ  SeARCh BReAdTh FirSt BY ‚®±   seT "óã±"  .  "§òÅ" @ "ß¢Ç"        SELeCt ‚®±    buLk coLLeCt inTO "“â"  Ôºà + Ôºâ    FrOM JSOn_tABle ( ‚®± , 0xB    cOlumNs ( _    FOR ORDINality   )  Ôºâ  VERsIOns peRIod FOR ‡Øä    ‚®±  ‚®± anD ‚®±   unPIVOT ExcLUDe nulLs Ôºà Ôºà "‚éõ" @ MaTCHED      Ôºâ   For cOllatiOn  ( UNiQUE "¢∏æ" @ "™§Ä" . ""  Ôºà )   =>  DeFAult    )   ( All Ôºâ   ( + )    in ( "§ªú" Ôºà :73  @ "" @ :75    =>  DEFAuLT  ShriNK  @ :75       Ôºâ   .  :·Ö©3  @ ""   ( + )   as ( DAte ''''   )     Ôºå "" ( diSTiNct )   ( uNIQue NoRely  @ EvaLUaTE    =>  ‚®± As "" @ TrUSteD  . ""      Ôºâ     as Q'##'      Ôºâ   Ôºâ     AS :1     parTiTion By Ôºà "" ( ‚®±   )   =>  DeFaulT    )  NaTurAL JOiN  Ôºà ‚®± )  AS oF PerIod fOR "©Ç§" ( deFaulT  SAmPle  @ "ß©°" @ :3       )   .  _Ô≥∑  @ "" . “®     beTWeen    pIVoT Ôºà ‚®±  Ôºå CuBE  @ AftER  @ ""   =>  ‚®± AS ""     fOr ( "" @ :_‡ÆÆ  @ DATABAsE   Ôºà DISTiNCt Ôºâ   Ôºà + Ôºâ  Ôºå gLOBaLlY  Ôºà DefAuLt    Ôºâ   ( ALl Ôºâ     Ôºâ    in Ôºà Ôºà ‚®± :65     , ""  =>  DefaulT    )    )   Ôºâ          WherE ‚®±  cONNEcT bY ‚®±  StarT wIth ‚®±  gRoup BY ( ‚®±   Ôºâ   Ôºå GRoupIng Sets Ôºà ( ‚®± Ôºâ    Ôºâ         IntErsecT  SelEcT aLL :5  ( DEFaULT  As "†™∑" @ ""      )   =>  ‚®± "" @ "‡æí"       Into auTO  @ :›Å   ( DistiNCt )   ( + )  Ôºå "" @ EdiTiONinG       FROM Json_tAblE ( ‚®± Ôºå "" @ ""   .  MaSTER     COlumnS ( :87   .  #3    oPAqUE FIxEd ( "" @ :7  . :#    =>  ‚®±   )  USing LibRary ATtrIbUTes  Ôºà uNIqUE Ôºâ   .  *  Ôºà + )    EXISts paTh "™âõ" @ "" . "†¶ª"     eRRoR On  eMPtY    Ôºâ  Ôºâ  uNPiVOt iNCLude NuLlS ( "·∫∑" ( aLL Ôºâ     FOR Ôºà "¨≤î"  Ôºà + )   Ôºâ    In ( tAbLeS  @ vArrAy  @ ""   Ôºà "ßÖΩ" @ "¨üë" @ ƒ∏6    =>  ‚®±   Ôºâ      , "" @ ""  ( DEfAULt  As "™å≤" @ Unlock  @ ""      Ôºâ   ( + Ôºâ    Ôºâ   Ôºâ      PartITioN by Ôºà ‚®±   Ôºâ   PIvot Ôºà :9  Ôºà UniQue Ôºâ   =>  DEFauLt  ""     For StatIsTICs  ( uNIQUE Ôºâ   Ôºà :#   =>  DefAult  as vALIDATe     , :56   =>  ‚®±   )   ( + )    in ( aNy   Ôºâ   )     Ôºå SUBtYpe    SuBpARtItiOn ( "" @ Partitions   ( aLL deFaULT   , ‚®±   )   Ôºà Ôºâ    )   cRosS jOIN  XmlTABlE Ôºà trUe   PASSING ‚®± "†™¢" @ "·ò¥"        )   jOIN  _3  @ dUPlICated  @ :3      PArTitioN bY Ôºà "" @ ‡µô  . "·Ñå"   =>  DEfauLt  aS ""    Ôºå DeFAUlt    Ôºâ  JoiN  ‚®±  USING ( "ìÅ∞" ( Ôºâ   ( + Ôºâ  Ôºâ      cONNeCt BY NoCYclE ‚®±  STArt WITH ‚®±  grOup BY  (  )    )   )      HAVINg ‚®±    OrDer by ‚®± asc  nUlLS FIRst   , ‚®± nULLs lASt     foR UPDatE OF  BulK  @ "" . "•∏ã"     waIT iNTeRval '' minUtE  'üó§'   )   To MInUTE      WiTh reaD ONLY    )  cyClE "" @ "" . ""   .  MINExTeNTs   alL ScalE  @ :1    =>  dEFaULt    )     Set ""    To dATe ''    deFAUlT falSE      , oBJeCt  @ "¢°≥"     "w"   +   , ÔªèÔæ∫   alL ‚®± :1  @ :35          .  "´ê≤" @ "·∏Å"    +      As  WITH "ë™ê" @ "ßÄâ"   .  VarchAr2    aS  ‚®±     sEleCT aLL ‚®± AS "°à∏"      frOm THe  ‚®±   VERsIons BETwEEN TIMeStAmp  ‚®± And ‚®±    "®Ñè" @ :#      CRoSS jOin  JSOn_tABLe  ‚®± FormAt Json errOR oN  ErRoR  Columns  nESTEd path :2  @ uNUsed  @ prESerVE      coLumns  partITiOns    FoRMaT Json PaTh $.0   eRror ON  eMptY        Ôºâ     pArtiTIon by  ""  UNiQuE    =>  dEfAUlT  "ñπå"           WHEre ‚®±    uNioN AlL   ‚®±      seARCH BreADTh FIRst bY ‚®± dEsc    seT :„Çç‡≠¥  @ "°ßπ"   .  :‚∫∫  @ "®í©" @ inValIDATe       CycLE sYstEM  @ :42  @ :44        +    sET ""    TO .1d    DeFAuLT 0.6E+5d        SeleCT UNIQUe "•¢ü" @ "ùÉë" @ "ß¨æ"   _3   =>  ‚®± AS kEy     , DefauLT       =>  ‚®± :38  @ "" . SHARD        iNto ""  disTincT       FrOm  ‚®±   As oF sCn  ‚®±       NATuRal rigHT  Join    ‚®±   piVot xmL  deFault   , LOcal  @ unliMitEd  @ ""   =>  ‚®±   for  :7  @ :‚∂®     , ""  deFaUlt  "" @ RepLaCe  @ "ñ´ë"     Ôºå ""  :9  @ "†ìÑ" . :_    =>  ‚®±  , DEMAnd   ALl    =>  DeFAULt  as ""        =>  defaULt        +        IN  ‚®±        vERsIonS BetWEEn TImeStAMP  ‚®± AnD ‚®±    aS "" @ "‚ù¨" @ MaXtRAns      crosS JOIN  ‚®±  UnpIVOT exClUDE nULLS   daTE  @ #›©     all "Í™ç" @ "•∂•"   =>  ‚®± AS ·üÇ              fOr  ""   +   Ôºå :2  @ ·æß3  @ "¶´æ"       dIStiNct          in  oID      .  *   +    As  fALSe        Ôºå  rAW  @ "®Ωç" . ""   .  ""  DEfaULt        +                 PiVOT  ‚®± ""     FOr  "´Ü™"        IN  ‚®±          pArTiTiOn BY  "" @ :9    defAUlt   Ôºå "" @ compuTATION    =>  ‚®±      =>  DEFAUlt  Temporary          UnPIVOt INCluDe nulls   "ß≤ë"  DiSTInct ‚®± aS :ÔΩº‚ªñ  @ "™æ©" . _6               FOR :33  @ SoRt    UNiqUE     DiStinCT ‚®±       +     In   inNeR    Ôºå "´úß" @ "§≤Ø" . "©Ø±"   .  *   +       as 8     ,  kEep_dUpliCatEs  @ "¶°Ø" . ""    ALL deFauLt  aS :_#  @ :40           Ôºå Max           AS ''               WHerE ‚®±  cONnEcT by ‚®±    MinuS  SElECT uNIque "·èõ"     =>  DEfauLT  "·∏ê" @ "†ÑΩ" . :35      Ôºå "ßπæ"  UNiQUE    =>  ‚®± as LeadiNg       FroM TAblE  ‚®±    paRTitIOn BY  TRaNSlate  @ suSpeND  . :9    DeFAulT       =>  ‚®± as "´∑Å" @ "‚≤û" @ ""     Ôºå ""  =>  dEFAuLT       UNpIVot EXcludE nulLs  √Æ   ‚®±  , defauLt       .  *   +    FoR "" @ :38     ALL     +     iN  "®áî" @ CHAr  @ FIlESySTem_liKe_logGing               Ôºå  XMLtABlE  xMLnAMespaces  dEFAuLt TIMeSTAMP ''     , dATE ''   COLumnS ‚®± FOR ORdINAlity     VersIOns peRIOd fOr :_  @ ""    ‚®±  ‚®± AnD ‚®±   unpIvOt   :63   ALl locAl  @ :3    =>  ‚®± ""    Ôºå ""     =>  ‚®± "" @ :_               +   Ôºå syNONym  @ ""   aLL    .  JAVa        foR "£¥£"   +     IN   "" @ "†äæ"   DiSTInct dEFaUlt        +   Ôºå :·∏Ñ        AS  u''''   , INterval '''' hoUr  NQ'|óß∞|'      TO HOUR                  pArtiTION By  deFAuLT       PIvOt  "óá•" @ HeAp  . "¶µ™"   deFAulT   Ôºå :11   ‚®± As SuppLemEnTaL     , "ò§ë" @ ‚æ≤    =>  ‚®±      =>  ‚®± ""        =>  dEFaULT    FOr  "Æ•ì"  .  *   +   , :77  @ "ÆÖÜ"       dIsTiNCt          In  aNy   , ‚®±                hAviNg ‚®±  GroUP by    ‚®± , ‚®±       , rollup  ‚®±  , ‚®±               WItH cHecK optION  cONSTrAiNT StaTeMent        INTeRSecT   sELEct DEFAULt  As NExT  @ "•êÑ" @ SUBPaRtITions        BUlk coLleCT InTO "íéë" @ #  @ ""      .  #„Éº  @ "" @ editioning    AlL dAtE      =>  ‚®± ""         +     fROm  ‚®±   pIvoT xml  ‚®± "©äµ" @ :24      Ôºå dEfAulT    foR "ßñâ"     IN   "´êù" @ LImiT  @ PctINCrEase    =>  ‚®±  , ""  deFAulT  As :#  @ "òì¢"     Ôºå "¢í£" @ "ØßÅ"   aLl DEfAulT  :9     Ôºå :Ô≥É  @ sEts  . ""   =>  ‚®±      =>  ‚®± AS AnysCHeMa         =>  DeFault       aS "ùü£" @ "" @ "§ª≥"     ,  "´Öõ" @ ""   =>  dEFAUlt  €ü     , :6   =>  ‚®± As :5  @ KEy                    parTITioN by  ‚®±  , dEfAULT      InNer Join  "©éÄ" @ ERROr  . _     sAmpLE bLoCK  ‚®±   SEEd  ‚®±        PiVoT xml  :58  @ ""   =>  ‚®± "ùì†"    , defAULT    foR "ßøé"  dIstINCt DEFAUlt        All     +     In  ‚®±         , xMLTabLe  XMLnAMesPAcEs    , 'ìÉê'   COLUmns ‚®± fOr ORdiNaLItY     VeRSIonS periOd foR "‚ÅÅ"  dIstInct TabLeS  @ :7    =>  ‚®± dEfINer              +   BeTWeEN  ‚®± AnD ‚®±   piVot  dEFault  aS "" @ "" @ :ÿº”Ü       fOr  RANge       Ôºå ""  DIsTiNCt cOlleCt  @ ""      =>  ‚®±  , :9   =>  ‚®±      .  *   +        iN  Any   Ôºå ANy           as rOwTYpe     FulL  joiN   ‚®±   AS "" @ „Åº       on ‚®±     Where ‚®±  STaRT wiTh ‚®±  coNnEcT bY NoCYcLe ‚®±  HaVING ‚®±    fOR uPdaTe NowaiT      oRder bY ‚®± nullS lASt   Ôºå ‚®± dEsc           WItH noSCAle  @ "°ê°"     :_7  @ brEADth    .  "≠∏ô" @ sUspENd  @ "•ºΩ"   UNIque "¢òë"     =>  dEFaULT        , "°Ç†"      aS  sELECt DisTinCt deFAULt  As ""    Ôºå ‚®± as :21  @ :#  @ ""       INTO DeFERRaBlE  @ ""    +   , ""  DiSTinCT     uNiQuE "" @ "≠∞≥" @ :60    =>  ‚®± "êôì"    Ôºå :‡≤≤   =>  deFaulT          FrOM  taBLE  ‚®±   UnpIvoT excLuDe NuLlS   NomInvAluE   "" @ loGoff    diStInct ‚®±  Ôºå DEfAult       =>  ‚®± :11  @ fiNAl  @ ""     Ôºå DEfaUlt  as "ñßï"         +   , hIgH  @ "≠∫õ" @ reads             FOr _#  @ ""   ‚®±       +     IN  :60  @ :2           , ""   +            as of Scn  ""  diSTinCT ›Ø   =>  ‚®± oiD         =>  defAulT  "" @ "" @ UNLiMiTed      Ôºå defAULT       As :8  @ aNYscheMa  @ ""     pArtiTion BY  "" @ "¢ëõ"   all    =>  DEFaULT  aS "Í©£"           InnEr JoIN  tAbLe  ‚®±   As Of PErIoD fOr "ß¶ü" @ buffEr_POoL  . ""    ‚®±    uNpIVOT iNcLude NuLls   _   DIsTinCt     , OnlY    +       foR  #   ‚®±  , DEFaULt  As NOEXtEND  @ "¶Øâ" . :4                in  "" @ raW    "£öò" @ :6    =>  dEfAult       .  *    AS TiMEstAMp ''''      ,  "£ü´" @ ""    UnIQuE     +   , NomAXValUE   .  aLLow  @ "£áú" . :‚ª∞    unIqUE     +       as  dATe ''                 pArtiTioN by  ‚®± ""       rIght  JOiN  XmLtAbLe  XmLnAMeSPacEs  ""  "©Ωê" @ :·å°  @ ""   =>  ‚®±  , ‚®±      =>  ‚®± as :84  @ ""      dEfAUlt falsE     , Nq'**'   passInG by VaLue CoUNt   Unique dEFaULT  As ""    , dEFAUlT       =>  dEfAuLt   Ôºå :71  @ D       =>  ‚®± AS ""      COluMNS ‚®± foR orDINAlItY      PArTitIOn by  "" @ "ë©ñ" . VAliDaTE    =>  ‚®±  , DefaulT  FasT  @ SuBMuLtisEt  @ lEvEls          on ‚®±   On ‚®±   PiVot xmL  "‚éä"  ALl    =>  defAult  ""    Ôºå ‚®±   For ""     in  ‚®±            iNtERSECT   ‚®±   fOr UpdaTe  ORder By ‚®± nUlLs laSt     wITh CheCk oPtIon  cONStraInT :#  @ authId    ‚®±  , DeFauLT  "Ø¶ó" @ ""              Cycle ""  .  *   +    seT :70     tO U''''    DEFAuLT 0x      Ôºå _9  @ "" . ""   .  HEaP    AS   ‚®±   wiTH rEAD ONLy      sEARCH Depth fIRsT by ‚®± nulLS fIrst    sEt ""  .  "üöè" @ :1       cYCLe ArRAY  @ ""   .  *   +   , Ô∞∞   all ""     =>  ‚®±  Ôºå :5  @ ""   =>  DEFaulT  HoUR          +    sET "¢§ß" @ :59    .  grOupIng  @ :50      TO 3.f    DefaulT inTerVAl '' mINute         WitH "" @ "¨ÅÇ" @ "†ΩÑ"   .  both     "ù§õ"  DiStiNcT     Ôºå :#√∞  @ _    "" @ ""   =>  DEfAUlT  as "©∑Ç" @ ouTER  . IdENtiFIEr           +      AS  ‚®±   SeArCh DePTh fiRSt by ‚®± desc   , ‚®± dEsC    SET :Ôøï   .  chArACter        sEleCT ‚®±  , ORGANizaTION  @ CAlL  @ "ßô∞"   =>  ‚®± As "™òé" @ "" . "óòØ"       bulk cOlLEct INTo "òù≤"   +   , :78   dISTINcT defauLt   , deFAULt  :9  @ "©ôë"          DIStiNCt       FRom ""   UNpIVoT   ""          FoR  coMPleTE  @ Ôªπ  . :’≥     "Í†ò"  =>  DefaULt   , :1  @ ""   ‚®±  , ‚®± AS TimEzoNe_ABbR         =>  DEfaULT        , "" @ "" . "®åµ"   UnIqUE          IN  RelY    UniQuE     +               uNpIVoT eXClUDE nuLLs  "£Å•"  SUsPenD  @ ""   =>  ‚®± as "" @ Ô∞ò7  @ UnloCK      Ôºå "§ë£"  UnIQUe ‚®± OvErRIding  @ :1          =>  dEfauLt         FoR  :#  @ ""        +        iN   "©™í"  .  vAlue  @ :88    DiSTiNCt deFAUlT   , "¨ù†"     =>  ‚®± as "—¥"             As  INteRvAl '''' sECONd  0F        Ôºå Q'/ß¶¨/'        , jSon_TAbLe  @ pAsswoRD     +              CoNNecT BY ‚®±  sTArt wItH ‚®±  GrOUp By GroupiNg seTs  ROllUp   ‚®± Ôºå ‚®±         Ôºå RoLLup   ‚®±    Ôºå ‚®±            Ôºå           UniOn  seLecT DefauLT  :96  @ "≠∂ª" @ "£ñ¥"       INto ""   , :_‡∏ô  @ :29    UniQuE sizE      =>  ‚®±       +     from "ß°∑"  .  rowdePenDENCieS    saMPLe  ‚®±     CRoSS joiN   "™í£" @ “ú·ä¨  . cuRRent_UsER     subpaRTitIoN  "" @ "" @ "õáæ"    +     pIvoT XmL  DeFAuLt    For  ""  DistINCT     , :_  @ "§éØ"    +        iN  ‚®±  :50  @ "´≤ï" @ NosHaRD      Ôºå anY            pARtItiOn By  "©õ≥"  All ·ûí  @ cyClE    =>  ‚®±      =>  DEFauLt  AS ""       NaTUrAL INneR joIn  ‚®±     pArtiTIOn by  bUlK_eXCeptiONs   =>  ‚®±  Ôºå ‚®± as "" @ :60             wherE ‚®±  STaRt WITh ‚®±  cOnnECt by Nocycle ‚®±  groUP by        ,  ‚®± Ôºå ‚®±       ,  ‚®±            HavINg ‚®±    foR upDate OF  "" @ ""   DiStIncT defAuLT        +        inteRSect   witH jSoN    As  ‚®±    , "ëàì" @ :#‡Æâ  . oUt      :4  @ "óΩÉ" @ ""   .  ""      , :_    "" @ MaxsIze  . mAPpInG       =>  ‚®± Close     , eLSiF   =>  defAULT  aS "†Éå" @ "≠®ï"             AS  ‚®±   sEArCh dEPth fIrsT BY ‚®± NUlls fIrST   Ôºå ‚®± Asc    Set :4      cyCLE "·éè" @ #8    ALl    .  :65  @ :1    All ‚®±  , DefAuLt  tRiM          +    sET "®ú¨"  .  "©óò"    tO tIMesTamp '®É±'    dEFAULt NQ'__'        ‚®±   For UpDAte  ORDER bY ‚®±  , ‚®± Asc  nUllS last     wITh CHecK OpTION  CoNstrAinT "üÄï"       orDeR SIBLiNGs By ‚®± AsC  nUlLS LAST     witH Read ONlY         aT tIME ZONE dbTIMEzoNE      mod  CONNecT_BY_RoOT ‚®±   mULTISET UNiON All  cONNeCt_by_ROoT ‚®±    ** ""   +    MUlTIsEt unIoN all  nUlL  At lOCAL         NOt  BETweEN  ?  aT tIme zONE ‚®±    mULtiseT eXCept   sElECT dEfAulT  StrINg  @ "" . "·Øº"       FRom JSoN_tabLE  ‚®± FoRmAT json Ôºå "•áò" @ ""   .  :2  @ "óÉô"     cOLUmNs  "†∏´"   FoR orDINAlItY   , bulK_ExCEptiOnS   .  "ßóÑ" @ ‡∂∂3     NaTioNaL charAcTEr VARyinG  EXcePTiOn_Init  @ "‚ñú" . ·øΩ       =>  DefAuLt        ChaRActer seT ‚®± % ChARSET           pIVoT  ‚®± AS wAit  @ "" @ "™ôÅ"      FOR  "§É´"  ‚®±  Ôºå "" @ :32       =>  ‚®± "©Ω∏"        .  *   Ôºå :‡™ì‡§é  @ ·æä0    .  jSon_TABLE  @ ""   UNiquE iNVaLIdATE   =>  DefauLT             In  WITh jOiN   .  "ëÄè" @ ERRORs      ""       +      As  SEleCT aLl "" @ ""   =>  ‚®±    fRoM JSon_TaBlE  ‚®± fOrmat JSon COlUmnS  :20  @ :_     CHaRAcTeR  ‚®± CHAr     ChARActER SeT ‚®±    TRuncatE forMat JSoN WithOut arRAY WraPpeR         pArtitION bY  DeFaulT      JOIN   ‚®±   "£©è"    CROSs JoIN  ‚®±  USIng  :5   DiStINCT ‚®± AS SYnoNYm             unPiVOT incLude nuLLs  "¢ïõ" @ "≠ÄÅ"    +    FoR TIMEstAMp  @ "ëÉí"   all    .  *     iN  AUthiD        as  $.8                COnNeCT By ‚®±  gROuP by ‚®±        OrdER bY ‚®± nulLs last     FOR UPDaTe oF  ""    skIp lockEd        sElecT aLL "®íô" @ :2    diSTinCT    =>  DEFauLt  :2  @ :_        INTo SUppLeMenTAl    +     FROm   ‚®±   OrDer sIblInGs BY ‚®±       as Of pEriOD FOR MINvALUe    "≠ä¥" @ "¨âÜ"   UNIqUe ‚®± "®∞Æ" @ :#          =>  defAUlT        +   bETWeEn      PaRtItiON BY  ""  =>  deFAUlt      nAturAL iNNEr JOIN  THE  wITH "îîî" @ :#—∏     as  ‚®±      ‚®±      Pivot  ‚®± AS SEcurEFile      For wRapPEd  @ :84    uNIQue       iN  ‚®±  aS #„á∂            veRsiONs BETWEEn scn  ‚®± ANd ‚®±    "îëÉ" @ ""     nATurAL JoIN  ‚®±   PIVOt  DeFauLt  AS ""     FOr  mateRiAlizEd  @ :3          In  ANY            WhErE ‚®±  hAViNG ‚®±  grOuP BY gROupINg SeTs   ‚®±              WITh CHECK OPtioN  COnStRAiNt "´ñé"  using   =>  ‚®±                     WheRE ‚®±  sTArT WIth ‚®±  coNNECt By NOCYClE ‚®±    oRDeR SIBlINgS by ‚®±    foR uPdAte Of  "·¥Ç"  "‚ò•" @ ""   UNIQue DEFaUlT  "°®•" @ ""         =>  ‚®±       +    noWAiT   with reAd ONLy      AT Time zoNe DBTImeZOnE     ** tREAt  ‚®± as :·ÇÜ  @ "îìÇ"       . RebuILd  @ prECEdInG    unIQUE     dEFaULt        +           anD  ExTrACT  tIMezoNE_RegiON FROm ‚®±    aT loCAl     ** XMlcaST  mUltiSEt  SELeCT "ìÑæ" @ "°∫ê"   =>  ‚®± aS :7       frOM  WItH NchaR_cS    as   ‚®±      Search dEPTH FiRSt By ‚®± Asc  nUlls LAsT    Set "" @ ·Å∞$       cYCLE GRouPINg  @ LIKec      sEt "£§ö"    to ''    defaUlT DaTe '®Ø¢'       sELECT ""  =>  ‚®±    bulK cOllect Into :9   DistInCt    .  *     fROM  SElEcT UnIQuE "¢Ä∑" @ ""      =>  dEFaulT  aS INclUdE  @ _        bUlK COllECT IntO "´óñ"  ‚®± "íÇ¥" @ :88          .  NomInValue  @ "ë∞ö"    +     FrOm ‚®± rIgHT OUter  join  ‚®±  uNpIVOT   nONEDitIOnABlE  @ "¨æï"    diStiNCt     +       FOR "§öå"   ‚®±       +     in  :13  @ :‡´±„Öç       .  *              cONNECt BY NOcycLE ‚®±    FOr uPDAte SkIp loCkED   WITh ChEck oPtion  ConsTrAiNT nOEXTeNd         jOIn  THe  wITH "ìÄπ"   aS  ‚®±   cYclE SharDed   alL ""  =>  DefAUlT        UniqUE      SeT :52     tO INTErval '' hOuR  .7d   , 0XA         dEfaUlt FalSe        ‚®±   oRder bY ‚®± nUlls LaST        aS ·äµ$  @ :_      partITioN by  DEfAulT  ÔΩ¥         usiNG  "¶ûÑ" @ "°æ¥"   all "" @ WraPPEr    =>  ‚®± AS "" @ "Øßù"         .  ""  uniqUe False   =>  DEfaULT        +        where ‚®±  CoNNEct by ‚®±  sTarT with ‚®±  hAviNG ‚®±    WitH rEAD ONly  CONSTRaiNT :4  @ ""           UnpIVOt   "§±ü"     .  iSolATiOn  @ "‚ûä"    +       fOr :5   unIqUe       In   rebuild    ‚®± inClUdInG          +               As oF TIMeSTAMP  deFAuLt         unpIVoT eXClUDe nULlS   "≠≥ø" @ "„å≤"   .  *   +       FOR  "§ßç" @ #    AlL          iN  :2  @ EXcePT    ALL "ßãÉ"  =>  deFAUlT  "" @ ""          +    as n''               sTArt wITH ‚®±  conNECt By ‚®±  GRoUp By         havINg ‚®±    fOR UpdaTe  ORDer BY ‚®± aSc        As OpAqUe FIxeD    USiNg LiBraRY "•∞Ω"  :3  @ pIpE    =>  ‚®±           aT TiME zONE SesSionTIMEzonE                              UsING Char_cs              COLumns  :_  @ InDIcaTOR     InTeRVAl     "´Çî" @ "êë∏"    +   tO  :14   all       TRUNCATe       VeRSiOnS PerIoD fOR :·á∫   LOB   =>  NOt  Default  aS "ñßù"       ovERlaPs  *   is Of typE  onLy seTs                       aS "´¥ä" @ :7           eXiSTs    with EXPire     "" @ "´ï≤"    DisTIncT        aS  witH "" @ "ßïâ"     ‚ºä·øØ   dIsTInCt DeFAulT  as WheN          +      aS  ‚®±   SEArch BReADTH fiRSt By Not  noT   DeFAULt      iN    rEFeRENces  @ :37    DeFauLT       =>  ‚®±             diSaSsOCiATE  @ :#         oVeRLAPs  "„Ç®" @ "®Æº"   =>  + pRIoR XmLAGg  ‚®±   at lOCaL      aT locAL         iS NOt eMpTY                   ASC  NULls FIrsT    SEt ""       seleCt "Û†Ñú"  =>  default  aS "" @ ""       Into "" @ :27    nOt *   IS  nOT  naN             .  *     fROm jsOn_taBLe  eXiStS   ‚®±        , ''''    columns  "†ô¢" @ "´ßö"    tIME   RanGE *   in  dECode  CURrENT Of  "¨ö®"      All     +            ** ChAR  @ OvERRidING     witHiN gROUp  orDeR SibliNgs bY NOT *   < =  sOme   ‚®±             oVEr                 ..  noT EXISts   ‚®±           TruNCatE PAtH ‹ñ           vErSIONS BETWeen TIMestAMP  NuLL  AT tImE ZOne sESsIOntimezONE     ** EXTRaCT  Month FroM DAte  CURReNT oF  "¢¶è"  ALl    .  :’µ   ALl noT :7  @ "„Å¶"    +   kEeP  dENsE_RaNk lasT ORDEr SibLiNGS by ‚®± nulLs lAsT       over  OrdeR by ‚®± aSc  Nulls fiRst     range cUrreNt RoW       At timE zonE eXTrAcTvALuE  "§º¢"     =>  DefaULt    Ôºå *               iS  Nan        "ëàª"                       AnD *     UnpIVot EXclude nuLls  "€õ" @ eDItIOns     +    fOr  enCRyPt  @ ChaRACTeR    .  *        IN   "" @ "¶éò"   :√ï   =>  DEFAuLT  tiMeZoNe_hoUR          unIqUE     +       aS  inTeRVal '''' YEAr  To yEar                  parTitIon by  "" @ :2    =>  ExISTS   ‚®±        :69  @ "·°≤"           wHerE noT rIgHT  @ ""   NOT  ‚®±   aT tImE ZOne DbtimEzOne     ** NUlL                   +         bETwEEn  DECode  CUrRENt OF  #   .  "" @ "õÉ®"   ALl     +          aT LocAl     **  Not *   IS NOt of tYpe  "·ïõ" @ ageNT              at lOcaL         aNd  sYS_cOnNecT_By_pATH  ""  UniQuE    =>  deFaULT         ** 0x3   AT locAL               sTArt wiTh CuRreNT of  LEfT    aLL deFAulT  "‡≤¨" @ :‡Æí                 coNnEcT BY NocyClE noT *   noT  bETwEeN  *   and  *         gRoUP BY                   oRdER sIblINgs bY not CUrReNt Of  "´ö≤"  DepTH  @ eXtERNAlly    =>  cAST  mUltISet  ‚®±   As REF "´òë" @ "êòÆ"   disTiNCt    .  *   +    % RoWtypE      at TiME zONE SEsSiOntiMEZone         NOT  LiKEc  *        aS ""         Not  DEFAULT      OveRLAPs  "†´∫"  =>  deFaUlt  aS :35                             wiTH CHEck OPtION      seArCh breADtH FirsT By *   ^ =  aLl     :6      =>  exISTS   wITH "" @ "¢Éê"    as  ‚®±      ‚®±   For UPdAtE SKip LOCKED   orDEr BY ‚®± asC  nUllS fiRsT     wiTh CheCk oPTioN  CoNSTraiNT #$                            set WrAppeD      cYClE :53  @ skip    ALl     UNIQUE "" @ "©©ù"   =>  NoT cUrSOr  seLecT ALl dEFaUlt     BUlK COLLect into _         fRoM xmlTaBle  6  paSsing DeFauLt  aS lIkeC  @ :86            ParTiTIOn bY  ""  =>  DEFauLt  BinAry        Inner JOin   xMLTABLE  XmLnAmESpaCEs  nOt exISTs   ‚®±        aS ‚∫ô  @ :4         Ôºå FAlsE   PaSsinG By vaLUe :·Öç  @ "¢´ú"   defAulT       =>  deFaULt     cOluMns   ""  =>  ‚®± AS ""       Not  iN   ‚®±          TRue  Ôºå tRue        as FINaL     crOSS JoIn  ‚®±    as Of sCn  nOT XMLqUeRY  "" @ ONlY    loBS  @ _    =>  ‚®± "" @ ""          % BUlK_EXCEPtiONs . COunT   At Time zOnE DBtimEZOne         PASsinG  ‚®±    ** ?        as "" @ ""      reTurnInG contenT          is  nuLL              PArtiTiOn by  noTFOUND   =>  dEfault      INnEr JOIN  "" @ ""     pArtITIon by  *   is NOT emPTY        :8  @ shard         natURAl joIn  ‚®±   Using  "" @ ""   All     dISTiNCt dEfaulT        +      pIVOt XmL  deFaULT  "" @ ""      fOr ÔΩº„á°  @ DEleTE    All LoNG      =>   dEfaulT      OverLaPs  ‚®± As ""                   .  :_   ""  =>  DEfaulT  As #6  @ grOUpInG             IN  ‚®±               AT loCAl     ** cASe CUrREnT Of  ROwDEpEndEncIes  @ ""   .  ""  UNIQUE     +         end        is oF  ""                 +    Set ""    tO NQ'‚Ä°‚Ä°'    deFaUlT 0X        with :6  @ cHarset     As  ‚®±   cYcLE "" @ :1     +    SEt FrEeLIsT     to tIMeSTamp ''    dEfAult ''       sElEcT dIstInCT BasicFILE   unIQUe    =>  NoT *   like4  *   eScape NoT eXIStS   ‚®±              Ô∫Ç‡ß≤  @ :8        frOM JSon_TaBLE  TREAT  NoT CURReNt OF  "" @ ""    +        as ""      . ""  :9  @ ""      =>  deFAUlT        +       ** xmlAgg  exisTS   ‚®±        oRdEr by ""  all    .  *   KeEp  DEnsE_raNK FIRst OrdeR SIBlInGS by ‚®± aSc       oVer  PARTITiOn bY ""  =>  ‚®± "" @ ""          at lOcAl         in   ‚®±        Asc  nUlLS fIrST       aT TIMe ZonE connEcT_by_rOOT TrANslAtE  nOt *        USIng Nchar_CS     aT TIMe ZONe trIm    defaulT      ~ =   ‚®±                            cOLUMNs  nEstED    COLUMnS  ""   ExiSTS            RigHT  JOiN   Table  NoT cHr  *   NoT  In    ‚®± As salT  @ :·πá–∫              USINg nChaR_Cs   at LOCAL         Is NOt OF TyPe  OnlY ""              CrOsS JOIN  ‚®±  piVot XML  DEfaULT    for pCtTHRESHoLD  @ ""    :7  @ ""   DistINcT "" @ AcCOunT    dIStINCt nOt eXisTS   ‚®±        FAlse  @ ""         =>  DeFauLT       =>  XMLcAST  MULtiSET  ‚®±   As tIMe     WiTH  timE  ""  =>  NoT   WITHouT   =>  dEFAULt  as :#        < >    exCepT  @ :_    =>  ‚®± As ""               :8  @ ""         zONe        ** trIm  *   Is Not a set          At TIme zone ""  All     over  PARtItion By DefAuLt     ordeR bY not *   lIke4  CASt  ‚®± as inTERval  UniquE defaULT       :4  @ uSe         +   To  ALL ‚®±      "" @ ‡πî       .  :7     % rOWtypE        ** NCHr  ‚®±         EScAPe ‚®±             At LoCAL            bETWEEN  New ""   all InValidatiOn  @ NEw       =>   deFauLt  AS SYNOnYm  @ ""        overLaps  :9   ‚®±    =>  ‚®± ""                    +    at LocaL         And  *        ""           iN  ‚®±          AS OF PERiod fOr "" @ ""    CURRENt OF  ""  all DEfauLT  AS ""         +            BatCH  @ :_      paRTITIOn by  uNlOCk  @ ""   =>  nOt *   iS  noT  nUll            NatuRal jOIN  JSON_tAble  NOt *   >  AnY   defauLT           FORmat jSoN , :Ôµ¨5  @ dIRECt_LOAD      cOLumNs  "" @ ARcHivE     tRuNcaTE foRmAt jSoN WiTh uNCONdITIONAl wraPPer  PatH "" @ ""           :7     PartiTion By  ""  =>  noT  lIKE4   =>  ExiStS   ‚®±            OVeRLAPS  DEfAULT  :8                     oN NoT :2  @ ""   all    .  *   over                    WHErE CUrReNT of  "" @ cOMPleTe        diStInCt "" @ :√£9    =>  DEFaUlT  As "" @ ""          +         HAVInG NOt cUrRenT oF  MAXSIZE   DEFAulT  SeQUENCe         .  *         GROup BY EXIsts   ‚®±               wIth cheCK opTION      FOr upDAtE oF  "" @ :5    .  _ÔæÆ     nOWait      ordeR By _7  @ ""       AlL     +   at tiME ZOne SeSsIONTimezONe     ** - TrANSLAtE  noT oBJEcT   ‚®±       +   wIThIN grOup  Order SiBlIngs by ‚®± NuLlS LasT       oVER     At TIme zOnE SEssiONtImEZone         BEtwEen  *   anD  *        UsinG cHAR_cS    AT tIME zoNE dBTimEzoNE         iS NOt OF  :_               fOR uPdaTe of  ""              *   aND cAse NOT XmLqUEry  *   passinG By vALuE 0X   At lOcAl           reTURniNg coNtENt      ** CurSOR   WITH sECOND  @ ""     "" @ ""   uniqUe    .  *      As   ‚®±   wITh Read OnLy      sEARcH DePtH FIRST bY   :8   =>  xmLCAST  ‚®± aS  fAlse  , tRUE        ** TreAT  ‚®± aS "" @ IndexiNG               > =  coaLEsce  @ _     ‚®± ""         % rowcOUNt  aT lOcal                  Not  IN   sELECt "" @ ""   ALL dEFault       =>  dEFaULt  as "" @ :5        IntO "" @ FuNCTioN        +     FrOm XmlTabLE  XmLNAMespaCEs  ""  diStiNct deFAUlt  AS ""        =>  cURREnt Of  :2    +          defAULt .ef     Ôºå inTeRVaL '' HOur  Q'``'   , N''      To dAY  daTe 'òùí'           Unpivot  "" @ ""        fOr  PaRenT    +        in   “Ñ   uNIqUe         +       AS q'%%'             VErSiONs bEtwEeN scn  *   AND *       JOIN  JSON_Table  not   ""  =>  ‚®±     =   DeFAulT  aS :4  @ attrIbute               forMAt jSOn CoLUmns  NoValidaTe    lONg    fORMAT JSon       verSiONs pEriod FOr GlOBaL  @ :6    .  BaTCH  @ ""   "" @ ""   DISTinCt DefAuLT       =>  *   iS  Not  iNfiNItE        as :—≠          +   bETween  case  eNd  at tIME zONe ‚®±     ** DEcODe  ‚®± nOt  in  ‚®±               And ""  AlL hiGH   =>  DEFault        UnIQUE     keep  DeNsE_raNk LAST ORdER sIBliNgS By nOT  ‚®± œØ  @ :1         overLAPS  DEfAULt  ""              DESC       over  ordeR by nOT ‚®± NOT  LIKe2  ‚®± eSCApe ‚®±       dEsc     RAnge BEtWEEn NoT CurRENT oF  "" @ ""          PRecedIng  aNd unboundeD PreCEDIng       AT lOCal           UNPivOT inCLUDE NULLs  MovEMenT     foR "" @ ""   UNIQuE     +     iN   :_–∑  @ :2    All     ""  =>  *   noT  lIKe  *   eSCApE ‚®±       aS "" @ ""          +                 jOin   ‚®±   pIVot XML  DeFaULT    FoR  "" @ PaRtITiON          iN  aNY              On noT EXtRACt  tIMEzONE_mInuTE FrOm daTE  ‚®±      ** ""      +   oVeR  PartitION bY CycLe  @ SKIP    =>  DefaUlt              IS Of  OnlY "" @ ""                ConNECT by NOcyCle NoT CURrENt of  :_      .  cLOb   dISTINct ‚®± :‡µÉ          +         HavinG exIStS   ‚®±           FOR uPDaTE OF  :≈ê  @ ""     SkiP lOCKed            dEsc  nulls FirSt    Set :2      cyClE iNDicAToR     sET ""    To $.   DeFAUlt e-d       seLeCT aLl ""  "" @ :5    =>  DefAUlT       =>  exTraCTvAluE  not ‚®± is eMPTY        aS "" @ ""      Ôºå ‚®±  Ôºå ‚®±    AT TimE ZONE DbtimeZoNe     ** PrIor ‚®±  at lOcAl         Is  iNFiniTE           BulK coLLECt iNTo vArcHAr2  @ iNDiCAtOr    DIsTinCT defaULt  AS _  @ ""            frOM "" @ :8     suBpARtItiON  "" @ rOW    noT exIsTS   WiTH usInG     ""  .  *   +      aS  ‚®±     SElECt ‡ºæ  @ SavepOiNT    UNIqUE    =>    ""  =>  DEFaulT  RElATiONaL  @ ""        In   ‚®±            bulK COlLeCT inTo ""  uNIqUE       fROm tHE  ‚®±    pArtiTiOn by  exIStS   ‚®±            CRosS jOIN  XMLtablE  XmLNAMeSPaces    Ôºå TRuE   pASsinG _  @ ""   =>  noT *           coluMnS nOt  "" @ ""   =>  DefauLt  "" @ ""        oVErlaps  DEFAult  :1               rEf ""      DEfAUlt        +    raNge *   Is nOt OF  Only ""           ..  not  ‚®±         In    OVerriDINg  @ :2    =>  ‚®±             PATH ''''       PIvOT  "" @ ""   uNiQUE eXiSTS   ‚®±        as NoRowDepeNdeNcIES  @ dEMaND          =>  nOt :1  @ ""       DisTINcT DEfAUlt  _6  @ :3           +   % IsOPEn        bETweeN  *   and  XmlaGg  ‚®± OrdER by ‚®± dEsC  nulLs LAst       at LOcal     ** ""      UNiQUe     within GROuP  ordER BY ‚®± AsC  nUlls firSt                     for  :‡Ωè         In  ‚®±        As oF SCN  ""  =>  cuRrENT of  mIN  @ ""    +              paRTiTioN bY  GlObALlY  @ :_≈∑    default       =>  dEFaULt  aS ""         UnpIVoT  ""   +    For ""  nOT  serIALIZaBLe   disTinCt    =>  Default  as ""       oVERlAPS  ‚®±                    In   PROfIle  @ :6     +                 StART wiTH *   Is A sEt         COnNect bY cuRREnt of  rewrite            OrDeR sIBLinGS By NOT ExIstS   ‚®±           For UPDate NOwAit   wiTH CHecK oPTiON  coNStRAinT "" @ ""   UniQuE default  "" @ fOund                         .  *       uNpiVoT inCluDe NULLS  "" @ :2     +    foR  :‡ªê         iN  "" @ ""      .  *   +    As .d               sTART wITH *   ! =  ANY    ‚®±   FoR uPdaTe of  intErvaL  @ dEAlLOcatE        ""  AlL :4   disTinCT    =>  Not *   in  "" @ _·ø¥     keEp  dEnSE_Rank lAST ordeR bY ‚®± NuLLS lAsT                    :9         =>  DefaUlt  "" @ ""          +     oRder siBLiNGS bY not *                    coNnECT bY NOcYcLe  NOT CUrRENt OF  "" @ _1    .  *   +            oVErlapS  membEr      =>  DEFaULt  As log                HaVING NoT EXIsTs   wITH :‡®õ_    aS  ‚®±   SeArCH bREADtH first BY ""  OBjeCt  @ ""   =>  ‚®± "" @ ""          aT LOcaL     ** CHR  ‚®± UsInG NchAr_cs   AT Time ZoNe dBtiMeZonE         Is  NOT  InfIniTE          SEt ""        ‚®±   OrdEr bY cOnnEct_by_rOOT ‚®±  At TIme ZONE DBTImEzonE         nOt  in   ‚®±        dESc  nULls FIrst     For upDaTe  WItH reaD Only  ConstrAiNt UnlOCK   ALL :‚æ§   =>  xMLaGG  ‚®±     ** noMOnIToRING  @ :5    .  ""   +   % roWcoUNt        ^ =  CaSt  MULtisET  ‚®±   As CaSt   UNiQUE     raNge ‚®± ..  ‚®±      At LOCAL              as :4  @ ""                    grOUP BY  GRoUpING SETs   nOT exIsTS   wITH "" @ ""     "" @ lImIt    DEFault       .  "" @ ""       As  ‚®±   CYClE ""  UniQUe FUNCtioN  @ #    =>  deFault        +    set :4  @ ""     To tRUE    default U'·ë∏'       SElECT defaULt  AS fReeLiSt       fRoM  ‚®±    pARTItiOn by  Not *   likec  *            innEr JOIn  TablE  ‚®±   AS of TIMESTAMp  ‡æÜÔª†  @ IdeNtIfIER    =>  defaULt        partiTIon By  ExIsts   ‚®±                WHerE NOT *   noT  BEtWEEN  ?    ** traNSLATe  ‚®± usiNg nchar_Cs   at TiME zonE ‚®±         anD  SyS_CONnECt_By_paTH       ** ExTraCt  MonTh fROM ‚®±    AT LOCAl                 wItH reAD onLY                           For update oF  ""  uniQue     UNiquE  "" @ ""      =>  DefAuLt  aS :3        oveRlAPS  NOT CuRReNT Of  MatcHED    dISTINCT VeRsIONS  @ :6    =>  DeFAuLt  "" @ :·ãã                aS "" @ ""                      WAIt ''        ORdER SIBlinGS BY *   In    dEfauLT  ""            DeSc  NULlS lAsT              sUBMULTiSET oF *          eLse nOt CUrrenT of  "" @ ""        +          eND  At tiMe zONE sesSiOntImEzonE           PIVoT  defAUlT  aS GROuping      foR  ""      +        in  sElecT aLl :_2   =>  ?  AT TIme zoNE DBTImEZonE         < >  + cURsOr   WITh opERATiOns     ""  :7  @ dEnSe_raNk    Unique    =>  DeFaulT       .  *   +      As  ‚®±   sEaRcH BrEaDTH fiRST by nOt *   iS OF tYpE  conTInUe  @ ≈Æ             desC    sET "" @ ""        SELeCT nOT   LOcaToR  @ ""   ‚®±     =>  DeFAulT      nOT  in     ‚®±             "" @ uncoNDitIONAl        into ""  .  "" @ ""   UNIque       FROm  ""   suBpArtItION  DeferrED    +     SAmpLE BLOcK  EXIsTs   ‚®±           :9     parTItIon BY  #ﬁâ   =>  not - ‚®± AT LOCal     ** U''                  cROSS jOin  XmltABLE  TIMestAMp 'êéÖ'      vErSIoNs BeTwEEN Scn  *   and *      as "" @ :‡∞ù_        PiVot xml  cURrEnt oF  "" @ synonYM    UnIQUe :3   ‚®±    =>  DeFAulT        uNiQUe            For  "" @ ""         in   *   NOT  BEtWeeN  pRioR ‚®±        and  ""   +   % NOtfoUNd  aT loCAl              "" @ BEgiNnING          AS :3               paRtiTiOn bY  *   IS  NuLl             unpIvOt exclUDe nuLLS  :1  @ ""   AlL #      =>  DefAUlT  AcCouNT  @ :_           uNIQUE :7   =>  DefAulT  DECOde           foR DeBUG  @ ‡ΩÑ0    .  ""      +     iN  ""   NoT eXIstS   ‚®±                         cOnNEct BY   CHR  ‚®± uSInG NchAR_cs     ** "" @ ""   dISTiNCt     % BULK_EXCEPTioNs  ‚®±   . ERROR_IndeX         lIkEc  *   escapE ‚®±       As "" @ ""        ! =   ‚®±          StART WItH Not   DEfaUlT  AS ""       NOT  in   ‚®±          gROuP bY    ‚®±             hAviNG noT + ‚®±       nOT membEr Of CasT  mULtISeT  ‚®±   AS ref "" @ lOw    .  *   +       aT Time ZoNE ‚®±     ** NULL  AT LOCaL                   WITh reAd OnLY      ORdeR SiBLINGs By not CuRRENT Of  primARY  @ ""   all          nUllS LasT     foR UpdAte  with ChEcK OpTion  COnstrAInt :5  @ ""           At LOCal      ** "" @ ""    aLl :3   "" @ rEsTRict_ReFErENCES    ‚®±    =>  *   not  lIKE4  *             =>  dEfauLT        +   wIthiN gROup  oRder sIBlInGS By NoT CurRenT Of  NaTiOnAL   .  "" @ :#Ÿ©     +        aSC        at tIME ZOnE SEssIoNtimeZOnE                 froM  :2    SaMplE bLOCk  exIStS   selecT uNiQUe ?  AT Time ZONe EXTrACtvALUe  ConSTaNT      =>  dEFauLt  ENaBlE  @ timeZoNE_minUTe       Ôºå *           **   AT tiME zOnE DBTimEzonE              As ""      INTo ""   UNIque noT trIM    ∆öŸü  @ _    all    =>  DeFAULt  HIGh        > =   "" @ ""      =>  ‚®± aS ""               aT LOCal         =  All   WIth "" @ ""     organiZAtIOn    +      aS  ‚®±   seARcH dEpTh FiRsT by nOT New ""      ** XmLquERY  *   PaSSing BY VAlUe *   aS ""  DIStINct    .  *   +     retURNING cONtEnT          IS  nOT  NAn        nullS fiRST    seT "" @ :1          ‚®±                 +     FROM ‚®± paRTITioN by  DefaULt      FulL outEr  JoIN  ‚®±    WhERe exTRACt  TImezone_abBr froM date  not eXISTS    ‚®±   FOR upDATE OF  COmpAct  @ :5    ‚®±        skiP LOCKEd   orDeR SIBlIngs bY ‚®± NUlLS FiRST     wiTh cHEck oPtiON                    bEtwEen  *   and   nOT  ""  =>  defaulT  NOcACHE        OVERLAps  ·â≠_  @ ""   =>  ‚®± ""               at timE ZONe SEssIontiMEZoNe     **  PRIOR - ‚®±         is Not of TYPE  :‡™Ö             AT timE zONE sEssIOntiMezOne               cONnECt bY NocYClE nOt *   IS EMpTY         GroUp by roLLuP  CursoR  wITH INNER  @ ""    as  ‚®±   cYclE "" @ ""   .  *    set "" @ ""     TO DATE ''    dEFAUlt q'??'       SELECt shrink   =>  dEFAUlt  aS :5  @ comPact        FrOm ‚®±    wheRe nOT cURrENT of  :2  @ tRanSLATE    aLl DeFauLT        UNiQue           haVINg not eXisTS   ‚®±         groUp bY   ‚®±            oRDeR SIBLiNgs BY *   IS  NULl        ASc     WItH REAd oNlY  CONStrAInT "" @ :_     PrOFILE   UniquE deFaUlt       =>  ‚®± aS ""       OVeRlaps  defAUlt             ""             at LoCal     ** :7        +   % BULK_rowCounT  noT SYs_conNEct_BY_patH  ""  =>  ‚®±                           <  sOME   witH :·Ωü1  @ ""    AS  ‚®±      ‚®±                      fOR UpDaTe waIt 0X     orDer By curRENt Of  "" @ ""                      seEd  nOT *   NoT MembER oF *              PIVoT  noKEEp      =>  DeFaULT  aS Ôæè      FoR  "" @ PErCeNtilE_dISc    uniQue NoT eXISTS   sELect uNiqUE :1  @ ""   disTiNct dEFauLt  "" @ ""         =>   WIth :7  @ lEss     AS  ‚®±   SEaRch bReaDtH firsT By cURreNt Of  ""   +        NuLLs lASt    sET ""     CYcle SAvEpoint   .  FInAl  @ overrIdING    DIStINCt     +    SET "" @ #Ííø      tO $.   DEFauLt datE ''        ‚®±   FOR uPDAte sKip lOcKeD      aT LOCaL         iN   SElecT "" @ ""   ‚®±    =>  DEfAUlT     bUlK CoLlect iNTO :2   .  "" @ ""      fRoM ‚®± NatURAL FulL  JoIN  ‚®±    wheRe   ‚®±     in    ""  diSTiNCt    =>  ‚®±              gROUp by gROuPinG SeTS              HaVing Not :#  @ ""    +   keep  dEnSe_RaNk Last ORdEr by ‚®±         ** DecODe  ‚®±   at TiMe ZOnE sessIOntiMezonE         noT  IN  *            ORder sIbLINgs bY + cAse ‚®±  END   At loCaL     ** "" @ sTaTiC        At LOcal         iS of  Only ""              FoR updATE of  "" @ SIZe    uniQUe NoT CURrenT Of  "" @ ŸäÔ∞∏     diStInCt     +        :_  @ buiLd                sKIp lockED   WITh chEck oPtIoN           as iNVISibLe  @ :7        FrOM ‚®± inNeR jOIn  ‚®±  UNPIvOt inclUdE nULLS   :9   ""  =>  dEfauLt  AS :·∏∑              foR PctusED       +     in  nOSORt    +    as  INTErVAl '''' HOur                  CoNNeCT bY eXtRacTValUe  cOUnt   =>  deFauLT    , *        ** tREAT  not   ‚®±     < =   seleCt deFAuLt  ""      buLk cOlLECt intO "" @ ""      FrOM ‚®± ParTition by  ‚®±        stART WiTH ‚®±  cOnNEct by ‚®±    FoR UpDAtE Of  "" @ ""   ALl #   uniQue    =>  deFAulT          oRder By ‚®± dESc  NuLlS laST              AS reF :5              nOt  betWeen  *   aNd  *           WiTH rEaD oNly  coNstRaInt DElETe                   +        In  wiTh "" @ ""    As  WiTh :7  @ :1      ""  .  *      AS  ‚®±   sEaRch breadth First bY XMLQUeRY  NeW REaD  @ ""   "" @ ""      =>  cUrREnT Of  "" @ ""   .  *   +        aS search  @ :7            At TimE zONe XMLCAST  nOt ‚®±           As  truE  , FaLsE               PaSSING *     REtuRNIng COnTenT    AT lOCAl     ** + tiMEsTAMp ''   AT timE Zone SYS_coNNecT_BY_PATh  DefaULT  aS ""                  LiKe4  *        DesC    SEt "" @ ""      cYClE ""  UnIQUe sCalE  @ :‡•Æ       =>  DefAUlT  eLsIf         .  _    +    SeT ""    to ''    defauLT u''        ‚®±   For UPDaTE NOWAIT   wITH reAd oNly         seLeCT uniQUe ExiStS   ‚®±        AUTo       bULk cOLlEct IntO THan  @ :4     all NoT  ""  =>  dEFaulT      oveRLAps  procEDURe  @ :·†•       =>  dEFAuLT                     FrOm ‚®±  pivOt XmL  dEFAUlT  :#  @ NOnE       FOr  ""  UniqUE     +        IN  *   IS Not Of  ONly "" @ ""                       WHere NOT xMlAGG  nOT *   ^ =  Xmlcast  mUlTISeT  ‚®±   As DoUbLE PRECIsiON  aLl "" @ ""   =>  ExIStS   ‚®±        aS ""        characteR seT not *   NoT  In    ‚®±          % cHArSET                    AT loCAL     ** cONneCT_by_rOOT tRiM  NOT exIsTS   ‚®±        FROM   Not XmlQUerY  ‚®±      passiNG By vaLUe *     reTURniNg CoNteNt    AT TIME Zone dBTimEZoNE     ** NcHr  ‚®±         MeMBER oF *              oveRLaPs  "" @ pCtUsEd    dIsTincT    =>  deFAULT  as :2  @ rAIse_APPlicatiOn_ErRor                  AT TImE ZoNe  cUrreNt of  Ôπî4    All defaULT  AS :9  @ ""          +         AT LOCal        AT TIMe Zone :5   forMAT   =>  exISTS   ‚®±                  ovER  pArtITIoN By ""     =>  dEFaULT  as "" @ ""       OrDER SiblinGS by NOT   NOt error_code  @ MAXvALuE    alL ‚®±       % FOuND        noT  bEtWeen  "" @ ""   #   =>  dEFAULt  ""        .  ""   withIN gRoUP  OrdER By ‚®± aSc  nulLS LaST       oVEr  ordEr SIblINGS By ‚®± nuLlS LasT          ** eXTRAct  cOlLEct  @ :_“é    DisTinCT    =>  ‚®±   Ôºå *    , *            aNd  Case ELsE ‚®±   ENd  At LocaL     ** trim  ‚®±   aT locAl                  iN   ‚®±         dESc     ROWs *   is  noT  nAn         follOwInG                      START with NOt curRENt oF  "" @ ""   .  CLoSe   AlL dEfAULT  :5  @ ""          +         conNeCt By NocyclE TransLAte    "" @ ""   =>  noT *   iS EMpty            ~ =   ‚®±         uSIng cHAr_cS   AT tIme zOnE DBtImeZonE         Not  liKeC  PrIOr - caSt  nOT EXIStS   ‚®±        AS opAQue fiXeD  All €Ñ·†∏      =>  deFaUlT  ""       UsIng lIbRarY "" @ :7        DIStiNCt     +          AT LoCal               HAvInG *   iS NOt OF TyPe  SUsPeND               OrDeR by Not CUrRENt of  fuNcTioN    DefAulT  as TrANsaCtioN  @ :·ªñ                nuLlS lAst        OrDer SibliNgs By + null  at timE ZoNe seSsiOntImeZONE    at LoCal         is  noT  iNFiniTE        NuLLs LASt     fOR uPdaTE wAiT nQ'++'     WItH rEAd OnLy             pArTiTIOn BY  *   lIkE  chr  ExtrAcT  yeAR frOM NOt  DEfaULt      OvErlApS  ""  =>  dEFAult                At tIme Zone dBTimezONE     ** SerIalIZABLe  @ UnuSABLe     uniQue     +         IS of  onlY :2            uSinG nchAr_Cs                  lefT  Join   SeLecT alL noT CurRENt oF  "" @ ""   _3   ""  =>  Not ExiSTS   wITh ""    "" @ ""       As  ‚®±      ‚®±   ordER SIbLIngS by cURRENt oF  ""     .  *   +        DeSc  NuLlS lAsT             "" @ MUltiSEt          =>  eXISTS   WITH :1  @ ""    aS  ‚®±   searcH bReADTH firSt By *   > =  aNY     :4  @ auToNoMoUS_TRAnsACTion    =>  dEfaULt  aS "" @ ‡¶Ü                  asC    set ""        ‚®±   WiTh cHeck OPtION  consTraiNt crOSS  @ ""   diSTInCt                    +        :_       iNTO ""  UNIque    .  denSE_Rank   NOT curSoR   ‚®±        ** deCOdE  Not *   bEtweEn  *   AND  COnnEct_By_ROOt  nOT ‚®±  ** ‚®±      In   seLECt aLl DEFaULT     Into :5  @ ""    unique "" @ PaRTiTioN    Unique DEFAUlt  aS "" @ BiTMap          =>  ‚®±         FrOm ‚®±   ConNECt by NocycLE ‚®±  STaRt wITh ‚®±  gRouP bY rollUP   ‚®±            HAviNG ‚®±    fOr upDATE of  bulK  @ ""   .  *   +     wITH CheCk opTiON  CoNStRAINT :3              At time ZOnE dbTiMEZONe                  AT LOcAL              nOexTENd            fRoM ‚®±   wHerE NOt  Ô∞°  @ ""   =>  DefAUlt  as "" @ :3         oVERlaps  ""     .  *   +   % bUlK_roWCouNt  NOt EXIsTS   with ""    "" @ :__    ‚®±       +      As  ‚®±   seARch DEPTH fiRsT bY ‚®±   sET buFfeR_poOL  @ ""      cyCLE #       ALL      sEt CHR     To 0X    defaUlt TimeSTamP '≠õ¢'        ‚®±   oRDEr By ‚®± deSC  NULls lasT     fOr UPDatE OF  ""     WitH ChECK optION                 ** TransLatE  *   LikeC  *   EsCApE ‚®±       usiNg nCHAr_Cs         iS A Set        iNVALIdatIoN                  For Update Skip loCked   oRDEr By *   iS  NUll              PIvOt  DefAULT    FOr  "" @ ""   .  "" @ :6    sECUREfile   =>    cONtaiNer   =>  ExiSTs   selECt "" @ ·üï    UniquE ‚®±     =>  DeFAUlt     FroM ‚®± pIVot  DefauLt  AS "" @ ""      fOR "" @ ""    ALL       in   DeFAult  As :7                   staRT WItH nOT ?  at lOcAl     ** SyS_COnNect_by_PaTH  :_4   All    =>  ‚®±      aT tIme ZoNE sessiOnTIMEzONE         in  tReAT  ‚®± As "" @ TIMezoNe_hOur        . "" @ :4     +                  CoNNEcT by nOCYclE cONnect_BY_rooT - extRAcTValUe  ovERridInG   UNiqUe    =>  DeFAUlt  "" @ ""      Ôºå *      aT loCAl        ** xMlAGg  ‚®± orDeR SiBlinGS BY ‚®±      at TImE ZoNE SEssiontimezonE         iS  nAN         HaVInG noT cUrreNt of  "" @ ""   DIstINCt  @    =>  ‚®±       +                       ~ =    DEFaUlT              aS "" @                iN  WITH     ""    =>  defaulT          .        +      aS  witH    aS  ‚®±   cYCLE ""  UNiQUe      SeT ""    tO INtERvAl '''' DaY     dEFaULt DaTe ''       sELeCt noT ExiSts   ‚®±           into "" @ ""    not *   BETwEEn  *   AND  Trim    not CUrrent oF    .  *   +         @         iN   DeFaulT                         as  @ ""            from ‚®± UnpiVOT inclUdE nullS    @    .  *   +       for  "" @ ""         iN  "" @ ""   uNIqUE     +              where       =>  defAult   @ ""        OVErlaPS    =>  DEFaUlT              ConNecT by NOcyCLE not "" @    diStinct priOR  @    .  *   +   % BUlK_ExCeptIonS  *          . ErRor_COde   AT TIme zoNE ‚®±       ** nEW ""  ""     =>  DEfaUlT        DISTInCT  @    =>  NOt cURrEnt OF  "" @ ""         aS "" @            aT tImE zoNe dBtImezoNE         not  LIkE  *   EsCApE nOT cURRenT oF  ""                     AS ""         DISTiNcT "" @ ""    +   wiThiN GroUp  ORDer SIBlIngs BY *   =  XmLCaST  ‚®± AS   diStiNcT DeFAuLt            +   % TYPe      aT lOcaL              DEsC              iS nOT oF  "" @ ""                  +   keep  dENsE_RAnK FIrST ordEr bY     =>  NOT eXISts   ‚®±        ""       Not  IN      alL defaUlT          =>  nOt *   NOT  BETWeEn  SYs_cONnECt_by_PaTh       ** ""  UniquE  @    All ‚®± AS "" @ ""         =>  DEfAult       .     aT lOCaL         aND  *                    ASC  nUlls LasT       OvEr  PArTItIoN by DeFAuLt   @ ""                BEtWEeN  *   AnD  cuRSor  ‚®±   aT TImE Zone DbTimezONe               StART wiTh NOt *   suBmulTiSET of Null    ** XmlAGG   "" @       =>  NoT cUrReNT OF  "" @ ""                 OVerlapS  dEfAult  As               ORDEr SibliNgS bY CaSe  End  aT LoCAl         is Of TYpE  oNlY ""           DESc                     gROUP BY  EXISTs   ‚®±                  OrDER By noT currenT oF  ""  .  *   +        nulLs lasT     wITH REad oNly      sEArCh dePth firST BY noT *   NOT  In  exTRAcT  day FrOm *   IS Of TYPe  ""              AT LOcaL     ** CaST  *   < =   @     UNIQuE  @    NOt cURRent oF    .   @ ""   ALl               =>  deFAuLt  as          OVeR  OrDEr siBLinGS By connect_by_rOoT ‚®±  At TiMe ZOne ‚®±         >  *           RoWS betwEEn curRENt roW  and uNboUndEd FollOWiNG         ** nuLl  at tiME zONE sessIoNTiMEzoNe              As STrInG  nOt   ""  dIStiNcT    =>  Not *   < >  *         @ ""        <     @    =>  Exists   seLeCT   =>  ‚®±    inTO "" @    DEfaUlT        +     from ‚®±   WhERe ‚®±    fOR uPdate OF  ""      DeFauLt                  as "" @ ""                cHaR        At loCAl                 SEt      cYcLE "" @     UNIQue DEFAULT   @ ""          +    sET "" @      tO faLse    deFAult INtERvAl '' HouR    Ôºå DaTe ''      to miNuTE         WITh    As  ‚®±   SEARCH dEpTH FirSt BY   @    =>  XmlQuEry  TreAt  NOT *   liKEC   ‚®±     ** dEcoDe  ‚®±   AT TIMe zoNe SeSSiONtimEZonE              as ReF "" @ ""       . ""  ALl    .  ""           pAsSINg *   as "" @ ""   unique     +     reTUrNIng conteNT      ** Date ''         is  INFInITe            OvErLAps  dEFauLT             DeSC  nuLlS lasT    set ""     Cycle    @ ""   =>  DeFaUlT        Not exIStS   ‚®±        as "" @ ""           seT  @      TO '·íï'    DEFault d        ‚®±   oRder By neW    +    AT Local         is nOT A seT        asc  NuLlS fiRSt                   oN Not *          uNPIvoT  "" @         for  ""  .   @          In    @    alL     +       As datE ''''                   wHErE  ""  aLL  @ ""   =>  nOt pRIOR tRIM  NOT ExIsts   SeLeCT ALL   aLl ‚®±    =>  ‚®± ""      bULk CoLLecT INto        +     fROM Json_TABLE  ‚®± Ôºå  @ ""     coLumns  NesTEd Path ""    coLuMnS     For OrDInality            PARtItION by  ‚®±      PIVOt xML  defAuLT    foR "" @    dEFAuLt  "" @           +     in   ‚®±   WitH ReAD OnLy  COnStRAINt ""  uNique                stArt with ‚®±  CoNNecT by ‚®±  gROup by ‚®±      HaVinG ‚®±    OrdER sIBliNGs BY ‚®± desc     FOr UPdATE SkIp LoCKEd   With CHEcK OptIon  CoNStRAiNT ""            From  xMlqueRy  ‚®±      pASSinG By VAlUe ‚®±      AS "" @ ""         ReturnINg CoNtenT    At tIme ZoNE ‚®±     ** cURSoR   WIth    AS  ‚®±      ‚®±   witH CHECK opTIoN      For UpdAte of   @ ""   .  *   +    sKIp locKed   oRdEr SibLingS BY ‚®±       At lOcAl         noT  BETweeN  *   And  *                  NOt  lIkEC  *             =>    DeFAULt  as ""       iN   WItH  @        .   @ ""   aLl ""  =>  DEfAUlT  AS "" @              AS  SELECt ALL "" @    =>    ‚®±     >   ‚®±         AS ""      from  @ ""    As Of pErIOd For  @    alL    .  *   +   noT CAsE  EnD    ** cuRSor  ‚®±   at LoCaL         MEmbeR of *             uNPIVoT  "" @    ""     =>  DeFAULT            For     dEFAUlt                iN  ""  .  "" @ ""   All                   GroUp By   ROlLUp  NoT *                              SELeCt all   DISTinCT exIStS    ‚®±   fOr upDatE OF   @ ""   .  *   +     WitH READ oNly  cOnSTRainT "" @                   =>  DefAULT     BuLk cOlLEct IntO  @ ""       UnIQUe Not cUrrEnT Of  ""     ‚®±    =>  deFaULT        +        ""         +     fROM tabLE  currENT OF  ""           PARTitIOn by   @ ""   all Not NeW  @     +    At TiME zone dBTiMEZOnE     ** xmLcast  mULTiSEt  With "" @     AS  ‚®±   SearCh DEpTH fIrST BY ‚®± nUllS LAst    Set         ‚®±   wItH reAD oNLy      AS dOuBLE PrECISIoN  chARaCTer SeT ‚®± % chArset             NoT  In    ‚®±        as         =>  *   likE2  ""   % isOPen        esCapE ‚®±           NaTuraL RIght oUTER  JOIn  XMlTaBlE  fALSE      aS of PeriOd for "" @ ""   diStINCt         betwEen          sTaRt WiTH exists   with "" @     As  ‚®±   CyCLe   uNiQUe     +    Set  @ ""     TO tIMEstamp 'ßå¥'    dEfAULT       seLEcT  @    =>  DefAUlT  aS "" @        FroM  JsoN_TaBLE  ‚®± Ôºå TImestaMP ''''    CoLUmNs  "" @ ""    rEf ""     EXIStS       VersIOns PerIOD FOR       +   bEtween  - "" @ ""    +   oVer  PaRTiTion bY  @ ""   AlL deFAuLt  AS         =>  ‚®±    OrDEr By ‚®± DESc  NuLls fIRsT     RowS BeTwEEN ‚®±  pReCediNG  anD cURreNt row       AT loCaL    AT TiMe ZOnE SeSsIoNtiMEZOnE         And *     uNpIvOT exClUDE NuLls   ""  ‚®±      .    uNiQUe     +       foR   @          In  "" @               "" @ ""      Pivot xML  ‚®±   for  ""    @    All    =>  defaULt        +        in  anY            aS     ParTITIoN bY  ""  dISTINct ""  ‚®±    =>  ‚®±         =>  DeFaUlT  "" @ ""         PiVOT xMl  DefauLT    foR  @ ""    +     in  anY            wHEre ‚®±  Connect By ‚®±  havInG ‚®±  GRouP BY GrOuPING Sets                for UPdATE noWAit   OrdEr SiblinGS by ‚®± Desc  nUllS lAst              COnnecT By noT Current Of  "" @       .  *   +         HaVInG noT eXiStS    ‚®±   fOR UpDatE oF  ""   UNiqUE      nOwAIT   order BY ‚®± NuLLS lAST                ORDeR By *   IS  Not  INFINiTe        dEsC  NulLS LasT     wiTh CheCK opTiOn  cONStRAiNT                     OvErlAps    not nuLl    ** cASe *   IS OF TyPe  Only "" @ ""            ElsE NOt   @    =>  DEfAUlT      oVeRLAps  dEFAUlT  As "" @ ""                 eNd  at tiME ZOne "" @    unIQuE     Keep  dense_RaNK Last OrdEr by  WiTh           AS  WITh    aS  ‚®±     sElEct "" @ ""      =>  ‚®± aS  @        InTo   alL       fROM thE  ‚®±   UnpIVOT ExcLuDe NUllS  "" @ ""    UniquE ""  ‚®±    =>  ‚®±        FOr   @    .  "" @     +        IN   @ ""   .  ""  distinCt dEFauLT   @ ""          +    As .eF             VERsIOnS bEtWEen tiMestaMP  *   aND *       pARtITIoN bY  ‚®±          OrDEr by ‚®±    WITH ChECk OpTIon      sEARch breaDth fIRst bY ‚®± DEsC    SET ""     CYclE ""  alL      seT "" @ ""     tO trUe    deFAuLT 0X        selEct  @    =>  ‚®±    BULK collECT IntO  @        +     fROM TAbLE  ‚®±     UnPIvot iNcLude nUlls  ""  deFault  ""          fOR    .  *   +        In    @ ""   DistINct ""  =>  DEfAuLt   @           +       AS  '°úÑ'                 WheRE ‚®±  STArT WITh ‚®±  CoNneCt by ‚®±    FOr UPdaTe WAiT uq';;'     WIth cHeCK opTiON  constrAINt                ** "" @     % BulK_ROWcOUNt  ‚®±     AT LOCAl         SUbmUlTIsEt oF CasT  multiSet  wiTH ""    ""  "" @ ""   =>  ‚®±       disTINCT DEFaulT  As ""            aS  selecT diSTinCT ‚®±    INTo  @ ""   aLl     +     from   ‚®±   PiVoT  default    foR             in  ‚®±        versIoNS pErIod FOr ""   +   ‚®±  ‚®±      And *       natUral lEft OuTeR  jOin  JsoN_TABle  ‚®± foRMAT jSon cOLuMnS  nestED N''    COLUMNs     IntErVAl   @    all  @ ""   =>  ‚®±       +   To  ""         TRuncATe FORMaT jsOn Path  @                 PaRTItION by  ‚®±         unPivOT   @ ""   .  ""  diSTInCT "" @       =>  deFaULt  aS  @            FOR     DeFaUlT  as ""              IN   @ ""    +    as .            aS oF TiMESTamP   @ ""   uNIQue    =>  deFaUlT  aS  @           paRTiTion BY  ‚®±      pivot  ""  =>  DEfAUlT  ""     fOr  ""  ‚®± ""        .  *   +        In  ‚®±            CONNect bY ‚®±  staRt WITh ‚®±  HAViNg ‚®±    OrdER sIblinGs By ‚®±       CyCle ""  alL    .  *   +    sET "" @      tO U''    DefAUlt iNtERVAL '''' miNuTe  q'""'   , $.     to mONth        sELEcT diSTInct   =>  DeFAulT     frOM XmltABle  xmLNaMEspaces  DEfAulT D     , ''   PASsING By vALuE ‚®±    ColUMns ‚®± tiMe  witH  "" @ ""   =>  ‚®± As  @          loCAL  diStINCT    tIme     zOne   % rOwtyPe    PaTH 0x   DefaUlT ‚®±     aS oF PerIOD For  @ ""   diSTInct ""  AlL ‚®±    =>  DefAuLT        BEtweEN    pIVoT  ‚®± "" @ ""      FOR "" @       in  ‚®±  ""            aS     paRtiTion bY   @    ‚®±    =>  dEFAult      jOiN      iNNeR join   ‚®±    partiTIon By  dEFaUlT  "" @ ""        CRosS join  ‚®±  usING            +      uSiNG  "" @        UnPiVoT     ALl     +    for   @    DistInCT ‚®±            IN      +                 whERe ‚®±  cONNeCT bY NOcyCLE ‚®±  GroUP by GROuPiNg sEts  ‚®±           HAvinG ‚®±    OrDEr sIBlIngS BY ‚®±    fOr UpDATE OF  "" @ ""   .  ""  alL "" @ ""   ‚®±    =>  ‚®± aS          +    skIp LOckeD      as  tRUE  Ôºå fAlsE   RANGe ‚®± ..  ‚®±        ** SyS_CONneCT_By_Path  alL    AT LoCAl                DEsC  NUlLs laSt       OvEr  pARtITIOn BY DEfaUlt                 Not SuBMULtISet Of        kEEP  dENSE_RaNk LAst ORDEr by NoT cUrreNt OF  "" @                aT timE zoNe dBTiMEzonE     ** eXtRact  hoUr FrOm DATE  nOt *   BEtWeeN  INTERVAl '' yEAR  TImESTamp ''      TO mInUTE          aND  *                        As  @ ""         =>      =>  defAuLT      iN   WIth  @      ""  disTINcT  @    =>  eXtRAct  timEZONE_AbBR FroM daTE  ‚®±          is NoT of  oNly "" @ ""                     aS   ‚®±   ordeR sibLInGs By nOt exISTs   ‚®±        nULlS firsT     for UPDATe  wiTh REAd OnLy  cOnstrAiNT "" @ ""           sEArCH BrEADTH FIRSt BY decode  ‚®±   aT TIme ZoNe sesSionTiMeZonE     ** tREat  ‚®± As ref "" @         aT lOCAL         bEtweEN    aLL ‚®± AS  @ ""          +   WIthIN gRouP  Order sIBLINgs by ‚®± Asc        At TimE ZOne DbTIMEzOne     ** nUlL        AnD  *        NULls FIrst    SEt ""     CycLE ""  .  *   +    seT     tO n'òûã'    DEFauLT .e-F       sELECT UnIQUE ""     =>  deFAULt     From   ‚®±   For UPdAtE Of  "" @ ""     SKiP LoCked   WIth rEad oNLy      versIONs peRiod FOr      .  *   +   BeTwEeN  *   AND  NOt ExISTs   witH      @ ""       AS  ‚®±   sEARCh DepTH firsT bY ‚®± DESC  nULls fIRSt    set ""       sELECt ‚®± as "" @        InTO  @    DEfAUlT  ""         ALl     +     FrOm ‚®±     JOiN  jSOn_taBlE  ‚®± FoRmat jsOn , true    ColUmns  "" @ ""    formaT jsoN WithouT wrApPer          on ‚®±     Where ‚®±  HAving ‚®±  GroUP bY   ‚®±              foR upDaTE NOwaIt   ORdeR SIBLINgS By ‚®± dESC              aT LOcAL            "" @      PARTItIoN by  ""  AlL  @ ""   =>  DEfaULt   @ ""         =>  not *   IN   SELECt DiSTINCt ‚®±    bULK COlLect inTo "" @    UnIQUE       from  @     as Of TimesTAmp  DEFAuLT      UNPivOt IncluDE nUlLS   ""   +       FOr   dEFaULt  ""        .   @     +     in                       PArtITion by  "" @ ""   =>  DeFaulT      CROSs jOIn  xMltaBlE  0x      pIvot xml  ""  =>  ‚®± aS      foR   dIsTinCt DEFauLT             iN ‚®±        NaTuRAl InnEr JoiN  ‚®±     wHERE ‚®±  staRt WiTh ‚®±  cOnNECT by ‚®±  gRoUP BY               WITh reaD oNlY  CoNstrAiNt "" @                   UNPivot EXClUde NULls  "" @    DIStInCt  @ ""      =>  NOT cuRRent oF       =>  ‚®± aS "" @ ""               as "" @ ""          +    for ""  ALL DEfAULt               +     IN    @    DistINct *   IS  NaN             .  *   +                                        haVIng CurReNt of  "" @           GroUP by                    AS     USINg THe  wITh  @ ""    as  SElecT dIsTINCT   DIsTiNCT    =>  DEfault     from ""   PaRtitIon  "" @ ""    +     sAmPLE  TrANSlatE  not CURrEnt OF  ""  all          UsIng nchAR_cs         NOt  In   witH "" @     AS  ‚®±      ‚®±   fOr upDATe  WitH Read oNly             seed  *   NoT  LIkec  NCHR  CURRENT of   @ ""             ** + eXTRActvALUE   @    ""     =>  NOt  DefAult  ""       OVERlapS  DeFaULT             as  @          =>  nOt EXiSts    ‚®±   OrDEr bY nOT *   <  some     @ ""   ALl dEFAuLt       =>  ‚®± As  @ ""               NULlS LAst               Ôºå *      At lOCAL          EScAPe  Prior ?    at tIme zOne Dbtimezone         ! =  all    dEfAult              aT LOCAL     ** xmLcAsT  nOt  "" @    =>  ‚®± AS  @         OvErlApS  ""  =>  DEfaUlt  ""              AS TimEstamp  WiTh   DEFAUlt  ""       OveRLapS   @ ""   =>  ‚®±                 TiMe  zOne  uNIqUe     chaRaCTEr Set NoT + - ‚®±  aT LOcAL     ** CoNnect_BY_ROOt      at tiMe zONE  ‚®±                           ~ =  some   Select "" @ ""   UNiQuE    =>  dEFAuLt     BULk colLeCt Into "" @     +     fROM  @ ""    pArTITIoN    dEfAUlT               PaRTitioN By    ""  =>  nOT *   is NOT OF  ""                =>  EXists   ‚®±                UnpIvot IncLUdE NullS   "" @     +       FoR  @    aLl DeFauLt  AS "" @ ""          +     IN    .  ""  DIsTiNCT      As TruE               sTarT WITH NOt *   IS  not  NaN         CONnEct by NocYCLe ExIsTs   ‚®±         HAvIng Not *           For uPdaTe wAIt '¶êÉ'     WiTh check opTIon  cONstRAiNt   CuRrenT oF  "" @ ""    UNIqUE                                   PIvoT XMl  Not "" @ ""       disTINCt     At time zONE SeSsIOntimezoNE              As ""     fOr     +        IN  wiTh  @ ""        +      AS  ‚®±   SeaRCh dePTh fIRst bY   nOt ExiSts   ‚®±         @         > =   "" @      =>  dEFaUlT  as ""        =>  noT *   iS  nOt  NulL                    sEt "" @          ‚®±             jOIn    ‚®±   WitH cHECk OptiOn       paRTiTion by  DEFaULt          oN curReNt of  "" @    diStiNCt              cOnNECt by noCyclE ""   +   AT loCal     **  @ ""   Unique    .  "" @     +   % found  aT tIme zoNE tReAt  EXisTS   WItH  @ ""    As  ‚®±   cYcLe   .  *   +    Set  @      tO 0x    dEfaulT 0x        ‚®±   ORder sIBLiNgS BY Not *   likE  SYS_cONneCT_by_paTh  UniQUe ""     =>  dEFAUlt  as ""                   aSc  nULls fIRsT     fOr UPdatE OF   @         =>   ‚®±     ** ?  At local         Not  In  ExTracT  DefAult    , *    Ôºå *      aT local                      skip lOCKEd   with chEcK OptIoN           as "" @ ""       . ""  alL deFaUlT  ""         +              =  extraCT  sEcOnD FrOM eXISTs    ‚®±   oRdEr BY Not *   Not  BeTWeeN  "" @ ""    WithiN group  oRDeR bY ‚®± DesC  NUlls LAst       OvEr     At TiMe Zone SEssIonTIMEZOnE         anD  *           FOr uPdate NOWaiT              At time ZonE CHr  nOT CURReNT Of          usinG ncHAR_cs                  grOUp by   cUbe   not .f     ** xMlaGg  noT    @       =>  curRent Of   @ ""   .  *   +            ! =   *   mEMBeR Of *          AS                      is Of TYPE  ""                            hAvING  "" @ ""   =>  DEfAUlT      OvERlAps  ""  dEfaULT   @          =>  NoT    @    =>  DefAULt      In   witH     ""  DIstIncT     uNIquE not dECoDE  ‚®±   At tImE zOne  @ ""   uNiQuE     DEFauLT        oVer          ** xMlQuery  XMlQUERY  ""   WitHin gRouP  ORder bY ‚®± asc              PAsSinG bY VaLuE  ‚®±   aT LOCAL     ** cURSOr  ‚®±   AT LOCAl           RETurniNG conTeNt          paSsinG *   As  @        +     RetUrNiNg CONtENT    At tiME zOne ?  AT LocaL            noT  LIkE  new ""   +          ESCaPE ‚®±             +      aS  ‚®±   SeArCh dEPth FIRST BY *   IS Not a SEt        DeSC    Set "" @ ""        SeLecT ALl NOt *   NoT  BETwEEn  *   ANd  CasE ‚®±  ENd    ** TraNSLATE  ‚®± UsiNG chAr_Cs   AT tiMe zONE SessioNTImezone              As ""      FRom thE  ‚®±   AS  @ ""     PartITIoN BY    DISTiNCT "" @ ""   =>  TRim  both ‚®± FRom  ‚®±   At locAL     **   ‚®±    .  "" @           IN    ‚®±         @          =>  not  DEFAuLT      OveRlaPs    =>  DEfAuLt  aS ""               @ ""        CROss jOIn   jSON_taBle    ‚®±  @         In    "" @    UNIQue    =>  DEFAult              cOLUMNs  ""   Path TimEStaMP ''          VErsIOns pERioD for "" @ ""   .        CurREnt Of  "" @    ALl ‚®±       UNIQuE     +         *   AND *       riGHT OuTER  Join  ‚®± uSinG    .  *      PIVoT   @    =>  dEFaUlt    fOR ""  NoT ""  DISTinCT  @ ""   =>  ‚®± ""         +   % buLk_ExCEptioNs . couNt         is  NUll             .  *   +     iN  ‚®±          UNPiVoT   ""       FOR    +     IN   @ ""        aS  iNtERval '' sEcoNd  datE ''                    VeRsioNS beTweEN scN  "" @     DEFAUlT  as ""         +   KeeP  DEnSE_raNK LAst ordeR siBlINgs bY not *   nOt SuBMULtisET oF PRiOr "" @ ""   aLl       uNique "" @    =>  dEfAuLT       =>  ‚®±          % BUlk_roWCounT  ‚®±     At tImE Zone DbtImEZoNe       ** ""  defAULT  As "" @          .   @ ""       +   OVeR  OrdEr sibLiNgS BY ‚®± NUllS LasT        At tIME zoNE SeSsioNtiMEZone                dEsc  nuLlS FIRSt              aND *       @ ""     pArtitiOn BY  DEfauLT      NAtUrAL InnER JOiN  xmLTaBLe  XmLNamEsPaces    Ôºå Q'\\'   paSsiNg bY vaLue   =>  eXiSTS   ‚®±              CoLuMns *   iS  NuLl        foR ORDINALiTy      JoiN  ‚®±      StaRt wITh nOt  ‚®±     oVERLaPS  "" @    aLL    =>  ‚®± as "" @ ""                CoNnECt BY Not cuRsoR  ‚®±   aT LocAl     ** - nEW  @ ""     AT LocAl          lIkEC  *           For UPDatE SKIP LOcKEd   WITh CHecK OPtion                          FoR uPDaTE Of     dEfAult          OrDEr by ExiSts   wITh "" @ ""    as  ‚®±   cyclE "" @ ""   ALl      =>  deFaUlt           +    set  @      TO n''    defaULt FaLse       sELect DEfauLt  AS ""      bULk cOlLeCT INTO         FROM JSoN_tABLe  NoT + SYs_ConNEcT_BY_Path  uNIqUE     AT tiMe zoNE DbTIMEZonE     ** deCODE  CurrENt oF  "" @    .  *   +                     , DaTe '™¨õ'    coLuMNs  ""   for OrdInAlITy       AS of PERiOD FOR ""   +   BETween       unPIVOt   ""   NOt eXiStS   ‚®±                  For   @    AlL ""  =>  xmLaGG      DISTINcT "" @    =>  dEFaulT  aS         =>  DEfAULt      ^ =   ‚®±             ** ""  DIStInct     +   % BUlK_EXCEPtIonS . coUNT   aT TImE ZONe nCHR  TranSLatE  ‚®± uSiNG ChAr_cs   At tiME zONe dBTImeZOne         Not  In   ‚®±                   =  *        "" @ ""               In   @     +              CONNECT BY nOcyCle nOT TriM  bOtH frOm  not cuRreNT OF   @       .  "" @ ""              aT local         noT  iN    eXISts   ‚®±        aS              sTArT WiTH NOT *         GrouP BY GroupINg SeTS   NoT     =>  DefaULt      < =   ‚®±                              ASc        SeARcH breadth fIRST by existS   WITh  @ ""      @    alL DefauLT       .  *   +      As  witH "" @ ""    AS  ‚®±   CyClE   aLl ""  =>  deFAuLt        +    sEt     tO ''''    defAUlt n''       seLECT *   Is NoT of TypE  "" @ ""            "" @        intO "" @ ""      froM THe  ‚®±    PARTitIon by    =>  ""      AlL NOt CURRent OF  @          aS          % NoTfOuND        is  Not  InfIniTe        ""        pivot XmL    =>  default    foR   .  *   +        In  ‚®±          wHERe *   beTweeN  *   ANd  XMLcast  MULTIseT  ‚®±   AS      +      At lOCAl     ** CAsT  MuLtISET  ‚®±   aS dOuBlE PreCisION  aLl                     OrdEr siBLiNGs By nOT cUrREnT of    +           fOR UpDAte of    DefAULt         sKIP LocKED   wITh ReaD ONLy  COnSTrAint       SEArCh bReaDth First bY nOT *   ^ =  ALL    ‚®±   For UPDate OF     wait .D     oRDER sibliNGs By cURRENT oF    diStInct ‚®±       +           WIth REaD oNLy  conStRaiNt            NUlls LaST    SEt  @ ""         SELeCT  =>  defAulT  As ""      BUlk COlLECt INTo     FRoM   @     sAMple  not coNNECT_By_ROot   at TImE zonE SESsIoNTiMEZONe       **   +   keep  DEnSE_Rank fIrSt orDer by exiSTs   ‚®±        aSc  nUlls FirsT        AT lOcAl         >  *            fuLl OUTeR  jOIn  XmlTAbLE  0x      Pivot XML   =>  nOT deCOdE  NoT tReat  ‚®± aS REf          **   OVER  ORDer by ‚®± DESc  Nulls lAST        aT Time ZONE NuLL           nOT  BetweeN  *   AND  TRAnsLate  ‚®± uSinG nchAR_cs   aT LoCaL                at LOcal     ** CaSe  ENd               for    +        in  aNy           as "" @       uSiNg        +        VERsIonS betwEEn Scn  *   anD *     UnpIvot INCLUde nULLs   .     for  .      IN                   parTITION by   DeFaULT  as "" @         oVeRlAPS   =>  curreNt oF    +         @ ""                    PIVOt   DEfAUlt      OVErlaPs   =>  defaULt             AS      FoR   +     In  ANY            WHERe nOt   dIStIncT     % rOwCoUnt  At TiMe ZOne SESsIONtiMeZONE         NoT mEmBER Of -  nOt NuLl  aT lOCal         SuBmUlTiSeT of *              **   +   WithIN GroUp  ORdER sibLIngs By eXistS   ‚®±        nULls fIRSt       oVer  parTITIOn by  =>  Not *        aS ""      ORDEr BY curRent Of         nUllS lASt                      staRT WiTh NOt *   is  INfiNitE         cONNEcT bY NOcyCLE   dEfAulT  "" @         not  In   ‚®±               OrDEr SibLingS By NOT nULl        not  LiKEC  *   eScAPE eXtRActVAluE  ‚®±   , *    Ôºå CaSE ‚®± ELsE ‚®±   EnD  AT TimE ZonE DbtimeZone     ** caST  ‚®± as lONG   =>  ‚®±       % TYPe      AT lOCAl                                wITH reAD oNly           Asc    sEt      cYcle  .  *   +    seT     tO timEstAMp ''    dEFaUlT fAlSe       sELeCt uNIQue  =>  dEFAULT  "" @ ""       buLk CoLlecT INto   ALL  =>  CUrreNT oF   .         ""           froM   wiTH  @       .    +      as  ‚®±      ‚®±   ORDEr SiBliNGS BY NOT *   IS Of   @ ""            DEsC     FOr UpDaTe        uNPivOt EXCLUDE nUllS     +       FOr     In    .  *   +       aS  ''''                 PARTitIon BY  DefaUlT  AS ""       INNEr JoIn  tAble  seLECt DEfAuLt     FRoM xmLtabLE  Uq'%%'   passinG By vAlUE not    =>  DefAulT  aS  @         NOt  iN     ‚®±                colUmns ExiStS    ‚®±   For UpdAtE  ORdER by NOT ExistS   ‚®±        DeSc     wiTh CheCK OptIon  COnsTrAINT            opaQuE fIxED    USInG LiBRARy    raNGe PRior   AlL  =>  DefaULt  ""         +   kEep  denSE_ranK laST ORdER By nOT *   NoT  LiKE4  conneCt_By_ROOt ‚®±  at lOCal         EscAPE nOt exISts   WiTH  @ ""       +      As  ‚®±   seARch BREAdTH FiRsT BY ‚®± desC    SeT ""       SeLEct DisTinCt  =>  ‚®±    iNTO  .  *     fRoM ‚®±   hAvInG ‚®±    witH cHECK OPTion  cOnSTrainT                  nuLlS LAST        At tiME zoNe dbTimezONe       ** NEw              NOt  in   wITh    aS  ‚®±   CycLe  .     seT "" @ ""     tO q',,'    dEFAulT E-f       SeLect DiSTInCt  =>  NoT casT  mUltISET  ‚®±   AS   DistiNCT     +      aT TIMe zONE dBtIMEZOnE     ** xmLagg  CUrrEnt of    +        OrDeR sibLIngs By Not  ‚®±     ovERLAps  Default  AS ""                         noT  BetweEn  *   And  *         @        iNtO   +     FRom ‚®±   wHEre U'®òë'         IS  not  nan         coNnecT By *   iS not a set         hAvinG treAT  nOt CURRENt oF         as ref  @ ""       .   +     At Time zoNE + TRiM  NoT eXiStS   ‚®±          aT Time zonE ‚®±    at loCAL            IS NOT OF  only ""            gRoup bY   noT *   iS oF TYPe  oNLy "" @ ""                         ORdER bY   =>  defAuLt      oVERLAPS  NoT   dEfault      =   ‚®±          @                NullS FIrsT     for uPdatE of     sKiP LoCkeD           ..    % NotfoUnd    ** trIM  xmLqueRy  *   PaSsiNG *     retuRNING cONtEnt    aT lOCAl         likeC  *   eSCAPE curReNt OF    uNIqUe  =>  ‚®±                                  PaTH 0X   dEFaulT NOt extRaCt  dEFAULT    , nChr  NOt exISTS   sELECt  =>  DEFaulT  ""      FROM ‚®± PIvOT Xml   ‚®±        LiKE4  *          for       +     IN    =>  XMlCASt  MulTIsET  ‚®±   as vARCHaR2  ‚®±          ** - ‚®± At tIMe ZONe SESsiONtiMeZOne         BetWeeN  *   aNd  extract  tiMEZonE_REGiON fRom Date  ‚®±    AT LOCAl     ** CAST  ‚®± As IntERval    +   To  default  aS                               aS "" @               cONnEcT by nOcyCLe Not *   < >  SOmE    =>  ‚®±              START With nOt cURRent oF   .  *   +         grOuP bY                 hAviNg ExisTS   ‚®±           orDEr BY noT XMlCast  ‚®± aS NvArcHaR2  UnIQUE   collAtE ""     chaRacTEr SEt ‚®± % chARSEt       aT tIme zONe SeSSioNTIMEzOnE     **  ‚®±         <  any     =>  ‚®± as ""              AsC  nuLlS last     wiTH rEad ONLy                    Ôºå *      aT LocAL     **   +   wiThIn GrOUp  ORdEr By exIsTs    ‚®±   for uPDate OF     WaIT datE ''     ORDer sIbliNgs bY NoT *        Nulls FiRSt             dESc        at TIme ZOnE DBTiMEzoNe         not  beTWEeN  *   AND    +   % buLK_RoWCOunT  ExtRAcTValUe  DeFAUlt    Ôºå *            IS  Null            aT LOcAL     **  WiTH  @ ""      .       as  ‚®±   SeARCh dEPTH FIrST BY noT Current OF   .         Nulls Last    sET  @          ‚®±   for UpDATe NOWaiT   wIth ReaD oNLy      aT local                   nAtural Full  JOIn  ‚®±    wHErE  DEFaULt  ""       oVERLapS   =>    KEEp  DEnSE_rANK FiRst orDer siBLINGs BY NoT eXisTS   wiTH ""   aS  ‚®±   CYCLe   +    SEt  @      TO ''    deFAult INTErval '''' mInUTe    Ôºå timEstaMP ''            SElEct  =>  ‚®±    into   DiStiNcT DeFaULt  aS "" @ ""          +     From  ‚®±   ""    PARTiTioN BY   =>  ‚®±     crOss Join  ‚®±  PivOt   =>  DeFAULT    fOr   .  *        IN  ‚®±          whERE ‚®±  start wiTh ‚®±  CONNEct By ‚®±  GRoup bY         HavinG ‚®±            ASC       OVER  ParTiTIOn by DEfAuLt  as  @ ""          At TIME zOne DbtImeZONE         In  +  Not *   is  noT  NAn            ** - ?  AT tiMe zONe seSsIonTImEZoNe                 @ ""                  fOr UPdate of    +    WaiT INTerVAl '©¶≤' mOnTH  tO mOnTH      ORDeR bY NEW        At locAL         IS NOt EmPty        Asc        unPiVoT ExClUDE nULlS       =>  DEFAuLT  ""       NOt  in     NoT *   betweEn  + xMlaGg  ‚®±    aT tImE ZoNe ?           aNd  sYS_CoNNEct_By_pATH  ‚®±      **   +   OVEr  order SiBLInGS bY ‚®± NULLS lAsT     raNGE ‚®±  FoLlOwiNG                      oVErLAPs  deFaULT                         aS           FoR     =>  DEFAUlT  ""              in    +            aS oF tImestaMp   =>  noT *   iN       =>  Sys_CoNNECT_BY_PAtH  uniqUE    At locAl         is not Of TYPE  onLy  @                 ! =    =>  dEfaUlT   @ ""                              On nOt Exists   SeLect AlL  =>  dEfAULt  As       frOm  taBLe  wiTH ""     .  *   +      aS  ‚®±   SEarCh bReaDTH FiRsT BY nOt cuRrenT of             DESC  NUllS fiRsT    Set "" @       CYCle  .  *    Set     tO u''''    dEFAULt q'[]'        ‚®±   ORDeR by not cuRrent Of    all     +        aSC     with CHEcK OPTiON  CoNstRaiNT         PivoT xmL  NOT *   In  *         As ""     for   .    +        IN   ‚®±             UnpIVOt ExcLudE nuLls             fOr    +        in     as DAtE ''             VErSioNs pERiOd fOR  .     dEFaulT      OveRlAPS   =>  DeFauLt  "" @                 TRAnSLate  Not *   NOT  LIke2    +   aT timE ZONe sEsSIOnTimeZoNe     ** cuRsOr   ‚®±   fOR UpDAte  orDER BY cuRReNT Of    DiStiNCT ‚®± as  @ ""          +           WiTH chECK oPtION  COnsTraINt                  USing nchaR_cs     ** xmlQuery  nUll  At lOcAl         PaSSinG By VaLuE *     RetUrNIng CoNTeNT    AT tIMe ZoNe sesSIonTiMEZONe         AND *       PaRtITiON By   =>  xMlAgg  ExIsts   WITh  @           as  ‚®±     seLECT UnIQuE DEfaULT     FROm JsoN_TabLe  ‚®± FOrMAT json cOLuMnS  ""   fOr oRDInaliTY        PARTITiON By  DefAULt         wheRE ‚®±  gROUp BY    ‚®±               orDeR SIbLIngs bY ‚®± asc                     NOT sUBMUlTiset Of *               UnpIVot    +    foR    All  =>  NoT CUrReNT of               +        iN    .  *                 WherE nOT TREAt  *   ~ =  *        aS reF  @         AT LoCaL     ** ?        betWEen  EXtrACT  DeCODE  ‚®±   At time zonE inTERVal '' YEaR  U'©§å'   , ''        AT LocAl            is  INfiNitE        ""     , ?    **  .  *   % bULk_rowcount  *   nOt  In    dEfAuLt  aS ""                           ** CaST  noT eXistS    ‚®±   WiTH ReaD onLY           aS TImEsTamP   =>  nOT    =>  DEFAuLT      not  IN   wITH  @ ""    aS  ‚®±     selEcT DEFauLT        buLK COLlEct inTO   +     FROM jSoN_TAblE  ‚®± , $.   COLUmnS  nesteD "" @ ""     coLuMnS  "" @     eXistS PAth               AS of TImeSTAMp   =>  ‚®±          pArTiTION By   =>  deFaULT         CoNNEct bY nOCycLE ‚®±  havIng ‚®±    FOr upDAtE OF   .    +    skip loCKEd                  % tYpE      at LoCal         and  *         StarT WITH curRENt OF    DIStIncT           CoNNECT BY Chr  nOT *   is NoT oF  "" @ ""            uSING NCHAR_CS   aT time ZONE NcHR  *   <  prioR ‚®±    ** NChr  ‚®±   aT TIME ZonE dbtimeZoNE                         NoT MEmBeR Of xmLCAst  not eXiSTS   wiTh ""   As  ‚®±   seaRCh depth firSt By ‚®± NuLlS LAsT    SeT "" @ ""      cyCLE   +    seT     to .ED    DeFAULt False       SeleCt ‚®± AS  @ ""       from "" @     sampLE  ‚®±        whErE ‚®±  StART WITh ‚®±  ConnecT BY ‚®±    WITH REad ONLy           AS INtervAL  alL      +   tO   =>   DeFAULt      OveRLAps  defAULT  as                      ALl  =>  dEfault  As "" @            % tYpe      at lOCAl                   ordEr BY nOt CurreNT oF         NULLS first     WitH CHEcK oPtION  cOnsTRAinT              PIvot  DefaulT       for  .  *     In  any            GROuP by XmLQUEry  *   PaSSING *   AS  .    +     ReTUrNinG COntEnT    at TiMe ZoNE dbtimeZone         Is  Not  Null               oRDer siBLInGs By NoT    =>  NOt EXTrACT   =>  EXIsTs   with "" @       .  *   +      AS   ‚®±   for uPdATe sKip LOcKed   OrDER bY ‚®±       sEARCh dEpTh fiRsT BY ‚®± DEsc    SET  @ ""      CYCLe    sEt ""    to 0x    DefAuLt N''''        SeLeCt all ‚®±    BULK COlLEct INtO   +     FROM XMLTAblE  TimestAMP '°ù≠'      veRsioNS betWEEn SCn  *   anD DECoDe  ‚®±     ** eXtRact  mOnTH frOM ‚®±    aT LocaL             cROSs JOIn  jSon_TaBlE  ‚®± cOLuMNs     ExIsTS       aS     pArtITioN by  ‚®± as "" @           PivOT  DEfAuLt    For     IN  ‚®±          cONnECt BY nOcyClE ‚®±  STArt WITh ‚®±  GrOUP bY cUbE   ‚®±            HAVIng ‚®±    WiTh ReAd onLY      FOR upDATe               Ôºå *    Ôºå extracT  SecONd from dAtE  NOt *   iS oF  "" @ ""                 ** TReat  NoT    =>  DEFaULt      >      =>  ‚®± AS  @                   AS                 at lOCAL         Like  trim  Both *   is of TyPe  oNLy "" @ ""            FROM  CURrEnt oF           at TiMe ZONE    =>  DEFaULT  ""         +            ESCAPE *                  not  iN   noT exISts    wiTh "" @     AS  ‚®±     SelEcT uNique  =>  nOt eF     ** cONNecT_By_roOT conNecT_by_RooT cAse ‚®± ELSe ‚®±   enD    AT Local           NOt  In    DEFAulT           AS ""      BUlk cOLLeCT iNtO   +     frOm xMltABLE  xmLNAmEsPACeS  DEfAULT    DefaulT ''     Ôºå tRue   PASSInG  =>  CurRENt OF          @ ""       CoLumNS Not *   not  betweEN  CUrsor  ‚®±   At tIMe ZOnE SEsSIoNTImEZone     ** dECoDE  ‚®±   AT LoCAL         And  cONnEcT_bY_ROOt   % bulk_excEpTIONS  ‚®±   . ERRoR_Index     AT lOCAL              natIONal ChAR    ColLATE ""      deFAULt nOT   =>  defAULT      OVerLapS  ‚®±                    innEr Join   ‚®±   UnPiVot    disTINct     +    FOR    +        iN                 aS of peRIOd for  .    +   *   nOt  LIKe   ‚®±     ** sYs_cONNEcT_bY_pATh     AT timE ZOne EXtraCt  ‚®±   , *    Ôºå *                         PaRtItIoN by   =>  deFaULT  ""        usINg         COnnECT BY NoCyCle Not *   Is nOt Of TYPE  oNLY  @ ""             hAVINg eXISTs   ‚®±           wITh rEaD ONly  coNstraiNt       oRder SIblINGS by EXiStS   wITH ""   As  ‚®±   CyclE   UNIQUe DefAuLT  As  @            set ""    TO Nq'@@'    deFAuLT INtErVAL '†õ∞' mInuTe         ‚®±           dEsC  NUlls lAST     fOr UPDaTe of   .    +    NowaIt   wITh cHeCK oPtiOn                     nulls LaST        pIvOt xml   =>  NoT cuRRenT of         AS  @       for   +     in  anY             ON  nOT  .  *   WithIn groUp  orDeR By   +   % FOuNd  AT locAl         < >  all   WiTh        =>  nOT *   liKe2  tRANsLAtE  ‚®± UsInG CHaR_CS     ** neW   +    At TIME ZonE sEssiontImEzoNE         ESCaPE ‚®±       "" @ ""          +      As  wItH ""      DiSTINcT     +      AS  SELEcT DEFAuLT     iNTO     fRom  "" @     SAMPLe    defAulT      ! =   ‚®±           seeD     =>  dEFauLT   @ ""        IN      =>  ‚®±                     unPiVOt INcLUDE nuLlS         fOr     in     aS ''''                paRTiTION BY  DeFault  aS             orDEr bY NoT cURreNt of    +           fOr upDatE SkIP lOCKeD   with REAd Only  coNstraInt          WIth  @ ""    AS  ‚®±   sEARcH dePTh FirsT bY NOT *   nOt  lIKe2    +   oVer  PArTitIOn bY ‚®± ""           **  ‚®±   aT local              asC  Nulls laSt    set ""     CYclE  .  *   +    sET  @      TO Nq'^^'    dEfAULT .D       sELeCt All dEFAuLt     INTo     FROM    SUbPARtitIoN      sampLE block  Not  ‚®±  AT TIMe ZOne casT  MUltisEt  ‚®±   As  fAlSE  , FaLSe      aT lOCal                    vErSIONs period FoR    =>  CurREnt oF    +        AS "" @ ""          *   noT  bEtWeeN  *   ANd   ‚®±              Xmlquery  *   PaSsInG by vALUe tReat  NOt ‚®± Is NOT eMPTy        aS       .  .            as   UniqUe     +     retuRniNG COnTEnT    AT TiMe zOnE dBTimEZonE         and *       paRTItiOn By   =>  noT eXIstS   ‚®±               whERE ChR  ‚®± UsIng nCHAR_cs   aT tIme ZOne DBtiMEzoNE     ** Prior $.          iN   ‚®±         StaRt WITH   =>  ‚®± aS        overLaPS  ‚®±             cONNeCt by eXists   ‚®±           For uPdAtE Of        +    noWAiT   orDER sIbLiNGs BY noT *   IS a seT        NuLLS fiRST        OrdEr bY NOt *              cycLe   +    sEt "" @      to tRUe    DEFAulT TImESTamp ''       seLeCt DefAult  ""      frOM  SELEcT dISTINCt  =>  defaULt     bULk CoLLEcT inTo     fROm Table   defAUlT      ovERLaPS   =>  ‚®±              vERsIons bEtweeN timeStAMP   .    oVeR  PARTITION by deFault   @ ""       OrDeR by not cuRSOR   ‚®±        ** trEat  ‚®± as  @         aT TIME zonE sESSIoNTimeZonE         >  sOME   WItH ""   As  ‚®±   SEArcH bReadTh FIRst BY ‚®± aSc  NUlLS FirST    sET "" @          ‚®±   fOr UPdAtE OF    DIStinct  =>  ‚®± AS  @ ""          +     wiTH CheCK oPTiOn           dESc          ** triM  noT *   IS  inFiNite        FRom  CuRReNT Of           AT tIME ZONe sESSIOnTimezonE         ANd *     unpIvOT iNCLuDE NUllS     +       FOR   DisTiNCt       in    .    +                 riGHt outer  JoiN   ‚®± Pivot  nOt    =>  dEfauLt      > =   deFAUlt               ""     FOr   .  *        iN   XmLcASt  mUlTISET   ‚®±   ORdER SibLIngs By ‚®±    FOr UPdatE  WiTh chECk oPTion  cOnStRaINT       AS DOUBlE pReCISIoN  RAnge ‚®± ..  ‚®±                 aS "" @                    aS "" @ ""     nAtuRAL INneR JOin  ‚®±     Where CurREnT of        +         staRt WiTH ExIsts   SelECt UniQUe  =>  defAulT     BULk ColleCT inTo  .  *     fROM jsOn_tAbLe  ‚®± forMaT JSOn COlumnS     truNcATe foRMAT jSoN WiTHOUt aRRaY WrAPPEr  pATH date '¢®É'          AS oF sCN   =>  ‚®± as ""       PIVot  DEfauLt  as      FOR     IN  ANY            InneR jOin  ThE  ‚®±   uNpiVoT EXCLUDe nuLls    dIstiNct  =>  ‚®±       +    for   .         In      =>  ‚®±       +       AS  date ''                   PiVOt XMl   =>  deFAULT    for   +     IN ‚®±        wHERE ‚®±  hAVing ‚®±  GrouP BY  gROuPiNg SeTs                   FoR updATE wAIt inTeRvAl '''' miNuTe  to Day  TIMEsTAMp ''                   conNEct By Not eXIsTs   wITh "" @ ""    as  ‚®±   CyclE  .    +    seT  @      TO e-   DeFaULT FaLSe        ‚®±   wITH rEad oNLY  CoNsTRainT             HAviNG Not   % noTFoUnD  AT loCAL         IN  *          group BY  rOlLup    +   kEep  deNSe_RAnK LasT OrDer SiBliNGs by ‚®± DEsc  NulLs lAST       OvEr       **   AT LOCaL         in   wITH  @        dIStiNcT DEfaulT  As  @ ""             AS  ‚®±   searCH BreadtH fIrST bY ‚®±   Set ""        ‚®±   ORdeR By ‚®± desC  nUlls firST     With ChECK oPtIOn                         foR uPdAte skip LoCKed   orDER sIbLInGS By *   Is Of tYPe  ""           NullS LasT         PARtITION BY   =>  nOt cuRReNt Of              UnpIvOT exclUde NULLS     FoR    +        iN    .  *   +       AS  0x                 WHErE *   iS  nOt  nAn         GROuP by not  dEfAUlT         overLAPS  DEfauLT                            DeSc       OVER     AT TImE zONE DbTimezOne         BEtwEeN        WIthIN grOUp  OrdEr sIblINGs BY EXiStS   selEcT nOT tRANsLATE  ‚®± uSINg NChaR_cs   at local     ** ?        meMBEr of *             INTO   UnIquE  =>  DeFAUlT  "" @           +     frOM    subpArTiTiOn       pArtItiOn by   =>  *            CROSS joiN   XMltaBlE  xMLnAMesPAceS  NOT NuLl    ** PRiOR DecoDe  ‚®±   at LoCaL           likeC  *        as "" @ ""        Ôºå tImeSTaMP ''   PASsING  =>  deFaUlT   @ ""       cOluMNS NoT   ‚®± as ""       < =   witH  @ ""      .    +      as  selECT  =>  ‚®±    INTO  .  *     FrOM ‚®±     ORDeR BY ‚®± desC  NullS LAst     FOR updATe OF        +        sEArcH bReadTH firSt by ‚®±   SET ""       SElEcT DIstInCt ‚®±    froM ‚®±   COnnECT BY NoCycLE ‚®±  starT WItH ‚®±  grOuP By  GRouPing SETS   ‚®±                 WiTH REaD oNLy  ConsTRAINT             FOR ORdinalIty     UNpIVOT INclUDE NulLS   .  *   +    fOr   DISTINCt       iN    .                 ""    pArTitIon By  DeFauLt      NAturAl JoiN  ‚®±  unpIVOt   .  *   +    FOr   .    +        IN         AS  DatE '≠ä§'                  inNER joIn  The  wItH  @        +      as  seLEcT  =>  DEFault        BUlK colleCT intO   eXIsTS   ‚®±        AS "" @             fROm ‚®± piVot XML   =>  deFAUlt    For       +     iN  ‚®±          StARt WItH cuRRENt OF    ‚®±             conneCT By Not sYS_COnnEcT_bY_PAth  distIncT    AT LOCal         < >  any     =>  DeFAulT  ""               hAving *   not  BetWEEN  *   ANd  nulL    ** TRaNSlAtE  ‚®± USInG NCHaR_Cs   at TIme zOnE caSE ELse ‚®±   end                   ORdeR sibLiNGs By nOt exiSTs   ‚®±           FoR uPDATe Of    +        cYcLE    sET     To inTervAL '' YEAR  q'!!'      to mONTh  N''   , 0X         DeFAUlt nq',,'        WItH  @       .    +      as  ‚®±      ‚®±   For UPDATe noWAit   WItH ChEcK OPTIoN      wiTH REaD onlY      as "" @ ""     paRTItIoN BY   =>  deFAuLT  aS        RigHt OutER  jOin  ‚®± usInG    UniQUe        ON NOT +   UNIqUE ‚®±       +   OVEr  PARtitiON By deFAUlT     ORdER sIbLiNgS by ‚®± aSc  NullS fiRsT     rows unbOundeD PrecEDiNG        AT LOCAL     **  .  *         is nOT Of TYpe  "" @                  WHERE cUrRENT OF    +         cONNeCt By NocYclE XMlcast  MULtiset  SeLEct  =>  ‚®± "" @ ""       Into     FrOM   ‚®±   Order bY ‚®± NUlls firsT     wiTh ReAd Only  COnsTRaiNT        JOIN   jSON_TaBLE  ‚®± foRMAt json Ôºå ""    ColumnS   @ ""          PIVOt   =>  ‚®±   FOR     IN    =>  deFAUlT       AS            AS Of PEriod fOr   +   bEtWEEn            unpiVot     +       fOr   .         IN     +       aS .              PArTITiON bY  DEfAult  "" @ ""        CROSs JoiN   WitH  @     as  ‚®±   searCh bReAdTH fIrSt by ‚®± nULlS FIRST    sET        sElEct distinct  =>  DEFaULT  as ""      fROm ‚®± PIVot xMl  ‚®±   foR   ‚®±  @ ""            iN ‚®±        WhEre ‚®±  sTArT WItH ‚®±  ConnecT by NOcYcLe ‚®±  GroUP bY  ROlLuP  ‚®±             haVinG ‚®±    fOr upDATe of    +    SkIP LOCKEd   orDeR SIBliNgS By ‚®± DesC        As OF PeRIOD foR  .  *   ‚®±     "" @ ""     cROSS joIN  ‚®±   on ‚®±     cONnect By ‚®±  gROUp BY  CUBe  ‚®±             havinG ‚®±    foR UpdATe WAit .e-f     with CHecK OPTIoN  cOnSTRAINT       as LonG raw       at TiME Zone SeSSIONTimEzoNe         iS Empty           WiTH ChecK oPtion           asC       oVeR       ** EXtract  year FrOM nOT    =>  - trEAT  ‚®± aS Ref ""      .   dISTinCT       aT TIme ZonE dbTimeZONE          ! =  *            ~ =    wIth      .    +      aS   ‚®±      sEARch Depth firSt by NOT ExisTs   wiTH "" @     aS  ‚®±   searCh DEpTH FIRst BY ‚®± aSC  NuLLs fIRST    SET ""     cyClE   +    SET  @      TO INterVAl '' MONTh     DeFAulT FAlse       sElECT ‚®± AS       INTO     fRom     paRTItIoN By  ‚®±        WHeRE ‚®±    foR UPDate OF   .  *    skiP loCKEd             seT "" @         seLECT DiStInCt  =>  DEFaulT     fROm JsON_tabLe  NOT cURRent of     =>  DeFauLT   @ ""          +        FOrmAt jsON COLUmNs  NeSTED path ''    coLUMns  neSTed     CoLUMnS  "" @     douBlE PreCISioN   TRUNCatE PaTH ''                   nATural JOin    ‚®±   ORdEr bY nOt CuRsor  ‚®±   aT lOcaL         iS  not  infiNiTE        Asc  nUlls lASt        VERSiOns beTweeN sCn  *   AnD *     uNPiVOT eXClUDE NulLS        +    fOr     iN    .  *                 paRtITiON bY  deFAult  ""         pIvOT XmL   =>   DefAult      oVErLAPs  ‚®± as "" @                  fOr    UniQUE  =>  DEFAUlt  aS "" @           +        IN  coNneCT_By_ROOt NEw  .       aT tIMe ZONe U''''   At loCaL        ** sys_conNECT_BY_PAth                           sTaRt WIth    =>  ‚®±     nOt  IN     defaUlT                    coNNECt By NoT *   Is NOt A Set         haVIng   =>  dEFAult      OvErLApS  ‚®±             GRoUp BY                   WiTH chECK oPTION  COnSTRAinT       OrDeR siBliNGs BY nOT *   NoT  IN    DEFault  "" @ ""                FoR uPdaTe SkIp loCkeD   WITh reaD OnLy                     AND  - PRiOR NeW   aLL  =>  ‚®±  ** ‚®±      nOT  LiKe  *        AS ""          aT TIMe zonE sesSiOntiMEZone     at LOcal                 LoG ErroRs INtO   +     cUrRent oF    AlL defauLT  aS          +          ReJect LImIT IntErVAl '''' dAy  to hOuR  0x   Ôºå TIMEStAmp ''           