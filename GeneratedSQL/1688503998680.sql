< < :6  @ "ð§”‰" . ""   > >   meRge inTO jSOn_TAbLE ( CurReNT Of  ElSIf  ( uNIQue ï¼‰       oR NoT tRaNslaTe ï¼ˆ *   NoT  lIkE  "" @ :ï³½3    ( + ï¼‰  % nOTFOund  aT TIMe ZoNe DBtIMEzOnE    MulTIseT uniOn disTINcT  ncHr ( nOT (  DEFault  As raw     , "ð¥²µ" @ scOpe  . _   ï¼ˆ alL #   =>  â¨±  ï¼Œ â¨±   )   =>  dEFault  ""     )  <  ( ï¼ˆ "" @ "ð”¢" @ NOsOrT    =>  DeFaULT  "ð“ª"    , pCtuSEd   =>  â¨±   ï¼‰  ï¼Œ ï¼ˆ â¨± As "ð˜…‡" @ :66      , defaULT    )  )      oR eXIsTs  ï¼ˆ ( wiTh :82  @ ""   .  ""   aS ï¼ˆ WitH :à´¶ãƒ  @ bAtch     ( "" @ "ê®²"  ï¼ˆ ï¼‰   ï¼ˆ "" @ javA   ( UnIQuE )   =>  â¨±  , dEFault  sELf      ï¼‰    , :2     ï¼‰  as ( â¨± ï¼‰  searCh BrEADTh fIrsT BY â¨±  ï¼Œ â¨± ASC  nUlLs FiRsT    sEt "ð©»®"       sELEcT DEfaulT  aS "" @ "ð›‰·" . "ð«¸€"       InTo subparTitiON  ( "Í" @ "" @ NOcYClE    =>  dEFAULT   ï¼Œ â¨±   )   .  *  ï¼ˆ + ï¼‰  , :56  ï¼ˆ all :ï­—9  @ LIMiT  . "ð”½"  ï¼ˆ ï¼‰   =>  â¨±   )   .  ""     From ( _á¥Š  @ operATiOns     sAMPLe ï¼ˆ â¨± ï¼‰   AS :9     pARTITION BY ( â¨± as "ð¤¦®" @ "ð¤­œ"      ï¼‰   uNPIvOt ï¼ˆ ( "" @ :1  @ "ðª‡†"  ï¼ˆ alL dDL  @ "ð¦­"   =>  dEFAULT    ï¼‰   ï¼ˆ ALL ï¼‰   ( + )   )   fOr "ð¥µ¤"  ( + )    IN ( "ð„’" ï¼ˆ á¢¡à°Ž  @ exTENt    =>  â¨± AFTER      ï¼‰   ï¼ˆ + ï¼‰   aS 9E1D      )   )     ) VErsiONs pEriod fOR "ð¨ž˜" @ :_  @ :6   ( )   .  *  ï¼ˆ + )  bETween  *   And cOmPaCt  ï¼ˆ ï¼‰    wITHin gROUP ( OrdER bY â¨±    )     ** :73  @ "" . ""   ( + )  % BULK_RoWCount ï¼ˆ â¨± )    AT LOcal       +  caSE WhEN â¨± ThEn â¨±  elSe â¨±   ENd  At LOCaL      *  "" @ "" @ "ð¢—‹"  ï¼ˆ )   ï¼ˆ UniQUe DEfaulT  as "" @ ""      )   ( + )  % BUlk_eXCePtiONS ( â¨± ï¼‰  . eRror_InDEX     ** datE ''   AT timE ZOnE â¨±           pIvOT ( buLk_rOwCOunT   =>  defAult  EleMENt  @ :29  @ FOreiGN      ï¼Œ â¨±   FOR ï¼ˆ "" @ "" . "ð¬„‹"  ( unIquE â¨±   )   .  RELaTiONAl    ï¼Œ #  ( uNiquE )     ï¼‰    in ( aNy   )   )        , ï¼ˆ â¨± )  UNPIvOT incLuDe NuLlS ï¼ˆ "" @ :â½    ï¼ˆ :ï¿©  ( :4  @ ""   =>  deFaULT  as precISIon      ï¼‰   =>  DEfAuLt   ï¼Œ dEFaUlt    )     fOR ï¼ˆ ""  ( + ï¼‰  ï¼Œ "ð•Ÿ" ( uniQUE "ð¤»‡"  =>  â¨± as "" @ ExcePtION_iniT  @ eVaLuaTe      , "" @ ""   =>  â¨± ""     ï¼‰   .  *    )    iN ( ï¼ˆ :31  ( UNiQUe )     ï¼‰   aS ï¼ˆ q'&&'   , 'ð©—º'   ï¼‰     ï¼Œ ï¼ˆ "" ï¼ˆ )   ï¼ˆ â¨±  , DeFAuLt  aS ""     ï¼‰   ï¼ˆ + )  , :15  @ "ð­ƒ"     )    )   ï¼‰      PArTitIoN By ï¼ˆ â¨± nOroWDEpeNdeNCiES     ï¼Œ "" @ PaRent  . __   ï¼ˆ UniQuE ï¼‰   =>  dEfault    )  CrOss JoIn  xmlTaBle ( XmlnamEspAces ( mAXvALUE  @ "ð¦›˜"  ï¼ˆ Unique ï¼‰   =>  deFault  DePth  @ áº•  @ :1       DEFAULt tiMESTAMP ''   )  , U'ð¤š’'   paSSING bY VaLUE â¨±     )     Pivot ï¼ˆ dEFaULt  "ð¨‘†" @ :_      , stOre   =>  â¨±   for vISIBLE  @ :29    ï¼ˆ ""  =>  â¨±   )   ( + ï¼‰    In ( â¨± ï¼‰   ï¼‰      whErE â¨±  CoNnECt bY NOCYCle â¨±  start WitH â¨±    MInuS  SeleCT aLl DeFaULT     frOm "" @ ""    SAMPLE blOCK ( â¨± )  SeeD ( â¨± )     paRtitION BY ( DeFaulT  AS rowCoUnt     , :4  ï¼ˆ all "" @ "" . unBoUNded   ( ï¼‰   =>  â¨± ""     ï¼‰   =>  â¨± AS :#Û§      )     WHERe â¨±  ConNeCT By â¨±  HaViNg â¨±  gRoUp by ( RolluP ï¼ˆ ( â¨± ï¼‰   , â¨±   ï¼‰    ï¼‰         ï¼‰  CycLe á†»ê’¡   .  "ð«’±"  ï¼ˆ + )   SET "ð®ªª" @ INDexING    .  NonE     tO 0x    deFauLt u''''      , :5  @ piPeLineD     as ( WITH :á§†   .  "ð¢¤‰" @ "ðª½²"    ( :95  @ #  @ ErrOR_COde   ( )   .  "" @ "ðª‹¼"    , "" ï¼ˆ distINcT DEFaULt   , "" @ "" @ ""  ( diStiNct )   =>  â¨± "ð¤«”" @ COunt  . "ð’‹‰"      )   ï¼ˆ DEFauLT   , COMPiLe  @ :8  @ :34   ï¼ˆ All ï¼‰   =>  â¨±   ï¼‰   ï¼ˆ + ï¼‰   )  aS ( â¨± ï¼‰  SEaRch DePth firsT BY â¨± aSc  NULlS lAST    SET "ð ­Œ"  .  MEtAdata       ï¼Œ "" @ "à¬‡" @ ""    ï¼ˆ SelF    , FOraLl  @ :26  @ "ð— Ÿ"   .  *  ï¼ˆ + )   ï¼‰  as ï¼ˆ â¨± )  CYCLE :_  ï¼ˆ ï¼‰   ï¼ˆ UnIque DeFAult  AS LiST  @ "" . StaTistiCS      , "ð¬„" @ "ð¦³¯" @ ""  ( uNiqUe â¨± As "" @ uSAble       ï¼‰   =>  â¨±   )   ( + )  ï¼Œ "" ( deFault    ï¼‰   .  á™2  @ ê ¡_      sEt :ãŸ2     tO INTERval '''' MiNUtE  to YEAr     defAult inTeRVaL '' houR ï¼ˆ True   )   To mInUTE ï¼ˆ tIMEstAMP ''   ï¼Œ 0x3   ï¼‰         ( â¨± )  UnION  SElECt ""  =>  DeFAULT  :_  @ ""     , deFauLt     bulK collecT iNTo "" ï¼ˆ ï¼‰   .  *  ( + ï¼‰    fRoM JSON_TAblE ( â¨± ColUmNS ï¼ˆ "ð­ˆ"  .  eScAPe    raw   cHARacTEr seT â¨±    EXISTS Path ''      )  )  PivOT xML ï¼ˆ â¨± AS :55  @ "" @ cOndITIOnaL       FOR LimIt  @ SUPPLEmENtaL    ( ï¼‰      IN ( â¨± )   ï¼‰    AS Of tiMeSTaMP  "" ï¼ˆ distINct â¨± ""    ï¼Œ _ïº”  @ :86  @ "ð®¬¨"   =>  DefAuLT    )   =>  DefaULt          ï¼Œ ( taBle ( â¨± )   PARTitioN By ( :34  @ ""   =>  dEFAult  "Í»"     )   unPIVot ( ï¼ˆ "ð£ˆ" ( ""  =>  DeFAULT  eXcepTIons  @ :65      ï¼Œ â¨±   )     )   for ï¼ˆ inSteAD  @ "â¶„" @ :à¥ºà·    ( + ï¼‰   )    iN ï¼ˆ "ð’®" @ "ð –§"  ( ALL )      , "ð­¦‚" ( ALl â¨±  ï¼Œ MiNuTe  @ :#8  @ ""   =>  â¨±   )   ï¼ˆ ï¼‰   ï¼ˆ + ï¼‰    ï¼‰   ï¼‰     ) unpIvoT exCLuDE nUlLS ( :44  ï¼ˆ DisTiNCT ï¼‰   .  *    FOr ( "á‹ª"  ï¼ˆ + ï¼‰  ï¼Œ lOgoff  @ DisALlOw   ï¼ˆ â¨± as "ð˜†±" @ "á­¼" . "ð§˜"     ï¼Œ :27  @ nolOGGing    =>  DEfAuLT    )   ï¼ˆ + )   ï¼‰    in ï¼ˆ ( ""    )    ï¼Œ ( PreCEdINg  ï¼ˆ ï¼‰   ( DISTinCT DefAult  As "" @ "ð¢£‹" . ""     , "ð¦‰¥" ï¼ˆ ALl )   =>  â¨±   )     ï¼‰   AS n''      )   ï¼‰    AS of pERIOD FOR á¦š  @ ""  ( DefauLT  As :4     ï¼Œ VArrAy  @ "ð¯§Š"   =>  defAULt    ï¼‰   .  "ð—™Ÿ" @ afTer  . __   ( DIStINCT ï¼‰   ( + ï¼‰  â¨±       PiVoT xML ï¼ˆ novaLIDate   =>  â¨± As :#      FOr ï¼ˆ "ð¨¹" @ :85   ( DefAUlT  "â¤…"    , â¨± as "" @ "ðªˆ­" . :31       )   ï¼ˆ ï¼‰     ï¼‰    iN ï¼ˆ â¨±  :93  @ FINAl  @ â½’à§—      )   )      staRt wITH â¨±  CoNNeCt by NOCycLE â¨±  HAVInG â¨±    For uPDaTe Of  ""   ï¼Œ noroWDEpEnDenCiEs  ï¼ˆ uNIqUe "" @ ""  ( UniqUe defAuLT    )   =>  â¨± "" @ ""      )   ï¼ˆ + )   nowaiT   wITH REAd OnlY  cONStRaiNT "ð ©«" @ MInuTe       )  SEArCh dEPTH FIRST bY â¨± aSC  NuLlS lAST   , â¨± ASC    sEt reducED   .  â¾€á¹¸  @ :_á†  . "ð¥£Œ"      CycLe UsAbLE   .  timEzoNE_hOUr  @ CurrenT_USeR  . "ð¡ªŒ"   ï¼ˆ + ï¼‰  , "" ï¼ˆ diStINct ï¼‰     SET :1  @ "" . :69      tO 4   DEFAulT 6.2E-8      ï¼ˆ SELeCT diStINCt â¨±    BuLk coLLecT INto ""  ( )    , ShrINk  ï¼ˆ ALwAyS  @ "ð®¯" @ ""  ( "ð­š´" @ :#  . :50    =>  â¨± as "ð«—«"    , "" ï¼ˆ dISTINCT )   =>  DEFAULt    ï¼‰   =>  DEfAuLT  aS "ð« ‰"    , deFAult    ï¼‰   .  *  ( + )    FROM tHe ï¼ˆ â¨± ï¼‰  "ð–©“"     PIvoT XMl ï¼ˆ stAtemeNt   =>  â¨± memOpTimIze  @ ""      FOR "" @ áŒ·  . :79   ( diSTINcT â¨±   ï¼‰   ï¼ˆ + )    in ( AnY   , ï¼ˆ â¨±  ï¼Œ ""  =>  defAUlT  "" @ Join  @ moNiTorInG       ï¼‰    )   ï¼‰      gRouP By â¨±   ï¼Œ ï¼ˆ ï¼ˆ )    )      HavinG â¨±    UnION alL  ( â¨± )  fOr updAtE  orDEr SIblINGS by â¨±  ï¼Œ â¨± NuLls lASt     WITh CheCK oPTiOn  cOnsTRaINt á¤š  @ partIal   ï¼ˆ )      ï¼‰  oRDer bY â¨±  , â¨±    FoR UpdaTe of  :6  ( ALL "" @ caLL  @ ""   =>  â¨± ESCapE      ï¼‰    ï¼Œ _5   ( ï¼‰     sKIp lOCKed    )  ORdER SIbLinGS By â¨± aSC  nULLs fiRst   ï¼Œ â¨± NullS FIrSt     WiTH REaD oNLy    )       ï¼‰     mod  XmLCASt ï¼ˆ nOt *   NOt sUbmulTisEt of *       and NoT "ðª°Ÿ" @ "" . "ð¢Ÿ™"   .  :5  ( )   ( + )  % RoWcount   muLTiseT UNiON  TrEAT ï¼ˆ â¨± AS ReF "ð¢¶ " @ ""     )      MoD  syS_connecT_bY_PaTH ï¼ˆ AlL ï¼‰     ** XMLquERY ï¼ˆ â¨± pAssinG â¨±  ï¼Œ â¨± aS "ð–¬–" @ :#ï²»  @ SCOpe    ï¼ˆ â¨± aS :73     ï¼Œ mETadATA   =>  deFAULT    ï¼‰      REtuRNinG cONTeNT ï¼‰   At TIME zONE sesSionTIMEzOne         NoT  in  ( WiTH :á³4  @ "à§¸"   .  ""   AS ( ( ( â¨± )  WiTh check OptIOn  COnStRaint sALt  @ "ð”˜•" @ ""  ï¼ˆ â¨±  ï¼Œ deFAULt    )      )  miNUS  sElECT dISTIncT "ð£Ž“" @ Under  @ :áœ¥7   ( uNiQue )   =>  DEFaUlt  As :8  @ AlLoW  . "ð¬†"       from xmltABLE ( TrUE   coLUmNs â¨± INTERvAl  lOg    tO ï¼ˆ aLL "ð¥Š–" @ ""  ( â¨±  , :9  @ "ðŸž‰"   =>  DEFAULt    ï¼‰   =>  â¨± aS ""    ï¼Œ "" ( UnIQUe )   =>  â¨± MaXSiZE  @ "" @ àª¿       )   kEEP_DuPLicATEs  ï¼ˆ deFauLT   , DefAulT  "ï¹•"     )   ( + )      ï¼‰  VeRsIoNS betweeN scN  *   aNd *       paRTITIoN bY ( â¨± :1  @ :#_      , "ï¶°" @ PArenT   ( ï¼‰   =>  DEFaulT    )  NATuRAL fUlL OUteR  jOiN  "ðª¦¹" @ Than  @ "ð¥œ‹"   .  "ð¨–€"    pARtitIon by ( "ðŽ"  =>  DEFauLT  :73  @ _á¦Š  @ _à¥ª      , â¨± as :ïº²8      )  fulL  JoIN  ( WitH "ð¬„¬"  .  reteNtion    aS ï¼ˆ â¨± )    ï¼ˆ â¨± ï¼‰   )  vErsions PERIod FoR MetAdaTa   .  :39  @ "" . "ð¤’©"   ( + )  bEtWeEn  *   ANd + â¨± aT locAl    mulTIseT uniON  - â¨±     -  trIM ( LeadIng fROm  â¨± ï¼‰  at LocaL    MuLtiSET INtErSECt  ( SeleCt â¨±    FROm â¨±  , â¨±   sTarT WITh â¨±  cOnNecT bY â¨±  GrOuP BY ( CuBE ï¼ˆ â¨±   )    , ï¼ˆ ( â¨± ï¼Œ â¨± )   ï¼Œ gRouPING SEts ï¼ˆ â¨±   , ï¼ˆ )    )    ï¼‰   )   , ï¼ˆ â¨±   ï¼‰        UniON alL  selEcT "" @ "" . hEaP   ï¼ˆ diStincT ï¼‰   =>  DEfAuLT   ï¼Œ "" ( DeFAULT   , nONe  @ "ð—¹µ" . "ðª¬"   =>  â¨± as "ð¤³Ÿ" @ ""      ï¼‰   =>  â¨± As "ð¦·¤" @ :7  @ ""       inTO lONG  @ "ð£¿›"  ( UniQUe )   ( "ð«Ÿ´"  =>  deFaulT    ï¼‰    , VIsibLE  @ :#1  . "ð—¦¥"  ( dIsTINCT â¨± :2      ï¼‰      FRoM â¨± UNPiVOt eXCLuDE NULls ( "" @ a  . ""   ï¼ˆ + )   fOr ( "ð«¶¦" ( DIStINct )   ( )   ï¼ˆ + )   )    iN ( :71  ( ï¼‰   ( + ï¼‰   as ( NQ'::'   )     ï¼‰   ï¼‰     , â¨±   GRoup bY ( ( ï¼‰    )   , ( rOLLUP ( ( â¨± , â¨± ï¼‰   , ï¼ˆ â¨± ï¼‰    )    , GroUpIng SetS ï¼ˆ ï¼ˆ )    )    )        FoR update SkiP loCkeD    ï¼‰    ** ( â¨± ) AT time zOne â¨±    MUlTiset union DisTINcT  XmLagG ( â¨± order sIBlings bY â¨± asc  NUlls Last     ï¼‰     MOD  PRIOr â¨±  At TIMe zOne SessionTImezoNe    muLtIseT EXCEpt  - â¨± At LOcaL             JoIn  â¨± oN â¨±   usInG ( á¥    ï¼‰      WHERE â¨±  starT WiTH â¨±  coNNEct By â¨±    orDer bY â¨± deSc  NulLS LASt   ï¼Œ â¨±    WItH rEAD ONlY    ï¼‰  sEARCh BReaDth FIrSt BY â¨± desC    set rEdUCED  @ "â€£"   .  ""     cyCLE "" @ rEly  @ :8    .  *  ( + )  , cHunk  @ "ð®£ƒ"   .  *    SET SAMpLE   .  "" @ :á¼¥  . OUT      TO DaTe 'ð¡†'    DefAULt inteRVal '' MiNutE       , "ð§š¯"  .  ""   aS ( WItH áŸ¤  @ "" . noNschEMa     ï¼ˆ "" ( disTIncT defAuLt   ï¼Œ dEFaulT  aS :98  @ "ð …”"      )   ï¼ˆ ALl â¨±  , RePlaCe   =>  â¨± "ðª©º" @ :4       ï¼‰   ï¼ˆ + ï¼‰   ï¼‰  AS ( ï¼ˆ â¨± ï¼‰  for UpdatE OF  "" @ :_   ï¼ˆ dIsTInct #   =>  â¨±   ï¼‰    ï¼Œ prior  @ "" . "ð¡‹”"  ï¼ˆ All ï¼‰   ï¼ˆ ï¼‰     sKIP lOcKeD   ordeR siBLIngS by â¨± DesC   ï¼Œ â¨± NULls last      ï¼‰  cyClE "" @ ReduCEd  . CHAr   ï¼ˆ DefauLt  :1     , ""  =>  deFAuLt    )   ( + ï¼‰   sEt ""  .  VirTUAL     To Q'=='    Default 1.9e+8D       SEleCT "" ï¼ˆ UNIQUE )   =>  â¨± as "" @ :ï°Œ      , DeFaUlt  as _à½·       Into :3  @ ""   ï¼ˆ + ï¼‰    fRoM "" @ DaTe     suBpaRtItiOn ( LIKe2  ï¼ˆ â¨±   ï¼‰   .  :41  @ "ð¦¤„" @ :_$     )  SamPLE BlOCk ( â¨± )  seeD ( â¨± )    aS oF PeRIod FoR "ð¨ š" @ FIRSt_roWS   ï¼ˆ DistINcT )   .  *  ( + )  BEtWEEN    UnPIVoT InCLuDe nUllS ( "ð‘ ƒ"  ( "ð¤½ˆ" @ ""   =>  dEFAULt  recycle  @ "ð ³¼"      ï¼‰     foR ( :85  ( some  ï¼ˆ alL ï¼‰   =>  DeFauLt    )   .  "ð ¡¡" @ "Ð¤"  ï¼ˆ ï¼‰     ï¼‰    in ï¼ˆ "ð§°“"  ( all â¨±   ï¼‰      ï¼‰   ï¼‰     AS "ð¥·€" @ NoROWdEPeNdeNciEs       PIVoT ï¼ˆ DEFAUlt   , muLtiset  @ ElEMenT  . ""   =>  defAulT  As :13      FOR ( "ð–©‚"  .  *  ( + ï¼‰  , :ã…¾á†¤  @ "á˜¨"   ( )   ï¼ˆ + )   )    iN ( WiTH :5  @ ""   .  "ð¤“Œ" @ CycLe     ï¼ˆ "ð¬½‰" ï¼ˆ dIsTINcT â¨±  ï¼Œ :_á ²  @ ""  ( :89  @ PRebUILT  . áŠ¸7   ï¼ˆ ALl â¨±   ï¼‰   =>  deFAuLT  NopAralLEl      )   =>  DEFAuLt  "ð—Ž·"     ï¼‰   ï¼ˆ + )  , "ð¥¨§"    ï¼‰  as ï¼ˆ â¨± )   , "ð­£²" @ á»’  . "ð­µ—"    as ( â¨± )  searCh dEPtH FIRST BY â¨±   Set FormAt   .  "" @ "" . "ð­ž™"        ï¼ˆ â¨± )  OrdEr by â¨± DeSC  NULLs lasT     FOr updaTe oF  "ð›‹Œ"  .  :48  @ ""  ï¼ˆ )   ï¼ˆ + ï¼‰  ï¼Œ "ï­µ" @ PasSWorD  . eXcEPtioN_iniT   ï¼ˆ dIStInct )   ï¼ˆ )   ï¼ˆ + )    WitH cHeck OPtiON    ï¼‰   ï¼‰      WHERe â¨±  StArt WITh â¨±  connECt by â¨±  hAViNg â¨±  GrOuP By ï¼ˆ â¨±   ï¼‰   , ï¼ˆ roLLuP ï¼ˆ ï¼ˆ â¨± ï¼‰    )    , ( ( ï¼‰    , ï¼ˆ â¨± )   ï¼‰   )        UniON  SelECT DisTiNcT :4  @ "ð«£—" @ higH    =>  defAuLT   ï¼Œ â¨± AS :#ã‚¸       Into "ð¥€¤"  .  *  ï¼ˆ + )    frOm JSoN_tAbLe ï¼ˆ â¨± FOrMAT jsON eRrOr oN  empTy  COLuMns ï¼ˆ àµ›5  @ uSeR     truncATE paTH ""  .  "ê˜¦"      ï¼‰  )   paRTitION bY ï¼ˆ â¨± as :8  @ ANAlYZE  @ Ú‘_       ï¼‰  innER JOIN  TABLE ï¼ˆ â¨± )     pIvoT xML ï¼ˆ â¨±  ï¼Œ OuteR  ï¼ˆ DiStincT ""  =>  â¨±  ï¼Œ â¨± :7      ï¼‰   =>  DeFaulT  "" @ pCTveRsion  . "ð§‰¡"      fOr SubMuLTIsEt  @ ""  ï¼ˆ all :65   =>  dEFault   , "ð¨›°" @ ""  ( )   =>  â¨±   )   ï¼ˆ )      In ï¼ˆ AnY   ï¼‰   ï¼‰         ï¼‰  CyCle ""   ï¼Œ #6  @ LeVEls   ï¼ˆ UNIqUe â¨± As full      )     set "ð£´«" @ "" . "ð£“¾"     To 0xE    dEFAULT $.6      sELect unIqUe :#à±˜   =>  DEFauLt  paRAmeTERs       BulK colLEct iNtO "ð­­˜" @ ""      frOm ( ( â¨± partITion By ( DEFaULt  As "ð¡³"     )  nATurAl INNer joIN  â¨±   ï¼‰ unpivot ï¼ˆ "" ï¼ˆ ALL )   ï¼ˆ + ï¼‰   for ( àµœá¹”  @ MInvalUE   ( DefaUlt   ï¼Œ :9  ( DistIncT â¨±  , "â§³" @ PERceNtilE_DisC  . OrGAnIzATIOn   ï¼ˆ ï¼‰   =>  â¨±   )   =>  DeFaulT  "" @ ""      )    , :6   .  "" @ "ð¦‚˜"   ï¼ˆ + ï¼‰   ï¼‰    in ( "ðª©¹" ï¼ˆ :37  @ fUll  . "ð¡™¾"   =>  deFauLT  as :à¨¹Æº  @ "" @ ""     ï¼Œ â¨±   ï¼‰   ï¼ˆ UNiQUE )   ( + )    , ( :3    ï¼Œ "" @ pAREnt  @ #9   ( DistINcT )     )   AS ï¼ˆ trUE   ï¼Œ Nq'##'   ï¼‰     ï¼‰   )     :#ï²š  @ "ð’…°"     partitiON By ( specifICAtioN  @ "" . cUbE    =>  DEfAulT   , â¨± AS "Ä™"     ï¼‰    )  naTUrAl JOiN  ( seLeCT DEFAuLT     BuLk colleCT iNTo "ð“Š”" @ :6  . "ð—Œ¯"   .  "" ( "ð™"  =>  DEFaUlt  MergE      )   ï¼ˆ + ï¼‰    fROm xmlTAble ( xMLnaMEsPAceS ( ï¼‰  ï¼Œ .5E1f   pAsSING â¨± as "" @ pURGe         )  pIvOt ( Þ¦È¬  ( diSTInct :1  @ :áˆ†   ( ï¼‰   =>  â¨± thAN     , â¨±   ï¼‰   =>  DefaULT  As ""    , "" @ "ð¬­‚" @ wiThOuT   ï¼ˆ )   =>  â¨± :85  @ WAIt  @ ""      FOr fORce   ( dIstInCT dEfauLT    )   ï¼ˆ + ï¼‰    IN ï¼ˆ wItH "" @ :3  @ :6     aS ( â¨± )  Search DEPtH fiRST BY â¨± deSc  NULLs fIrSt    sET nOnsCHema  @ PuRgE  . "ð˜——"        seLECt DIStiNcT â¨±  , DEfAULT     frOM â¨± UNpIvoT ï¼ˆ "ð©¥¾" @ "ð£«¹"     FOr ï¼ˆ sEquence   ( + )   )    In ( ( "ð˜’»" ( )   ( aLL )     )    , _  @ "ð¬­‘" . "ð¨º°"  ï¼ˆ "" @ :#  . ""  ï¼ˆ all ""  =>  â¨± ""    ï¼Œ DefaUlT    )   =>  deFault  aS "" @ ""     ï¼Œ ReJEct  @ ""   =>  â¨±   )   ï¼ˆ + )   aS ''''      ï¼‰   )     , â¨±   WHERe â¨±  CONneCT bY nocyclE â¨±  sTART WITH â¨±    ORdeR siBLiNgS by â¨± dESc     FoR UpdatE OF  :ï­¢  ï¼ˆ DistIncT â¨±   ï¼‰   ( ï¼‰   ( + ï¼‰  ï¼Œ cEll_fLAsH_caCHe  @ "ð¢®•"  ï¼ˆ "â«›" @ "ð˜˜" . :#0    =>  dEfAULT    )     wAIT ''      )   )    as of pERIoD foR SErverERroR  ( unique â¨± LeadIng  @ :65      , DefauLt  SCalE      )   .  *   â¨±        ï¼Œ THe ï¼ˆ ( â¨± )  wiTH REad onLY  conStRaInt "ð©–"     ï¼‰   pARtiTION bY ( "ð—„¢" ( ï¼‰   =>  DEfauLt  aS ""    , :5  @ :8  . ""   =>  â¨±   )  LEFT OUTEr  JOIN  â¨± On â¨±   pivOT xml ï¼ˆ ""  =>  â¨± as VaRrAys  @ "" . á€³ï®«      ï¼Œ DeFAulT    fOR _4  @ PRIVAte  . alwAyS    ï¼ˆ + ï¼‰    IN ( Any   , â¨±  "ð­ƒ­"    )   ï¼‰      coNnect BY NOCYcLe â¨±  GrouP by cUbe ( â¨±  ï¼Œ ï¼ˆ â¨± , â¨± ï¼‰    )       haVING â¨±    INtErSEcT  SElECT â¨± As ""      BuLK ColLecT INtO "" @ :53   ( UNiQuE scalE  ï¼ˆ )   =>  DEfaULt   ï¼Œ defAULt    )    , "" ï¼ˆ DiStINCt â¨± aS NEw  @ "ð ´„"      ï¼‰   ( + )    From XmltAblE ï¼ˆ tImesTaMP 'ð§‚œ'   coLUmnS â¨± fOr ORdiNALItY  , â¨± doubLE PRECisION   PAtH TRUe   dEFaULt â¨±   )  vErSIONs BEtween timestaMP  dECode ( â¨± ï¼‰     /  :3    keEP ï¼ˆ DeNSe_rAnK First ORDeR bY â¨±  ï¼Œ â¨± NUlls firsT     ï¼‰   at Time zoNE dbtImEZOne     ** #  @ nO    ( + )  OvEr ï¼ˆ PArtITion bY "ð¬œ’" @ "ð’Š§" . :áœ¨1   ï¼ˆ ï¼‰   =>  â¨±  ï¼Œ "" @ :67    =>  â¨± "" @ "ð¯¡·"       orDEr SiBlINGS By â¨± asc   ï¼Œ â¨± desC  NUlls firSt     )   AT locAL    MULtIsEt UNioN DiStinCt  cASt ( â¨± As "" ï¼ˆ UNIquE )   .  *  ( + )  % TyPE    )        AND NeW xMl  ï¼ˆ )       ** ï¼ˆ ï¼ˆ â¨± ï¼‰  UnIOn  ï¼ˆ â¨± )  For UPDaTe WAit DaTE 'ð­¦'      ï¼‰     moD  traNSLATe ( â¨± uSINg chaR_Cs )  at Local    mUltIseT inTeRsECT  exTraCt ( _9  @ "ð¤²" . "ð¸"   =>  DefAULT    , â¨±  ï¼Œ â¨±  )  AT timE ZOne SEsSIonTIMeZONe       -  "ðŸŸ" ( AlL dEfauLT  "ð ¬²"    ï¼Œ pIpE   =>  DEfaULt  as :9  @ ""      ï¼‰    oveR ï¼ˆ PaRtITION By â¨± When     ï¼Œ "ð¨•¯" @ :áº¤    =>  dEFAult     )     ** new INclUDe  @ :67   ( ""  =>  deFaULt    ï¼‰   ( diSTINCT ï¼‰     at lOcAl            "áŒ²"    PaRtiTION By ï¼ˆ â¨± :2  @ pRagMa  . ""      ï¼‰  crosS JOIn  â¨±  pivoT xml ï¼ˆ â¨±  , dEFaulT    For ï¼ˆ liKe4  @ "â¸¨" . "ð¥‡ "   .  :5  @ ConteXT  . :#àª‘   ï¼ˆ ï¼‰   ï¼ˆ + ï¼‰  ï¼Œ ""  .  "á”©" ï¼ˆ DiSTiNcT )   ( + ï¼‰   ï¼‰    In ï¼ˆ WiTh "" @ "ð«¬ƒ"    ( :30  @ USabLE  . ""  ( â¨± aS á§†  @ "ð¬Š–"     ï¼Œ "ê”ƒ"  =>  â¨± as EXCepTiONS      ï¼‰   .  "" @ lOCaL  @ _   ï¼ˆ "ð¤›¾" @ READ   ( ALl ï¼‰   =>  dEFAULt    ï¼‰    ï¼Œ :8   ( All stAtEmEnt  ( DeFauLT   ï¼Œ miNEXtEnts   =>  â¨± as NOREly      )   =>  dEfaulT   ï¼Œ â¨±   )   ï¼ˆ + )   )  as ( â¨± ï¼‰  sEARCH bREADTh FirST By â¨±  , â¨± nULlS FIrsT    sEt "ð‘¦" @ "ð©¥³" . PERiod         SElECT "" @ "ðŸ©­" @ ""  ( UNiqUe )   =>  â¨± ""      InTO "ð¬©³"  ( DIstiNct ï¼‰      from XmlTAble ( u'áŽ°'    ï¼‰    UNPIVOT iNcLude NuLlS ( ï¼ˆ Å€Ñ¯  @ :â´–7  @ Batch   ( deFAuLt  :75     , DEFault    )     )   foR ( _  @ "ð›‡ "   ï¼ˆ + )  , :8  @ "ð ©»" . "ð¡­ž"  ï¼ˆ AlL )   ï¼ˆ â¨±   )   ï¼ˆ + )   ï¼‰    iN ( "" @ ""      , "" ï¼ˆ ï¼‰   ( + ï¼‰   aS ( iNTervAl '''' mInutE ï¼ˆ date ''   , TIMesTamP ''   ï¼‰     , 7  )     ï¼‰   ï¼‰     ï¼Œ jSon_TablE ( â¨± FORMaT JSon , 0xf    COLUMNs ï¼ˆ NeStED path 1D    COlUmns ( oPeRaTiOnS  @ :Ñ‡2     FOr oRdINalitY   ï¼‰    ï¼‰  )      WhERe â¨±  staRt WiTH â¨±  cONNECt By â¨±  HavINg â¨±    miNuS  ï¼ˆ â¨± )  FOr updaTE SKIp LOCKed   ORdeR SiBLiNgs bY â¨± dEsC  NULlS fIrsT   ï¼Œ â¨±    wIth CHeck OpTiON    ï¼‰   ï¼‰        wITH CheCK OptIoN    )  UNpivOt EXcLude NUlLS ï¼ˆ :73  @ vALiDaTe  . LAnGUaGE      fOr ( "ð¬”¾" @ "" @ :57    .  *  ( + ï¼‰  , :5  ï¼ˆ DistINcT "ðˆ" ï¼ˆ bloCk   =>  dEfault  As dEpTh  @ :á¾¤á¨™      ï¼Œ dEfAulT  ""     )   =>  â¨± "ðŸ £" @ "" @ MultisET       ï¼‰   ï¼ˆ dIstinCt )     ï¼‰    in ( ï¼ˆ "ð©•š" @ :_  . "ð¤–Š"  ï¼ˆ DiSTiNCt rowcOunt  ï¼ˆ All ï¼‰   =>  â¨±  ï¼Œ "" ï¼ˆ ï¼‰   =>  â¨±   )    , :9  @ "" . ï±”4    ( + ï¼‰   )   aS .3E5     ï¼‰   )    as OF SCn  DeFAult  AS "ð¬"        sTRiNg  @ _á»‡      pARTitIOn By ( NulLs  @ "ð­¢¿"   =>  â¨±   ï¼‰  INneR JOin  ï¼ˆ â¨± pivOt ( dEfAUlt  aS "ð–¡´"     FOR ï¼ˆ ""  ( dEFAUlt  Second      ï¼‰    , ""  ï¼ˆ + )   ï¼‰    iN ï¼ˆ ( wITH "ðŸ™±" @ :6    .  :_    aS ( â¨± )  cycLe Fast  @ ScaLe   ï¼ˆ alL :6  ( ï¼‰   =>  â¨±   ï¼‰    ï¼Œ "ð­•Ž" @ FileSYSteM_LIke_logGinG  @ ""   .  *  ï¼ˆ + )   SET "ð®ˆ¥" @ "ð¡†¯" @ "ð¬½¾"   .  ""    TO n''    DeFAUlt TimEstamP ''      , "" @ DOublE     ï¼ˆ sUBtYPe  ( aLL ï¼‰   .  *   , "" @ ""     )  AS ( â¨± )  Search BreADTH FiRST By â¨±   SEt :59  @ "" @ Íµà¼’    .  "" @ ""      CycLe "" @ NatioNAL    .  *  ï¼ˆ + )  , :_  @ xmL   ( â¨± As :31      )   .  "ð—½§" ( UniQUe ï¼‰   ï¼ˆ + )   sET reBuILD  @ ""     tO TimESTAMP ''    dEfaULT 0X       SELeCT diSTinCT :ï­´  @ "" @ "ð¨©º"   =>  DeFaUlT  "â†¶"      FROM â¨±  , â¨± UnpIvOT iNCludE nulls ( "" ï¼ˆ defAulT   , vARRAy   =>  â¨±   ï¼‰   ï¼ˆ diSTINCT ï¼‰   ( + ï¼‰   for _  @ ""   ( )      In ( ï¼ˆ "ð«‹€" @ :83  . sizE   ( "" ( dIstiNCT dEFauLT   , â¨± nOEXtend  @ :áƒ¾  . :68       )   =>  â¨± as "ðª¤­"     ï¼‰    , ErrOR_codE   .  *  ï¼ˆ + ï¼‰   ï¼‰    )   ï¼‰      whERE â¨±  StArT wITH â¨±  COnnect bY nOCYCle â¨±  hAVinG â¨±  gROup BY ï¼ˆ GrOuPing sETs ï¼ˆ ï¼ˆ â¨± )    )    )        WIth rEaD ONLY  ConSTRAINT "" @ "ð”“¥"      )  OrdER bY â¨± DESC  NUlls LAsT      )   )     )  pARTITION BY ( :71  ï¼ˆ ï¼‰   =>  dEFaulT  as mAxsiZe     , DEFAult    )   Using ï¼ˆ :4  @ IncLUDe  . ""  ( diSTinct "" ( prOFILe  @ :#1  . ""   =>  â¨±   )   =>  DEfaULT  ""     ï¼‰   .  ""  ( + ï¼‰  ï¼‰      havIng â¨±    iNterSecT  ( ï¼ˆ ( â¨± )  ordeR SIBLInGS By â¨±    FOR UpDAte   )  for UpdAte oF  cOnSTanT   ( + ï¼‰  , aTtrIbuTe  @ :85   ï¼ˆ UNIQUe ï¼‰   ( uniQUe ï¼‰     skIp LOCked   order SiBLings by â¨± ASC  nuLlS lAST   ï¼Œ â¨± AsC     WITH ReAd oNlY    ï¼‰  foR UPdAtE wAit u''''      ï¼‰       AS Raw ï¼ˆ ï¼‰    raNGe *   < >  *     AND NoT cuRreNt of  "ï¿Ž" @ "" @ "ð« £"   ï¼ˆ â¨±   )         ..  ?      -  CursoR ( WITH â²¹  @ "ðª¨“"    ï¼ˆ "ð§" ( UNIQUE DEfAULT  as "" @ :_àªž       )   .  *  ( + )   )  aS ( WIth AgGrEGAtE  @ "ð£’”" . :23    .  ""   ï¼ˆ DISAssOcIAte  @ FUnCTioN   ï¼ˆ )   .  *    )  as ( witH SuPPLemENTaL    As ( â¨± ï¼‰  SeARCh BReAdTh FirSt BY â¨±   seT "ð—‹±"  .  "ð¤˜" @ "ð§¢‚"        SELeCt â¨±    buLk coLLeCt inTO "Ò‰"  ï¼ˆ + ï¼‰    FrOM JSOn_tABle ( â¨± , 0xB    cOlumNs ( _    FOR ORDINality   )  ï¼‰  VERsIOns peRIod FOR à¯Š    â¨±  â¨± anD â¨±   unPIVOT ExcLUDe nulLs ï¼ˆ ï¼ˆ "âŽ›" @ MaTCHED      ï¼‰   For cOllatiOn  ( UNiQUE "ð¢¸¾" @ "ðª¤€" . ""  ï¼ˆ )   =>  DeFAult    )   ( All ï¼‰   ( + )    in ( "ð¤»œ" ï¼ˆ :73  @ "" @ :75    =>  DEFAuLT  ShriNK  @ :75       ï¼‰   .  :á…©3  @ ""   ( + )   as ( DAte ''''   )     ï¼Œ "" ( diSTiNct )   ( uNIQue NoRely  @ EvaLUaTE    =>  â¨± As "" @ TrUSteD  . ""      ï¼‰     as Q'##'      ï¼‰   ï¼‰     AS :1     parTiTion By ï¼ˆ "" ( â¨±   )   =>  DeFaulT    )  NaTurAL JOiN  ï¼ˆ â¨± )  AS oF PerIod fOR "ð©‚¤" ( deFaulT  SAmPle  @ "ð§©¡" @ :3       )   .  _ï³·  @ "" . Ò¨     beTWeen    pIVoT ï¼ˆ â¨±  ï¼Œ CuBE  @ AftER  @ ""   =>  â¨± AS ""     fOr ( "" @ :_à®®  @ DATABAsE   ï¼ˆ DISTiNCt ï¼‰   ï¼ˆ + ï¼‰  ï¼Œ gLOBaLlY  ï¼ˆ DefAuLt    ï¼‰   ( ALl ï¼‰     ï¼‰    in ï¼ˆ ï¼ˆ â¨± :65     , ""  =>  DefaulT    )    )   ï¼‰          WherE â¨±  cONNEcT bY â¨±  StarT wIth â¨±  gRoup BY ( â¨±   ï¼‰   ï¼Œ GRoupIng Sets ï¼ˆ ( â¨± ï¼‰    ï¼‰         IntErsecT  SelEcT aLL :5  ( DEFaULT  As "ð ª·" @ ""      )   =>  â¨± "" @ "à¾’"       Into auTO  @ :Ý   ( DistiNCt )   ( + )  ï¼Œ "" @ EdiTiONinG       FROM Json_tAblE ( â¨± ï¼Œ "" @ ""   .  MaSTER     COlumnS ( :87   .  #3    oPAqUE FIxEd ( "" @ :7  . :#    =>  â¨±   )  USing LibRary ATtrIbUTes  ï¼ˆ uNIqUE ï¼‰   .  *  ï¼ˆ + )    EXISts paTh "ðª‰›" @ "" . "ð ¦»"     eRRoR On  eMPtY    ï¼‰  ï¼‰  uNPiVOt iNCLude NuLlS ( "áº·" ( aLL ï¼‰     FOR ï¼ˆ "ð¬²”"  ï¼ˆ + )   ï¼‰    In ( tAbLeS  @ vArrAy  @ ""   ï¼ˆ "ð§…½" @ "ð¬Ÿ‘" @ Ä¸6    =>  â¨±   ï¼‰      , "" @ ""  ( DEfAULt  As "ðªŒ²" @ Unlock  @ ""      ï¼‰   ( + ï¼‰    ï¼‰   ï¼‰      PartITioN by ï¼ˆ â¨±   ï¼‰   PIvot ï¼ˆ :9  ï¼ˆ UniQue ï¼‰   =>  DEFauLt  ""     For StatIsTICs  ( uNIQUE ï¼‰   ï¼ˆ :#   =>  DefAult  as vALIDATe     , :56   =>  â¨±   )   ( + )    in ( aNy   ï¼‰   )     ï¼Œ SUBtYpe    SuBpARtItiOn ( "" @ Partitions   ( aLL deFaULT   , â¨±   )   ï¼ˆ ï¼‰    )   cRosS jOIN  XmlTABlE ï¼ˆ trUe   PASSING â¨± "ð ª¢" @ "á˜´"        )   jOIN  _3  @ dUPlICated  @ :3      PArTitioN bY ï¼ˆ "" @ àµ™  . "á„Œ"   =>  DEfauLt  aS ""    ï¼Œ DeFAUlt    ï¼‰  JoiN  â¨±  USING ( "ð“°" ( ï¼‰   ( + ï¼‰  ï¼‰      cONNeCt BY NoCYclE â¨±  STArt WITH â¨±  grOup BY  (  )    )   )      HAVINg â¨±    OrDer by â¨± asc  nUlLS FIRst   , â¨± nULLs lASt     foR UPDatE OF  BulK  @ "" . "ð¥¸‹"     waIT iNTeRval '' minUtE  'ðŸ—¤'   )   To MInUTE      WiTh reaD ONLY    )  cyClE "" @ "" . ""   .  MINExTeNTs   alL ScalE  @ :1    =>  dEFaULt    )     Set ""    To dATe ''    deFAUlT falSE      , oBJeCt  @ "ð¢¡³"     "w"   +   , ï»ï¾º   alL â¨± :1  @ :35          .  "ð«²" @ "á¸"    +      As  WITH "ð‘ª" @ "ð§€‰"   .  VarchAr2    aS  â¨±     sEleCT aLL â¨± AS "ð¡ˆ¸"      frOm THe  â¨±   VERsIons BETwEEN TIMeStAmp  â¨± And â¨±    "ð¨„" @ :#      CRoSS jOin  JSOn_tABLe  â¨± FormAt Json errOR oN  ErRoR  Columns  nESTEd path :2  @ uNUsed  @ prESerVE      coLumns  partITiOns    FoRMaT Json PaTh $.0   eRror ON  eMptY        ï¼‰     pArtiTIon by  ""  UNiQuE    =>  dEfAUlT  "ð–¹Œ"           WHEre â¨±    uNioN AlL   â¨±      seARCH BreADTh FIRst bY â¨± dEsc    seT :ã‚à­´  @ "ð¡§¹"   .  :âºº  @ "ð¨’©" @ inValIDATe       CycLE sYstEM  @ :42  @ :44        +    sET ""    TO .1d    DeFAuLT 0.6E+5d        SeleCT UNIQUe "ð¥¢Ÿ" @ "ðƒ‘" @ "ð§¬¾"   _3   =>  â¨± AS kEy     , DefauLT       =>  â¨± :38  @ "" . SHARD        iNto ""  disTincT       FrOm  â¨±   As oF sCn  â¨±       NATuRal rigHT  Join    â¨±   piVot xmL  deFault   , LOcal  @ unliMitEd  @ ""   =>  â¨±   for  :7  @ :â¶¨     , ""  deFaUlt  "" @ RepLaCe  @ "ð–«‘"     ï¼Œ ""  :9  @ "ð “„" . :_    =>  â¨±  , DEMAnd   ALl    =>  DeFAULt  as ""        =>  defaULt        +        IN  â¨±        vERsIonS BetWEEn TImeStAMP  â¨± AnD â¨±    aS "" @ "â¬" @ MaXtRAns      crosS JOIN  â¨±  UnpIVOT exClUDE nULLS   daTE  @ #Ý©     all "êª" @ "ð¥¶¥"   =>  â¨± AS áŸ‚              fOr  ""   +   ï¼Œ :2  @ á¾§3  @ "ð¦«¾"       dIStiNct          in  oID      .  *   +    As  fALSe        ï¼Œ  rAW  @ "ð¨½" . ""   .  ""  DEfaULt        +                 PiVOT  â¨± ""     FOr  "ð«†ª"        IN  â¨±          pArTiTiOn BY  "" @ :9    defAUlt   ï¼Œ "" @ compuTATION    =>  â¨±      =>  DEFAUlt  Temporary          UnPIVOt INCluDe nulls   "ð§²‘"  DiSTInct â¨± aS :ï½¼â»–  @ "ðª¾©" . _6               FOR :33  @ SoRt    UNiqUE     DiStinCT â¨±       +     In   inNeR    ï¼Œ "ð«œ§" @ "ð¤²¯" . "ð©¯±"   .  *   +       as 8     ,  kEep_dUpliCatEs  @ "ð¦¡¯" . ""    ALL deFauLt  aS :_#  @ :40           ï¼Œ Max           AS ''               WHerE â¨±  cONnEcT by â¨±    MinuS  SElECT uNIque "á›"     =>  DEfauLT  "á¸" @ "ð „½" . :35      ï¼Œ "ð§¹¾"  UNiQUE    =>  â¨± as LeadiNg       FroM TAblE  â¨±    paRTitIOn BY  TRaNSlate  @ suSpeND  . :9    DeFAulT       =>  â¨± as "ð«·" @ "â²ž" @ ""     ï¼Œ ""  =>  dEFAuLT       UNpIVot EXcludE nulLs  Ã®   â¨±  , defauLt       .  *   +    FoR "" @ :38     ALL     +     iN  "ð¨‡”" @ CHAr  @ FIlESySTem_liKe_logGing               ï¼Œ  XMLtABlE  xMLnAMespaces  dEFAuLt TIMeSTAMP ''     , dATE ''   COLumnS â¨± FOR ORdINAlity     VersIOns peRIOd fOr :_  @ ""    â¨±  â¨± AnD â¨±   unpIvOt   :63   ALl locAl  @ :3    =>  â¨± ""    ï¼Œ ""     =>  â¨± "" @ :_               +   ï¼Œ syNONym  @ ""   aLL    .  JAVa        foR "ð£´£"   +     IN   "" @ "ð Š¾"   DiSTInct dEFaUlt        +   ï¼Œ :á¸„        AS  u''''   , INterval '''' hoUr  NQ'|ð—§°|'      TO HOUR                  pArtiTION By  deFAuLT       PIvOt  "ð—‡¥" @ HeAp  . "ð¦µª"   deFAulT   ï¼Œ :11   â¨± As SuppLemEnTaL     , "ð˜¤‘" @ â¾²    =>  â¨±      =>  â¨± ""        =>  dEFaULT    FOr  "ð®¥“"  .  *   +   , :77  @ "ð®…†"       dIsTiNCt          In  aNy   , â¨±                hAviNg â¨±  GroUP by    â¨± , â¨±       , rollup  â¨±  , â¨±               WItH cHecK optION  cONSTrAiNT StaTeMent        INTeRSecT   sELEct DEFAULt  As NExT  @ "ð¥„" @ SUBPaRtITions        BUlk coLleCT InTO "ð’Ž‘" @ #  @ ""      .  #ãƒ¼  @ "" @ editioning    AlL dAtE      =>  â¨± ""         +     fROm  â¨±   pIvoT xml  â¨± "ð©Šµ" @ :24      ï¼Œ dEfAulT    foR "ð§–‰"     IN   "ð«" @ LImiT  @ PctINCrEase    =>  â¨±  , ""  deFAulT  As :#  @ "ð˜“¢"     ï¼Œ "ð¢’£" @ "ð¯§"   aLl DEfAulT  :9     ï¼Œ :ï³ƒ  @ sEts  . ""   =>  â¨±      =>  â¨± AS AnysCHeMa         =>  DeFault       aS "ðŸ£" @ "" @ "ð¤»³"     ,  "ð«…›" @ ""   =>  dEFAUlt  ÛŸ     , :6   =>  â¨± As :5  @ KEy                    parTITioN by  â¨±  , dEfAULT      InNer Join  "ð©Ž€" @ ERROr  . _     sAmpLE bLoCK  â¨±   SEEd  â¨±        PiVoT xml  :58  @ ""   =>  â¨± "ð“ "    , defAULT    foR "ð§¿Ž"  dIstINCt DEFAUlt        All     +     In  â¨±         , xMLTabLe  XMLnAMesPAcEs    , 'ð“ƒ'   COLUmns â¨± fOr ORdiNaLItY     VeRSIonS periOd foR "â"  dIstInct TabLeS  @ :7    =>  â¨± dEfINer              +   BeTWeEN  â¨± AnD â¨±   piVot  dEFault  aS "" @ "" @ :Ø¼Ó†       fOr  RANge       ï¼Œ ""  DIsTiNCt cOlleCt  @ ""      =>  â¨±  , :9   =>  â¨±      .  *   +        iN  Any   ï¼Œ ANy           as rOwTYpe     FulL  joiN   â¨±   AS "" @ ã¼       on â¨±     Where â¨±  STaRT wiTh â¨±  coNnEcT bY NoCYcLe â¨±  HaVING â¨±    fOR uPdaTe NowaiT      oRder bY â¨± nullS lASt   ï¼Œ â¨± dEsc           WItH noSCAle  @ "ð¡¡"     :_7  @ brEADth    .  "ð­¸™" @ sUspENd  @ "ð¥¼½"   UNIque "ð¢˜‘"     =>  dEFaULT        , "ð¡‚ "      aS  sELECt DisTinCt deFAULt  As ""    ï¼Œ â¨± as :21  @ :#  @ ""       INTO DeFERRaBlE  @ ""    +   , ""  DiSTinCT     uNiQuE "" @ "ð­°³" @ :60    =>  â¨± "ð™“"    ï¼Œ :à²²   =>  deFaulT          FrOM  taBLE  â¨±   UnpIvoT excLuDe NuLlS   NomInvAluE   "" @ loGoff    diStInct â¨±  ï¼Œ DEfAult       =>  â¨± :11  @ fiNAl  @ ""     ï¼Œ DEfaUlt  as "ð–§•"         +   , hIgH  @ "ð­º›" @ reads             FOr _#  @ ""   â¨±       +     IN  :60  @ :2           , ""   +            as of Scn  ""  diSTinCT Ý¯   =>  â¨± oiD         =>  defAulT  "" @ "" @ UNLiMiTed      ï¼Œ defAULT       As :8  @ aNYscheMa  @ ""     pArtiTion BY  "" @ "ð¢‘›"   all    =>  DEFaULT  aS "ê©£"           InnEr JoIN  tAbLe  â¨±   As Of PErIoD fOr "ð§¦Ÿ" @ buffEr_POoL  . ""    â¨±    uNpIVOT iNcLude NuLls   _   DIsTinCt     , OnlY    +       foR  #   â¨±  , DEFaULt  As NOEXtEND  @ "ð¦¯‰" . :4                in  "" @ raW    "ð£š˜" @ :6    =>  dEfAult       .  *    AS TiMEstAMp ''''      ,  "ð£Ÿ«" @ ""    UnIQuE     +   , NomAXValUE   .  aLLow  @ "ð£‡œ" . :â»°    unIqUE     +       as  dATe ''                 pArtiTioN by  â¨± ""       rIght  JOiN  XmLtAbLe  XmLnAMeSPacEs  ""  "ð©½" @ :áŒ¡  @ ""   =>  â¨±  , â¨±      =>  â¨± as :84  @ ""      dEfAUlt falsE     , Nq'**'   passInG by VaLue CoUNt   Unique dEFaULT  As ""    , dEFAUlT       =>  dEfAuLt   ï¼Œ :71  @ D       =>  â¨± AS ""      COluMNS â¨± foR orDINAlItY      PArTitIOn by  "" @ "ð‘©–" . VAliDaTE    =>  â¨±  , DefaulT  FasT  @ SuBMuLtisEt  @ lEvEls          on â¨±   On â¨±   PiVot xmL  "âŽŠ"  ALl    =>  defAult  ""    ï¼Œ â¨±   For ""     in  â¨±            iNtERSECT   â¨±   fOr UpdaTe  ORder By â¨± nUlLs laSt     wITh CheCk oPtIon  cONStraInT :#  @ authId    â¨±  , DeFauLT  "ð¯¦—" @ ""              Cycle ""  .  *   +    seT :70     tO U''''    DEFAuLT 0x      ï¼Œ _9  @ "" . ""   .  HEaP    AS   â¨±   wiTH rEAD ONLy      sEARCH Depth fIRsT by â¨± nulLS fIrst    sEt ""  .  "ðŸš" @ :1       cYCLe ArRAY  @ ""   .  *   +   , ï°°   all ""     =>  â¨±  ï¼Œ :5  @ ""   =>  DEFaulT  HoUR          +    sET "ð¢¤§" @ :59    .  grOupIng  @ :50      TO 3.f    DefaulT inTerVAl '' mINute         WitH "" @ "ð¬‚" @ "ð ½„"   .  both     "ð¤›"  DiStiNcT     ï¼Œ :#Ã°  @ _    "" @ ""   =>  DEfAUlT  as "ð©·‚" @ ouTER  . IdENtiFIEr           +      AS  â¨±   SeArCh DePTh fiRSt by â¨± desc   , â¨± dEsC    SET :ï¿•   .  chArACter        sEleCT â¨±  , ORGANizaTION  @ CAlL  @ "ð§™°"   =>  â¨± As "ðª˜Ž" @ "" . "ð—˜¯"       bulk cOlLEct INTo "ð˜²"   +   , :78   dISTINcT defauLt   , deFAULt  :9  @ "ð©™‘"          DIStiNCt       FRom ""   UNpIVoT   ""          FoR  coMPleTE  @ ï»¹  . :Õ³     "ê ˜"  =>  DefaULt   , :1  @ ""   â¨±  , â¨± AS TimEzoNe_ABbR         =>  DEfaULT        , "" @ "" . "ð¨Œµ"   UnIqUE          IN  RelY    UniQuE     +               uNpIVoT eXClUDE nuLLs  "ð£¥"  SUsPenD  @ ""   =>  â¨± as "" @ ï°˜7  @ UnloCK      ï¼Œ "ð¤‘£"  UnIQUe â¨± OvErRIding  @ :1          =>  dEfauLt         FoR  :#  @ ""        +        iN   "ð©ª’"  .  vAlue  @ :88    DiSTiNCt deFAUlT   , "ð¬ "     =>  â¨± as "Ñ´"             As  INteRvAl '''' sECONd  0F        ï¼Œ Q'/ð§¦¬/'        , jSon_TAbLe  @ pAsswoRD     +              CoNNecT BY â¨±  sTArt wItH â¨±  GrOUp By GroupiNg seTs  ROllUp   â¨± ï¼Œ â¨±         ï¼Œ RoLLup   â¨±    ï¼Œ â¨±            ï¼Œ           UniOn  seLecT DefauLT  :96  @ "ð­¶»" @ "ð£–´"       INto ""   , :_à¸™  @ :29    UniQuE sizE      =>  â¨±       +     from "ð§¡·"  .  rowdePenDENCieS    saMPLe  â¨±     CRoSS joiN   "ðª’£" @ ÒœáŠ¬  . cuRRent_UsER     subpaRTitIoN  "" @ "" @ "ð›‡¾"    +     pIvoT XmL  DeFAuLt    For  ""  DistINCT     , :_  @ "ð¤Ž¯"    +        iN  â¨±  :50  @ "ð«²•" @ NosHaRD      ï¼Œ anY            pARtItiOn By  "ð©›³"  All áž’  @ cyClE    =>  â¨±      =>  DEFauLt  AS ""       NaTUrAL INneR joIn  â¨±     pArtiTIOn by  bUlK_eXCeptiONs   =>  â¨±  ï¼Œ â¨± as "" @ :60             wherE â¨±  STaRt WITh â¨±  cOnnECt by Nocycle â¨±  groUP by        ,  â¨± ï¼Œ â¨±       ,  â¨±            HavINg â¨±    foR upDate OF  "" @ ""   DiStIncT defAuLT        +        inteRSect   witH jSoN    As  â¨±    , "ð‘ˆ“" @ :#à®‰  . oUt      :4  @ "ð—½ƒ" @ ""   .  ""      , :_    "" @ MaxsIze  . mAPpInG       =>  â¨± Close     , eLSiF   =>  defAULT  aS "ð ƒŒ" @ "ð­¨•"             AS  â¨±   sEArCh dEPth fIrsT BY â¨± NUlls fIrST   ï¼Œ â¨± Asc    Set :4      cyCLE "áŽ" @ #8    ALl    .  :65  @ :1    All â¨±  , DefAuLt  tRiM          +    sET "ð¨œ¬"  .  "ð©—˜"    tO tIMesTamp 'ð¨ƒ±'    dEFAULt NQ'__'        â¨±   For UpDAte  ORDER bY â¨±  , â¨± Asc  nUllS last     wITh CHecK OpTION  CoNstrAinT "ðŸ€•"       orDeR SIBLiNGs By â¨± AsC  nUlLS LAST     witH Read ONlY         aT tIME ZONE dbTIMEzoNE      mod  CONNecT_BY_RoOT â¨±   mULTISET UNiON All  cONNeCt_by_ROoT â¨±    ** ""   +    MUlTIsEt unIoN all  nUlL  At lOCAL         NOt  BETweEN  ?  aT tIme zONE â¨±    mULtiseT eXCept   sElECT dEfAulT  StrINg  @ "" . "á¯¼"       FRom JSoN_tabLE  â¨± FoRmAT json ï¼Œ "ð¥‡˜" @ ""   .  :2  @ "ð—ƒ™"     cOLUmNs  "ð ¸«"   FoR orDINAlItY   , bulK_ExCEptiOnS   .  "ð§—„" @ à¶¶3     NaTioNaL charAcTEr VARyinG  EXcePTiOn_Init  @ "â–œ" . á¿½       =>  DefAuLt        ChaRActer seT â¨± % ChARSET           pIVoT  â¨± AS wAit  @ "" @ "ðª™"      FOR  "ð¤ƒ«"  â¨±  ï¼Œ "" @ :32       =>  â¨± "ð©½¸"        .  *   ï¼Œ :àª“à¤Ž  @ á¾Š0    .  jSon_TABLE  @ ""   UNiquE iNVaLIdATE   =>  DefauLT             In  WITh jOiN   .  "ð‘€" @ ERRORs      ""       +      As  SEleCT aLl "" @ ""   =>  â¨±    fRoM JSon_TaBlE  â¨± fOrmat JSon COlUmnS  :20  @ :_     CHaRAcTeR  â¨± CHAr     ChARActER SeT â¨±    TRuncatE forMat JSoN WithOut arRAY WraPpeR         pArtitION bY  DeFaulT      JOIN   â¨±   "ð£©"    CROSs JoIN  â¨±  USIng  :5   DiStINCT â¨± AS SYnoNYm             unPiVOT incLude nuLLs  "ð¢•›" @ "ð­€"    +    FoR TIMEstAMp  @ "ð‘ƒ’"   all    .  *     iN  AUthiD        as  $.8                COnNeCT By â¨±  gROuP by â¨±        OrdER bY â¨± nulLs last     FOR UPDaTe oF  ""    skIp lockEd        sElecT aLL "ð¨’™" @ :2    diSTinCT    =>  DEFauLt  :2  @ :_        INTo SUppLeMenTAl    +     FROm   â¨±   OrDer sIblInGs BY â¨±       as Of pEriOD FOR MINvALUe    "ð­Š´" @ "ð¬‰†"   UNIqUe â¨± "ð¨°®" @ :#          =>  defAUlT        +   bETWeEn      PaRtItiON BY  ""  =>  deFAUlt      nAturAL iNNEr JOIN  THE  wITH "ð”””" @ :#Ñ¸     as  â¨±      â¨±      Pivot  â¨± AS SEcurEFile      For wRapPEd  @ :84    uNIQue       iN  â¨±  aS #ã‡¶            veRsiONs BETWEEn scn  â¨± ANd â¨±    "ð”‘ƒ" @ ""     nATurAL JoIN  â¨±   PIVOt  DeFauLt  AS ""     FOr  mateRiAlizEd  @ :3          In  ANY            WhErE â¨±  hAViNG â¨±  grOuP BY gROupINg SeTs   â¨±              WITh CHECK OPtioN  COnStRAiNt "ð«–Ž"  using   =>  â¨±                     WheRE â¨±  sTArT WIth â¨±  coNNECt By NOCYClE â¨±    oRDeR SIBlINgS by â¨±    foR uPdAte Of  "á´‚"  "â˜¥" @ ""   UNIQue DEFaUlT  "ð¡¨¥" @ ""         =>  â¨±       +    noWAiT   with reAd ONLy      AT Time zoNe DBTImeZOnE     ** tREAt  â¨± as :á‚†  @ "ð”“‚"       . RebuILd  @ prECEdInG    unIQUE     dEFaULt        +           anD  ExTrACT  tIMezoNE_RegiON FROm â¨±    aT loCAl     ** XMlcaST  mUltiSEt  SELeCT "ð“„¾" @ "ð¡º"   =>  â¨± aS :7       frOM  WItH NchaR_cS    as   â¨±      Search dEPTH FiRSt By â¨± Asc  nUlls LAsT    Set "" @ á°$       cYCLE GRouPINg  @ LIKec      sEt "ð£¤š"    to ''    defaUlT DaTe 'ð¨¯¢'       sELECT ""  =>  â¨±    bulK cOllect Into :9   DistInCt    .  *     fROM  SElEcT UnIQuE "ð¢€·" @ ""      =>  dEFaulT  aS INclUdE  @ _        bUlK COllECT IntO "ð«—–"  â¨± "ð’‚´" @ :88          .  NomInValue  @ "ð‘°š"    +     FrOm â¨± rIgHT OUter  join  â¨±  uNpIVOT   nONEDitIOnABlE  @ "ð¬¾•"    diStiNCt     +       FOR "ð¤šŒ"   â¨±       +     in  :13  @ :à«±ã…       .  *              cONNECt BY NOcycLE â¨±    FOr uPDAte SkIp loCkED   WITh ChEck oPtion  ConsTrAiNT nOEXTeNd         jOIn  THe  wITH "ð“€¹"   aS  â¨±   cYclE SharDed   alL ""  =>  DefAUlT        UniqUE      SeT :52     tO INTErval '' hOuR  .7d   , 0XA         dEfaUlt FalSe        â¨±   oRder bY â¨± nUlls LaST        aS áŠµ$  @ :_      partITioN by  DEfAulT  ï½´         usiNG  "ð¦ž„" @ "ð¡¾´"   all "" @ WraPPEr    =>  â¨± AS "" @ "ð¯§"         .  ""  uniqUe False   =>  DEfaULT        +        where â¨±  CoNNEct by â¨±  sTarT with â¨±  hAviNG â¨±    WitH rEAD ONly  CONSTRaiNT :4  @ ""           UnpIVOt   "ð¤±Ÿ"     .  iSolATiOn  @ "âžŠ"    +       fOr :5   unIqUe       In   rebuild    â¨± inClUdInG          +               As oF TIMeSTAMP  deFAuLt         unpIVoT eXClUDe nULlS   "ð­³¿" @ "ãŒ²"   .  *   +       FOR  "ð¤§" @ #    AlL          iN  :2  @ EXcePT    ALL "ð§‹ƒ"  =>  deFAUlT  "" @ ""          +    as n''               sTArt wITH â¨±  conNECt By â¨±  GRoUp By         havINg â¨±    fOR UpdaTe  ORDer BY â¨± aSc        As OpAqUe FIxeD    USiNg LiBraRY "ð¥°½"  :3  @ pIpE    =>  â¨±           aT TiME zONE SesSionTIMEzonE                              UsING Char_cs              COLumns  :_  @ InDIcaTOR     InTeRVAl     "ð«‚”" @ "ð‘¸"    +   tO  :14   all       TRUNCATe       VeRSiOnS PerIoD fOR :á‡º   LOB   =>  NOt  Default  aS "ð–§"       ovERlaPs  *   is Of typE  onLy seTs                       aS "ð«´Š" @ :7           eXiSTs    with EXPire     "" @ "ð«•²"    DisTIncT        aS  witH "" @ "ð§•‰"     â¼Šá¿¯   dIsTInCt DeFAulT  as WheN          +      aS  â¨±   SEArch BReADTH fiRSt By Not  noT   DeFAULt      iN    rEFeRENces  @ :37    DeFauLT       =>  â¨±             diSaSsOCiATE  @ :#         oVeRLAPs  "ã‚¨" @ "ð¨®¼"   =>  + pRIoR XmLAGg  â¨±   at lOCaL      aT locAL         iS NOt eMpTY                   ASC  NULls FIrsT    SEt ""       seleCt "ó „œ"  =>  default  aS "" @ ""       Into "" @ :27    nOt *   IS  nOT  naN             .  *     fROm jsOn_taBLe  eXiStS   â¨±        , ''''    columns  "ð ™¢" @ "ð«§š"    tIME   RanGE *   in  dECode  CURrENT Of  "ð¬š¨"      All     +            ** ChAR  @ OvERRidING     witHiN gROUp  orDeR SibliNgs bY NOT *   < =  sOme   â¨±             oVEr                 ..  noT EXISts   â¨±           TruNCatE PAtH Ü–           vErSIONS BETWeen TIMestAMP  NuLL  AT tImE ZOne sESsIOntimezONE     ** EXTRaCT  Month FroM DAte  CURReNT oF  "ð¢¦"  ALl    .  :Õµ   ALl noT :7  @ "ã¦"    +   kEeP  dENsE_RaNk lasT ORDEr SibLiNGS by â¨± nulLs lAsT       over  OrdeR by â¨± aSc  Nulls fiRst     range cUrreNt RoW       At timE zonE eXTrAcTvALuE  "ð¤¼¢"     =>  DefaULt    ï¼Œ *               iS  Nan        "ð‘ˆ»"                       AnD *     UnpIVot EXclude nuLls  "Û›" @ eDItIOns     +    fOr  enCRyPt  @ ChaRACTeR    .  *        IN   "" @ "ð¦Ž˜"   :Ã•   =>  DEFAuLT  tiMeZoNe_hoUR          unIqUE     +       aS  inTeRVal '''' YEAr  To yEar                  parTitIon by  "" @ :2    =>  ExISTS   â¨±        :69  @ "á¡²"           wHerE noT rIgHT  @ ""   NOT  â¨±   aT tImE ZOne DbtimEzOne     ** NUlL                   +         bETwEEn  DECode  CUrRENt OF  #   .  "" @ "ð›ƒ¨"   ALl     +          aT LocAl     **  Not *   IS NOt of tYpe  "á•›" @ ageNT              at lOcaL         aNd  sYS_cOnNecT_By_pATH  ""  UniQuE    =>  deFaULT         ** 0x3   AT locAL               sTArt wiTh CuRreNT of  LEfT    aLL deFAulT  "à²¬" @ :à®’                 coNnEcT BY NocyClE noT *   noT  bETwEeN  *   and  *         gRoUP BY                   oRdER sIblINgs bY not CUrReNt Of  "ð«š²"  DepTH  @ eXtERNAlly    =>  cAST  mUltISet  â¨±   As REF "ð«˜‘" @ "ð˜®"   disTiNCt    .  *   +    % RoWtypE      at TiME zONE SEsSiOntiMEZone         NOT  LiKEc  *        aS ""         Not  DEFAULT      OveRLAPs  "ð «º"  =>  deFaUlt  aS :35                             wiTH CHEck OPtION      seArCh breADtH FirsT By *   ^ =  aLl     :6      =>  exISTS   wITH "" @ "ð¢ƒ"    as  â¨±      â¨±   For UPdAtE SKip LOCKED   orDEr BY â¨± asC  nUllS fiRsT     wiTh CheCk oPTioN  CoNSTraiNT #$                            set WrAppeD      cYClE :53  @ skip    ALl     UNIQUE "" @ "ð©©"   =>  NoT cUrSOr  seLecT ALl dEFaUlt     BUlK COLLect into _         fRoM xmlTaBle  6  paSsing DeFauLt  aS lIkeC  @ :86            ParTiTIOn bY  ""  =>  DEFauLt  BinAry        Inner JOin   xMLTABLE  XmLnAmESpaCEs  nOt exISTs   â¨±        aS âº™  @ :4         ï¼Œ FAlsE   PaSsinG By vaLUe :á…  @ "ð¢«œ"   defAulT       =>  deFaULt     cOluMns   ""  =>  â¨± AS ""       Not  iN   â¨±          TRue  ï¼Œ tRue        as FINaL     crOSS JoIn  â¨±    as Of sCn  nOT XMLqUeRY  "" @ ONlY    loBS  @ _    =>  â¨± "" @ ""          % BUlK_EXCEPtiONs . COunT   At Time zOnE DBtimEZOne         PASsinG  â¨±    ** ?        as "" @ ""      reTurnInG contenT          is  nuLL              PArtiTiOn by  noTFOUND   =>  dEfault      INnEr JOIN  "" @ ""     pArtITIon by  *   is NOT emPTY        :8  @ shard         natURAl joIn  â¨±   Using  "" @ ""   All     dISTiNCt dEfaulT        +      pIVOt XmL  deFaULT  "" @ ""      fOr ï½¼ã‡¡  @ DEleTE    All LoNG      =>   dEfaulT      OverLaPs  â¨± As ""                   .  :_   ""  =>  DEfaulT  As #6  @ grOUpInG             IN  â¨±               AT loCAl     ** cASe CUrREnT Of  ROwDEpEndEncIes  @ ""   .  ""  UNIQUE     +         end        is oF  ""                 +    Set ""    tO NQ'â€¡â€¡'    deFaUlT 0X        with :6  @ cHarset     As  â¨±   cYcLE "" @ :1     +    SEt FrEeLIsT     to tIMeSTamp ''    dEfAult ''       sElEcT dIstInCT BasicFILE   unIQUe    =>  NoT *   like4  *   eScape NoT eXIStS   â¨±              ïº‚à§²  @ :8        frOM JSon_TaBLE  TREAT  NoT CURReNt OF  "" @ ""    +        as ""      . ""  :9  @ ""      =>  deFAUlT        +       ** xmlAgg  exisTS   â¨±        oRdEr by ""  all    .  *   KeEp  DEnsE_raNK FIRst OrdeR SIBlInGS by â¨± aSc       oVer  PARTITiOn bY ""  =>  â¨± "" @ ""          at lOcAl         in   â¨±        Asc  nUlLS fIrST       aT TIMe ZonE connEcT_by_rOOT TrANslAtE  nOt *        USIng Nchar_CS     aT TIMe ZONe trIm    defaulT      ~ =   â¨±                            cOLUMNs  nEstED    COLUMnS  ""   ExiSTS            RigHT  JOiN   Table  NoT cHr  *   NoT  In    â¨± As salT  @ :á¹‡Ðº              USINg nChaR_Cs   at LOCAL         Is NOt OF TyPe  OnlY ""              CrOsS JOIN  â¨±  piVot XML  DEfaULT    for pCtTHRESHoLD  @ ""    :7  @ ""   DistINcT "" @ AcCOunT    dIStINCt nOt eXisTS   â¨±        FAlse  @ ""         =>  DeFauLT       =>  XMLcAST  MULtiSET  â¨±   As tIMe     WiTH  timE  ""  =>  NoT   WITHouT   =>  dEFAULt  as :#        < >    exCepT  @ :_    =>  â¨± As ""               :8  @ ""         zONe        ** trIm  *   Is Not a set          At TIme zone ""  All     over  PARtItion By DefAuLt     ordeR bY not *   lIke4  CASt  â¨± as inTERval  UniquE defaULT       :4  @ uSe         +   To  ALL â¨±      "" @ à¹”       .  :7     % rOWtypE        ** NCHr  â¨±         EScAPe â¨±             At LoCAL            bETWEEN  New ""   all InValidatiOn  @ NEw       =>   deFauLt  AS SYNOnYm  @ ""        overLaps  :9   â¨±    =>  â¨± ""                    +    at LocaL         And  *        ""           iN  â¨±          AS OF PERiod fOr "" @ ""    CURRENt OF  ""  all DEfauLT  AS ""         +            BatCH  @ :_      paRTITIOn by  uNlOCk  @ ""   =>  nOt *   iS  noT  nUll            NatuRal jOIN  JSON_tAble  NOt *   >  AnY   defauLT           FORmat jSoN , :ïµ¬5  @ dIRECt_LOAD      cOLumNs  "" @ ARcHivE     tRuNcaTE foRmAt jSoN WiTh uNCONdITIONAl wraPPer  PatH "" @ ""           :7     PartiTion By  ""  =>  noT  lIKE4   =>  ExiStS   â¨±            OVeRLAPS  DEfAULT  :8                     oN NoT :2  @ ""   all    .  *   over                    WHErE CUrReNT of  "" @ cOMPleTe        diStInCt "" @ :Ã£9    =>  DEFaUlT  As "" @ ""          +         HAVInG NOt cUrRenT oF  MAXSIZE   DEFAulT  SeQUENCe         .  *         GROup BY EXIsts   â¨±               wIth cheCK opTION      FOr upDAtE oF  "" @ :5    .  _ï¾®     nOWait      ordeR By _7  @ ""       AlL     +   at tiME ZOne SeSsIONTimezONe     ** - TrANSLAtE  noT oBJEcT   â¨±       +   wIThIN grOup  Order SiBlIngs by â¨± NuLlS LasT       oVER     At TIme zOnE SEssiONtImEZone         BEtwEen  *   anD  *        UsinG cHAR_cS    AT tIME zoNE dBTimEzoNE         iS NOt OF  :_               fOR uPdaTe of  ""              *   aND cAse NOT XmLqUEry  *   passinG By vALuE 0X   At lOcAl           reTURniNg coNtENt      ** CurSOR   WITH sECOND  @ ""     "" @ ""   uniqUe    .  *      As   â¨±   wITh Read OnLy      sEARcH DePtH FIRST bY   :8   =>  xmLCAST  â¨± aS  fAlse  , tRUE        ** TreAT  â¨± aS "" @ IndexiNG               > =  coaLEsce  @ _     â¨± ""         % rowcOUNt  aT lOcal                  Not  IN   sELECt "" @ ""   ALL dEFault       =>  dEFaULt  as "" @ :5        IntO "" @ FuNCTioN        +     FrOm XmlTabLE  XmLNAMespaCEs  ""  diStiNct deFAUlt  AS ""        =>  cURREnt Of  :2    +          defAULt .ef     ï¼Œ inTeRVaL '' HOur  Q'``'   , N''      To dAY  daTe 'ð˜’'           Unpivot  "" @ ""        fOr  PaRenT    +        in   Ò„   uNIqUe         +       AS q'%%'             VErSiONs bEtwEeN scn  *   AND *       JOIN  JSON_Table  not   ""  =>  â¨±     =   DeFAulT  aS :4  @ attrIbute               forMAt jSOn CoLUmns  NoValidaTe    lONg    fORMAT JSon       verSiONs pEriod FOr GlOBaL  @ :6    .  BaTCH  @ ""   "" @ ""   DISTinCt DefAuLT       =>  *   iS  Not  iNfiNItE        as :Ñ­          +   bETween  case  eNd  at tIME zONe â¨±     ** DEcODe  â¨± nOt  in  â¨±               And ""  AlL hiGH   =>  DEFault        UnIQUE     keep  DeNsE_raNk LAST ORdER sIBliNgS By nOT  â¨± Ï¯  @ :1         overLAPS  DEfAULt  ""              DESC       over  ordeR by nOT â¨± NOT  LIKe2  â¨± eSCApe â¨±       dEsc     RAnge BEtWEEn NoT CurRENT oF  "" @ ""          PRecedIng  aNd unboundeD PreCEDIng       AT lOCal           UNPivOT inCLUDE NULLs  MovEMenT     foR "" @ ""   UNIQuE     +     iN   :_Ð·  @ :2    All     ""  =>  *   noT  lIKe  *   eSCApE â¨±       aS "" @ ""          +                 jOin   â¨±   pIVot XML  DeFaULT    FoR  "" @ PaRtITiON          iN  aNY              On noT EXtRACt  tIMEzONE_mInuTE FrOm daTE  â¨±      ** ""      +   oVeR  PartitION bY CycLe  @ SKIP    =>  DefaUlt              IS Of  OnlY "" @ ""                ConNECT by NOcyCle NoT CURrENt of  :_      .  cLOb   dISTINct â¨± :àµƒ          +         HavinG exIStS   â¨±           FOR uPDaTE OF  :Å  @ ""     SkiP lOCKed            dEsc  nulls FirSt    Set :2      cyClE iNDicAToR     sET ""    To $.   DeFAUlt e-d       seLeCT aLl ""  "" @ :5    =>  DefAUlT       =>  exTraCTvAluE  not â¨± is eMPTY        aS "" @ ""      ï¼Œ â¨±  ï¼Œ â¨±    AT TimE ZONE DbtimeZoNe     ** PrIor â¨±  at lOcAl         Is  iNFiniTE           BulK coLLECt iNTo vArcHAr2  @ iNDiCAtOr    DIsTinCT defaULt  AS _  @ ""            frOM "" @ :8     suBpARtItiON  "" @ rOW    noT exIsTS   WiTH usInG     ""  .  *   +      aS  â¨±     SElECt à¼¾  @ SavepOiNT    UNIqUE    =>    ""  =>  DEFaulT  RElATiONaL  @ ""        In   â¨±            bulK COlLeCT inTo ""  uNIqUE       fROm tHE  â¨±    pArtiTiOn by  exIStS   â¨±            CRosS jOIN  XMLtablE  XmLNAMeSPaces    ï¼Œ TRuE   pASsinG _  @ ""   =>  noT *           coluMnS nOt  "" @ ""   =>  DefauLt  "" @ ""        oVErlaps  DEFAult  :1               rEf ""      DEfAUlt        +    raNge *   Is nOt OF  Only ""           ..  not  â¨±         In    OVerriDINg  @ :2    =>  â¨±             PATH ''''       PIvOT  "" @ ""   uNiQUE eXiSTS   â¨±        as NoRowDepeNdeNcIES  @ dEMaND          =>  nOt :1  @ ""       DisTINcT DEfAUlt  _6  @ :3           +   % IsOPEn        bETweeN  *   and  XmlaGg  â¨± OrdER by â¨± dEsC  nulLs LAst       at LOcal     ** ""      UNiQUe     within GROuP  ordER BY â¨± AsC  nUlls firSt                     for  :à½         In  â¨±        As oF SCN  ""  =>  cuRrENT of  mIN  @ ""    +              paRTiTioN bY  GlObALlY  @ :_Å·    default       =>  dEFaULt  aS ""         UnpIVoT  ""   +    For ""  nOT  serIALIZaBLe   disTinCt    =>  Default  as ""       oVERlAPS  â¨±                    In   PROfIle  @ :6     +                 StART wiTH *   Is A sEt         COnNect bY cuRREnt of  rewrite            OrDeR sIBLinGS By NOT ExIstS   â¨±           For UPDate NOwAit   wiTH CHecK oPTiON  coNStRAinT "" @ ""   UniQuE default  "" @ fOund                         .  *       uNpiVoT inCluDe NULLS  "" @ :2     +    foR  :à»         iN  "" @ ""      .  *   +    As .d               sTART wITH *   ! =  ANY    â¨±   FoR uPdaTe of  intErvaL  @ dEAlLOcatE        ""  AlL :4   disTinCT    =>  Not *   in  "" @ _á¿´     keEp  dEnSE_Rank lAST ordeR bY â¨± NuLLS lAsT                    :9         =>  DefaUlt  "" @ ""          +     oRder siBLiNGS bY not *                    coNnECT bY NOcYcLe  NOT CUrRENt OF  "" @ _1    .  *   +            oVErlapS  membEr      =>  DEFaULt  As log                HaVING NoT EXIsTs   wITH :à¨›_    aS  â¨±   SeArCH bREADtH first BY ""  OBjeCt  @ ""   =>  â¨± "" @ ""          aT LOcaL     ** CHR  â¨± UsInG NchAr_cs   AT Time ZoNe dBtiMeZonE         Is  NOT  InfIniTE          SEt ""        â¨±   OrdEr bY cOnnEct_by_rOOT â¨±  At TIme ZONE DBTImEzonE         nOt  in   â¨±        dESc  nULls FIrst     For upDaTe  WItH reaD Only  ConstrAiNt UnlOCK   ALL :â¾¤   =>  xMLaGG  â¨±     ** noMOnIToRING  @ :5    .  ""   +   % roWcoUNt        ^ =  CaSt  MULtisET  â¨±   As CaSt   UNiQUE     raNge â¨± ..  â¨±      At LOCAL              as :4  @ ""                    grOUP BY  GRoUpING SETs   nOT exIsTS   wITH "" @ ""     "" @ lImIt    DEFault       .  "" @ ""       As  â¨±   CYClE ""  UniQUe FUNCtioN  @ #    =>  deFault        +    set :4  @ ""     To tRUE    default U'á‘¸'       SElECT defaULt  AS fReeLiSt       fRoM  â¨±    pARTItiOn by  Not *   likec  *            innEr JOIn  TablE  â¨±   AS of TIMESTAMp  à¾†ï»   @ IdeNtIfIER    =>  defaULt        partiTIon By  ExIsts   â¨±                WHerE NOT *   noT  BEtWEEN  ?    ** traNSLATe  â¨± usiNg nchar_Cs   at TiME zonE â¨±         anD  SyS_CONnECt_By_paTH       ** ExTraCt  MonTh fROM â¨±    AT LOCAl                 wItH reAD onLY                           For update oF  ""  uniQue     UNiquE  "" @ ""      =>  DefAuLt  aS :3        oveRlAPS  NOT CuRReNT Of  MatcHED    dISTINCT VeRsIONS  @ :6    =>  DeFAuLt  "" @ :á‹‹                aS "" @ ""                      WAIt ''        ORdER SIBlinGS BY *   In    dEfauLT  ""            DeSc  NULlS lAsT              sUBMULTiSET oF *          eLse nOt CUrrenT of  "" @ ""        +          eND  At tiMe zONE sesSiOntImEzonE           PIVoT  defAUlT  aS GROuping      foR  ""      +        in  sElecT aLl :_2   =>  ?  AT TIme zoNE DBTImEZonE         < >  + cURsOr   WITh opERATiOns     ""  :7  @ dEnSe_raNk    Unique    =>  DeFaulT       .  *   +      As  â¨±   sEaRcH BrEaDTH fiRST by nOt *   iS OF tYpE  conTInUe  @ Å®             desC    sET "" @ ""        SELeCT nOT   LOcaToR  @ ""   â¨±     =>  DeFAulT      nOT  in     â¨±             "" @ uncoNDitIONAl        into ""  .  "" @ ""   UNIque       FROm  ""   suBpArtItION  DeferrED    +     SAmpLE BLOcK  EXIsTs   â¨±           :9     parTItIon BY  #Þ‰   =>  not - â¨± AT LOCal     ** U''                  cROSS jOin  XmltABLE  TIMestAMp 'ðŽ…'      vErSIoNs BeTwEEN Scn  *   and *      as "" @ :à°_        PiVot xml  cURrEnt oF  "" @ synonYM    UnIQUe :3   â¨±    =>  DeFAulT        uNiQUe            For  "" @ ""         in   *   NOT  BEtWeeN  pRioR â¨±        and  ""   +   % NOtfoUNd  aT loCAl              "" @ BEgiNnING          AS :3               paRtiTiOn bY  *   IS  NuLl             unpIvOt exclUDe nuLLS  :1  @ ""   AlL #      =>  DefAUlT  AcCouNT  @ :_           uNIQUE :7   =>  DefAulT  DECOde           foR DeBUG  @ à½„0    .  ""      +     iN  ""   NoT eXIstS   â¨±                         cOnNEct BY   CHR  â¨± uSInG NchAR_cs     ** "" @ ""   dISTiNCt     % BULK_EXCEPTioNs  â¨±   . ERROR_IndeX         lIkEc  *   escapE â¨±       As "" @ ""        ! =   â¨±          StART WItH Not   DEfaUlT  AS ""       NOT  in   â¨±          gROuP bY    â¨±             hAviNG noT + â¨±       nOT membEr Of CasT  mULtISeT  â¨±   AS ref "" @ lOw    .  *   +       aT Time ZoNE â¨±     ** NULL  AT LOCaL                   WITh reAd OnLY      ORdeR SiBLINGs By not CuRRENT Of  primARY  @ ""   all          nUllS LasT     foR UpdAte  with ChEcK OpTion  COnstrAInt :5  @ ""           At LOCal      ** "" @ ""    aLl :3   "" @ rEsTRict_ReFErENCES    â¨±    =>  *   not  lIKE4  *             =>  dEfauLT        +   wIthiN gROup  oRder sIBlInGS By NoT CurRenT Of  NaTiOnAL   .  "" @ :#Ù©     +        aSC        at tIME ZOnE SEssIoNtimeZOnE                 froM  :2    SaMplE bLOCk  exIStS   selecT uNiQUe ?  AT Time ZONe EXTrACtvALUe  ConSTaNT      =>  dEFauLt  ENaBlE  @ timeZoNE_minUTe       ï¼Œ *           **   AT tiME zOnE DBTimEzonE              As ""      INTo ""   UNIque noT trIM    ÆšÙŸ  @ _    all    =>  DeFAULt  HIGh        > =   "" @ ""      =>  â¨± aS ""               aT LOCal         =  All   WIth "" @ ""     organiZAtIOn    +      aS  â¨±   seARcH dEpTh FiRsT by nOT New ""      ** XmLquERY  *   PaSSing BY VAlUe *   aS ""  DIStINct    .  *   +     retURNING cONtEnT          IS  nOT  NAn        nullS fiRST    seT "" @ :1          â¨±                 +     FROM â¨± paRTITioN by  DefaULt      FulL outEr  JoIN  â¨±    WhERe exTRACt  TImezone_abBr froM date  not eXISTS    â¨±   FOR upDATE OF  COmpAct  @ :5    â¨±        skiP LOCKEd   orDeR SIBlIngs bY â¨± NUlLS FiRST     wiTh cHEck oPtiON                    bEtwEen  *   and   nOT  ""  =>  defaulT  NOcACHE        OVERLAps  á‰­_  @ ""   =>  â¨± ""               at timE ZONe SEssIontiMEZoNe     **  PRIOR - â¨±         is Not of TYPE  :àª…             AT timE zONE sEssIOntiMezOne               cONnECt bY NocYClE nOt *   IS EMpTY         GroUp by roLLuP  CursoR  wITH INNER  @ ""    as  â¨±   cYclE "" @ ""   .  *    set "" @ ""     TO DATE ''    dEFAUlt q'??'       SELECt shrink   =>  dEFAUlt  aS :5  @ comPact        FrOm â¨±    wheRe nOT cURrENT of  :2  @ tRanSLATE    aLl DeFauLT        UNiQue           haVINg not eXisTS   â¨±         groUp bY   â¨±            oRDeR SIBLiNgs BY *   IS  NULl        ASc     WItH REAd oNlY  CONStrAInT "" @ :_     PrOFILE   UniquE deFaUlt       =>  â¨± aS ""       OVeRlaps  defAUlt             ""             at LoCal     ** :7        +   % BULK_rowCounT  noT SYs_conNEct_BY_patH  ""  =>  â¨±                           <  sOME   witH :á½Ÿ1  @ ""    AS  â¨±      â¨±                      fOR UpDaTe waIt 0X     orDer By curRENt Of  "" @ ""                      seEd  nOT *   NoT MembER oF *              PIVoT  noKEEp      =>  DeFaULT  aS ï¾      FoR  "" @ PErCeNtilE_dISc    uniQue NoT eXISTS   sELect uNiqUE :1  @ ""   disTiNct dEFauLt  "" @ ""         =>   WIth :7  @ lEss     AS  â¨±   SEaRch bReaDtH firsT By cURreNt Of  ""   +        NuLLs lASt    sET ""     CYcle SAvEpoint   .  FInAl  @ overrIdING    DIStINCt     +    SET "" @ #ê’¿      tO $.   DEFauLt datE ''        â¨±   FOR uPDAte sKip lOcKeD      aT LOCaL         iN   SElecT "" @ ""   â¨±    =>  DEfAUlT     bUlK CoLlect iNTO :2   .  "" @ ""      fRoM â¨± NatURAL FulL  JoIN  â¨±    wheRe   â¨±     in    ""  diSTiNCt    =>  â¨±              gROUp by gROuPinG SeTS              HaVing Not :#  @ ""    +   keep  dEnSe_RaNk Last ORdEr by â¨±         ** DecODe  â¨±   at TiMe ZOnE sessIOntiMezonE         noT  IN  *            ORder sIbLINgs bY + cAse â¨±  END   At loCaL     ** "" @ sTaTiC        At LOcal         iS of  Only ""              FoR updATE of  "" @ SIZe    uniQUe NoT CURrenT Of  "" @ ÙŠï°¸     diStInCt     +        :_  @ buiLd                sKIp lockED   WITh chEck oPtIoN           as iNVISibLe  @ :7        FrOM â¨± inNeR jOIn  â¨±  UNPIvOt inclUdE nULLS   :9   ""  =>  dEfauLt  AS :á¸·              foR PctusED       +     in  nOSORt    +    as  INTErVAl '''' HOur                  CoNNeCT bY eXtRacTValUe  cOUnt   =>  deFauLT    , *        ** tREAT  not   â¨±     < =   seleCt deFAuLt  ""      buLk cOlLECt intO "" @ ""      FrOM â¨± ParTition by  â¨±        stART WiTH â¨±  cOnNEct by â¨±    FoR UpDAtE Of  "" @ ""   ALl #   uniQue    =>  deFAulT          oRder By â¨± dESc  NuLlS laST              AS reF :5              nOt  betWeen  *   aNd  *           WiTH rEaD oNly  coNstRaInt DElETe                   +        In  wiTh "" @ ""    As  WiTh :7  @ :1      ""  .  *      AS  â¨±   sEaRch breadth First bY XMLQUeRY  NeW REaD  @ ""   "" @ ""      =>  cUrREnT Of  "" @ ""   .  *   +        aS search  @ :7            At TimE zONe XMLCAST  nOt â¨±           As  truE  , FaLsE               PaSSING *     REtuRNIng COnTenT    AT lOCAl     ** + tiMEsTAMp ''   AT timE Zone SYS_coNNecT_BY_PATh  DefaULT  aS ""                  LiKe4  *        DesC    SEt "" @ ""      cYClE ""  UnIQUe sCalE  @ :à¥®       =>  DefAUlT  eLsIf         .  _    +    SeT ""    to ''    defauLT u''        â¨±   For UPDaTE NOWAIT   wITH reAd oNly         seLeCT uniQUe ExiStS   â¨±        AUTo       bULk cOLlEct IntO THan  @ :4     all NoT  ""  =>  dEFaulT      oveRLAps  procEDURe  @ :á ¥       =>  dEFAuLT                     FrOm â¨±  pivOt XmL  dEFAUlT  :#  @ NOnE       FOr  ""  UniqUE     +        IN  *   IS Not Of  ONly "" @ ""                       WHere NOT xMlAGG  nOT *   ^ =  Xmlcast  mUlTISeT  â¨±   As DoUbLE PRECIsiON  aLl "" @ ""   =>  ExIStS   â¨±        aS ""        characteR seT not *   NoT  In    â¨±          % cHArSET                    AT loCAL     ** cONneCT_by_rOOT tRiM  NOT exIsTS   â¨±        FROM   Not XmlQUerY  â¨±      passiNG By vaLUe *     reTURniNg CoNteNt    AT TIME Zone dBTimEZoNE     ** NcHr  â¨±         MeMBER oF *              oveRLaPs  "" @ pCtUsEd    dIsTincT    =>  deFAULT  as :2  @ rAIse_APPlicatiOn_ErRor                  AT TImE ZoNe  cUrreNt of  ï¹”4    All defaULT  AS :9  @ ""          +         AT LOCal        AT TIMe Zone :5   forMAT   =>  exISTS   â¨±                  ovER  pArtITIoN By ""     =>  dEFaULT  as "" @ ""       OrDER SiblinGS by NOT   NOt error_code  @ MAXvALuE    alL â¨±       % FOuND        noT  bEtWeen  "" @ ""   #   =>  dEFAULt  ""        .  ""   withIN gRoUP  OrdER By â¨± aSc  nulLS LaST       oVEr  ordEr SIblINGS By â¨± nuLlS LasT          ** eXTRAct  cOlLEct  @ :_ÒŽ    DisTinCT    =>  â¨±   ï¼Œ *    , *            aNd  Case ELsE â¨±   ENd  At LocaL     ** trim  â¨±   aT locAl                  iN   â¨±         dESc     ROWs *   is  noT  nAn         follOwInG                      START with NOt curRENt oF  "" @ ""   .  CLoSe   AlL dEfAULT  :5  @ ""          +         conNeCt By NocyclE TransLAte    "" @ ""   =>  noT *   iS EMpty            ~ =   â¨±         uSIng cHAr_cS   AT tIme zOnE DBtImeZonE         Not  liKeC  PrIOr - caSt  nOT EXIStS   â¨±        AS opAQue fiXeD  All Û„á ¸      =>  deFaUlT  ""       UsIng lIbRarY "" @ :7        DIStiNCt     +          AT LoCal               HAvInG *   iS NOt OF TyPe  SUsPeND               OrDeR by Not CUrRENt of  fuNcTioN    DefAulT  as TrANsaCtioN  @ :á»–                nuLlS lAst        OrDer SibliNgs By + null  at timE ZoNe seSsiOntImeZONE    at LoCal         is  noT  iNFiniTE        NuLLs LASt     fOR uPdaTE wAiT nQ'++'     WItH rEAd OnLy             pArTiTIOn BY  *   lIkE  chr  ExtrAcT  yeAR frOM NOt  DEfaULt      OvErlApS  ""  =>  dEFAult                At tIme Zone dBTimezONE     ** SerIalIZABLe  @ UnuSABLe     uniQue     +         IS of  onlY :2            uSinG nchAr_Cs                  lefT  Join   SeLecT alL noT CurRENt oF  "" @ ""   _3   ""  =>  Not ExiSTS   wITh ""    "" @ ""       As  â¨±      â¨±   ordER SIbLIngS by cURRENt oF  ""     .  *   +        DeSc  NuLlS lAsT             "" @ MUltiSEt          =>  eXISTS   WITH :1  @ ""    aS  â¨±   searcH bReADTH firSt By *   > =  aNY     :4  @ auToNoMoUS_TRAnsACTion    =>  dEfaULt  aS "" @ à¦†                  asC    set ""        â¨±   WiTh cHeck OPtION  consTraiNt crOSS  @ ""   diSTInCt                    +        :_       iNTO ""  UNIque    .  denSE_Rank   NOT curSoR   â¨±        ** deCOdE  Not *   bEtweEn  *   AND  COnnEct_By_ROOt  nOT â¨±  ** â¨±      In   seLECt aLl DEFaULT     Into :5  @ ""    unique "" @ PaRTiTioN    Unique DEFAUlt  aS "" @ BiTMap          =>  â¨±         FrOm â¨±   ConNECt by NocycLE â¨±  STaRt wITh â¨±  gRouP bY rollUP   â¨±            HAviNG â¨±    fOr upDATE of  bulK  @ ""   .  *   +     wITH CheCk opTiON  CoNStRAINT :3              At time ZOnE dbTiMEZONe                  AT LOcAL              nOexTENd            fRoM â¨±   wHerE NOt  ï°¡  @ ""   =>  DefAUlt  as "" @ :3         oVERlaps  ""     .  *   +   % bUlK_roWCouNt  NOt EXIsTS   with ""    "" @ :__    â¨±       +      As  â¨±   seARch DEPTH fiRsT bY â¨±   sET buFfeR_poOL  @ ""      cyCLE #       ALL      sEt CHR     To 0X    defaUlt TimeSTamP 'ð­›¢'        â¨±   oRDEr By â¨± deSC  NULls lasT     fOr UPDatE OF  ""     WitH ChECK optION                 ** TransLatE  *   LikeC  *   EsCApE â¨±       usiNg nCHAr_Cs         iS A Set        iNVALIdatIoN                  For Update Skip loCked   oRDEr By *   iS  NUll              PIvOt  DefAULT    FOr  "" @ ""   .  "" @ :6    sECUREfile   =>    cONtaiNer   =>  ExiSTs   selECt "" @ áŸ•    UniquE â¨±     =>  DeFAUlt     FroM â¨± pIVot  DefauLt  AS "" @ ""      fOR "" @ ""    ALL       in   DeFAult  As :7                   staRT WItH nOT ?  at lOcAl     ** SyS_COnNect_by_PaTH  :_4   All    =>  â¨±      aT tIme ZoNE sessiOnTIMEzONE         in  tReAT  â¨± As "" @ TIMezoNe_hOur        . "" @ :4     +                  CoNNEcT by nOCYclE cONnect_BY_rooT - extRAcTValUe  ovERridInG   UNiqUe    =>  DeFAUlt  "" @ ""      ï¼Œ *      aT loCAl        ** xMlAGg  â¨± orDeR SiBlinGS BY â¨±      at TImE ZoNE SEssiontimezonE         iS  nAN         HaVInG noT cUrreNt of  "" @ ""   DIstINCt  @    =>  â¨±       +                       ~ =    DEFaUlT              aS "" @                iN  WITH     ""    =>  defaulT          .        +      aS  witH    aS  â¨±   cYCLE ""  UNiQUe      SeT ""    tO INtERvAl '''' DaY     dEFaULt DaTe ''       sELeCt noT ExiSts   â¨±           into "" @ ""    not *   BETwEEn  *   AND  Trim    not CUrrent oF    .  *   +         @         iN   DeFaulT                         as  @ ""            from â¨± UnpiVOT inclUdE nullS    @    .  *   +       for  "" @ ""         iN  "" @ ""   uNIqUE     +              where       =>  defAult   @ ""        OVErlaPS    =>  DEFaUlT              ConNecT by NOcyCLE not "" @    diStinct priOR  @    .  *   +   % BUlK_ExCeptIonS  *          . ErRor_COde   AT TIme zoNE â¨±       ** nEW ""  ""     =>  DEfaUlT        DISTInCT  @    =>  NOt cURrEnt OF  "" @ ""         aS "" @            aT tImE zoNe dBtImezoNE         not  LIkE  *   EsCApE nOT cURRenT oF  ""                     AS ""         DISTiNcT "" @ ""    +   wiThiN GroUp  ORDer SIBlIngs BY *   =  XmLCaST  â¨± AS   diStiNcT DeFAuLt            +   % TYPe      aT lOcaL              DEsC              iS nOT oF  "" @ ""                  +   keep  dENsE_RAnK FIrST ordEr bY     =>  NOT eXISts   â¨±        ""       Not  IN      alL defaUlT          =>  nOt *   NOT  BETWeEn  SYs_cONnECt_by_PaTh       ** ""  UniquE  @    All â¨± AS "" @ ""         =>  DEfAult       .     aT lOCaL         aND  *                    ASC  nUlls LasT       OvEr  PArTItIoN by DeFAuLt   @ ""                BEtWEeN  *   AnD  cuRSor  â¨±   aT TImE Zone DbTimezONe               StART wiTh NOt *   suBmulTiSET of Null    ** XmlAGG   "" @       =>  NoT cUrReNT OF  "" @ ""                 OVerlapS  dEfAult  As               ORDEr SibliNgS bY CaSe  End  aT LoCAl         is Of TYpE  oNlY ""           DESc                     gROUP BY  EXISTs   â¨±                  OrDER By noT currenT oF  ""  .  *   +        nulLs lasT     wITH REad oNly      sEArCh dePth firST BY noT *   NOT  In  exTRAcT  day FrOm *   IS Of TYPe  ""              AT LOcaL     ** CaST  *   < =   @     UNIQuE  @    NOt cURRent oF    .   @ ""   ALl               =>  deFAuLt  as          OVeR  OrDEr siBLinGS By connect_by_rOoT â¨±  At TiMe ZOne â¨±         >  *           RoWS betwEEn curRENt roW  and uNboUndEd FollOWiNG         ** nuLl  at tiME zONE sessIoNTiMEzoNe              As STrInG  nOt   ""  dIStiNcT    =>  Not *   < >  *         @ ""        <     @    =>  Exists   seLeCT   =>  â¨±    inTO "" @    DEfaUlT        +     from â¨±   WhERe â¨±    fOR uPdate OF  ""      DeFauLt                  as "" @ ""                cHaR        At loCAl                 SEt      cYcLE "" @     UNIQue DEFAULT   @ ""          +    sET "" @      tO faLse    deFAult INtERvAl '' HouR    ï¼Œ DaTe ''      to miNuTE         WITh    As  â¨±   SEARCH dEpTH FirSt BY   @    =>  XmlQuEry  TreAt  NOT *   liKEC   â¨±     ** dEcoDe  â¨±   AT TIMe zoNe SeSSiONtimEZonE              as ReF "" @ ""       . ""  ALl    .  ""           pAsSINg *   as "" @ ""   unique     +     reTUrNIng conteNT      ** Date ''         is  INFInITe            OvErLAps  dEFauLT             DeSC  nuLlS lasT    set ""     Cycle    @ ""   =>  DeFaUlT        Not exIStS   â¨±        as "" @ ""           seT  @      TO 'á’•'    DEFault d        â¨±   oRder By neW    +    AT Local         is nOT A seT        asc  NuLlS fiRSt                   oN Not *          uNPIvoT  "" @         for  ""  .   @          In    @    alL     +       As datE ''''                   wHErE  ""  aLL  @ ""   =>  nOt pRIOR tRIM  NOT ExIsts   SeLeCT ALL   aLl â¨±    =>  â¨± ""      bULk CoLLecT INto        +     fROM Json_TABLE  â¨± ï¼Œ  @ ""     coLumns  NesTEd Path ""    coLuMnS     For OrDInality            PARtItION by  â¨±      PIVOt xML  defAuLT    foR "" @    dEFAuLt  "" @           +     in   â¨±   WitH ReAD OnLy  COnStRAINt ""  uNique                stArt with â¨±  CoNNecT by â¨±  gROup by â¨±      HaVinG â¨±    OrdER sIBliNGs BY â¨± desc     FOr UPdATE SkIp LoCKEd   With CHEcK OptIon  CoNStRAiNT ""            From  xMlqueRy  â¨±      pASSinG By VAlUe â¨±      AS "" @ ""         ReturnINg CoNtenT    At tIme ZoNE â¨±     ** cURSoR   WIth    AS  â¨±      â¨±   witH CHECK opTIoN      For UpdAte of   @ ""   .  *   +    sKIp locKed   oRdEr SibLingS BY â¨±       At lOcAl         noT  BETweeN  *   And  *                  NOt  lIkEC  *             =>    DeFAULt  as ""       iN   WItH  @        .   @ ""   aLl ""  =>  DEfAUlT  AS "" @              AS  SELECt ALL "" @    =>    â¨±     >   â¨±         AS ""      from  @ ""    As Of pErIOd For  @    alL    .  *   +   noT CAsE  EnD    ** cuRSor  â¨±   at LoCaL         MEmbeR of *             uNPIVoT  "" @    ""     =>  DeFAULT            For     dEFAUlt                iN  ""  .  "" @ ""   All                   GroUp By   ROlLUp  NoT *                              SELeCt all   DISTinCT exIStS    â¨±   fOr upDatE OF   @ ""   .  *   +     WitH READ oNly  cOnSTRainT "" @                   =>  DefAULT     BuLk cOlLEct IntO  @ ""       UnIQUe Not cUrrEnT Of  ""     â¨±    =>  deFaULT        +        ""         +     fROM tabLE  currENT OF  ""           PARTitIOn by   @ ""   all Not NeW  @     +    At TiME zone dBTiMEZOnE     ** xmLcast  mULTiSEt  With "" @     AS  â¨±   SearCh DEpTH fIrST BY â¨± nUllS LAst    Set         â¨±   wItH reAD oNLy      AS dOuBLE PrECISIoN  chARaCTer SeT â¨± % chArset             NoT  In    â¨±        as         =>  *   likE2  ""   % isOPen        esCapE â¨±           NaTuraL RIght oUTER  JOIn  XMlTaBlE  fALSE      aS of PeriOd for "" @ ""   diStINCt         betwEen          sTaRt WiTH exists   with "" @     As  â¨±   CyCLe   uNiQUe     +    Set  @ ""     TO tIMEstamp 'ð§Œ´'    dEfAULT       seLEcT  @    =>  DefAUlT  aS "" @        FroM  JsoN_TaBLE  â¨± ï¼Œ TImestaMP ''''    CoLUmNs  "" @ ""    rEf ""     EXIStS       VersIOns PerIOD FOR       +   bEtween  - "" @ ""    +   oVer  PaRTiTion bY  @ ""   AlL deFAuLt  AS         =>  â¨±    OrDEr By â¨± DESc  NuLls fIRsT     RowS BeTwEEN â¨±  pReCediNG  anD cURreNt row       AT loCaL    AT TiMe ZOnE SeSsIoNtiMEZOnE         And *     uNpIvOT exClUDE NuLls   ""  â¨±      .    uNiQUe     +       foR   @          In  "" @               "" @ ""      Pivot xML  â¨±   for  ""    @    All    =>  defaULt        +        in  anY            aS     ParTITIoN bY  ""  dISTINct ""  â¨±    =>  â¨±         =>  DeFaUlT  "" @ ""         PiVOT xMl  DefauLT    foR  @ ""    +     in  anY            wHEre â¨±  Connect By â¨±  havInG â¨±  GRouP BY GrOuPING Sets                for UPdATE noWAit   OrdEr SiblinGS by â¨± Desc  nUllS lAst              COnnecT By noT Current Of  "" @       .  *   +         HaVInG noT eXiStS    â¨±   fOR UpDatE oF  ""   UNiqUE      nOwAIT   order BY â¨± NuLLS lAST                ORDeR By *   IS  Not  INFINiTe        dEsC  NulLS LasT     wiTh CheCK opTiOn  cONStRAiNT                     OvErlAps    not nuLl    ** cASe *   IS OF TyPe  Only "" @ ""            ElsE NOt   @    =>  DEfAUlT      oVeRLAps  dEFAUlT  As "" @ ""                 eNd  at tiME ZOne "" @    unIQuE     Keep  dense_RaNK Last OrdEr by  WiTh           AS  WITh    aS  â¨±     sElEct "" @ ""      =>  â¨± aS  @        InTo   alL       fROM thE  â¨±   UnpIVOT ExcLuDe NUllS  "" @ ""    UniquE ""  â¨±    =>  â¨±        FOr   @    .  "" @     +        IN   @ ""   .  ""  distinCt dEFauLT   @ ""          +    As .eF             VERsIOnS bEtWEen tiMestaMP  *   aND *       pARtITIoN bY  â¨±          OrDEr by â¨±    WITH ChECk OpTIon      sEARch breaDth fIRst bY â¨± DEsC    SET ""     CYclE ""  alL      seT "" @ ""     tO trUe    deFAuLT 0X        selEct  @    =>  â¨±    BULK collECT IntO  @        +     fROM TAbLE  â¨±     UnPIvot iNcLude nUlls  ""  deFault  ""          fOR    .  *   +        In    @ ""   DistINct ""  =>  DEfAuLt   @           +       AS  'ð¡œ„'                 WheRE â¨±  STArT WITh â¨±  CoNneCt by â¨±    FOr UPdaTe WAiT uq';;'     WIth cHeCK opTiON  constrAINt                ** "" @     % BulK_ROWcOUNt  â¨±     AT LOCAl         SUbmUlTIsEt oF CasT  multiSet  wiTH ""    ""  "" @ ""   =>  â¨±       disTINCT DEFaulT  As ""            aS  selecT diSTinCT â¨±    INTo  @ ""   aLl     +     from   â¨±   PiVoT  default    foR             in  â¨±        versIoNS pErIod FOr ""   +   â¨±  â¨±      And *       natUral lEft OuTeR  jOin  JsoN_TABle  â¨± foRMAT jSon cOLuMnS  nestED N''    COLUMNs     IntErVAl   @    all  @ ""   =>  â¨±       +   To  ""         TRuncATe FORMaT jsOn Path  @                 PaRTItION by  â¨±         unPivOT   @ ""   .  ""  diSTInCT "" @       =>  deFaULt  aS  @            FOR     DeFaUlT  as ""              IN   @ ""    +    as .            aS oF TiMESTamP   @ ""   uNIQue    =>  deFaUlT  aS  @           paRTiTion BY  â¨±      pivot  ""  =>  DEfAUlT  ""     fOr  ""  â¨± ""        .  *   +        In  â¨±            CONNect bY â¨±  staRt WITh â¨±  HAViNg â¨±    OrdER sIblinGs By â¨±       CyCle ""  alL    .  *   +    sET "" @      tO U''    DefAUlt iNtERVAL '''' miNuTe  q'""'   , $.     to mONth        sELEcT diSTInct   =>  DeFAulT     frOM XmltABle  xmLNaMEspaces  DEfAulT D     , ''   PASsING By vALuE â¨±    ColUMns â¨± tiMe  witH  "" @ ""   =>  â¨± As  @          loCAL  diStINCT    tIme     zOne   % rOwtyPe    PaTH 0x   DefaUlT â¨±     aS oF PerIOD For  @ ""   diSTInct ""  AlL â¨±    =>  DefAuLT        BEtweEN    pIVoT  â¨± "" @ ""      FOR "" @       in  â¨±  ""            aS     paRtiTion bY   @    â¨±    =>  dEFAult      jOiN      iNNeR join   â¨±    partiTIon By  dEFaUlT  "" @ ""        CRosS join  â¨±  usING            +      uSiNG  "" @        UnPiVoT     ALl     +    for   @    DistInCT â¨±            IN      +                 whERe â¨±  cONNeCT bY NOcyCLE â¨±  GroUP by GROuPiNg sEts  â¨±           HAvinG â¨±    OrDEr sIBlIngS BY â¨±    fOr UpDATE OF  "" @ ""   .  ""  alL "" @ ""   â¨±    =>  â¨± aS          +    skIp LOckeD      as  tRUE  ï¼Œ fAlsE   RANGe â¨± ..  â¨±        ** SyS_CONneCT_By_Path  alL    AT LoCAl                DEsC  NUlLs laSt       OvEr  pARtITIOn BY DEfaUlt                 Not SuBMULtISet Of        kEEP  dENSE_RaNk LAst ORDEr by NoT cUrreNt OF  "" @                aT timE zoNe dBTiMEzonE     ** eXtRact  hoUr FrOm DATE  nOt *   BEtWeeN  INTERVAl '' yEAR  TImESTamp ''      TO mInUTE          aND  *                        As  @ ""         =>      =>  defAuLT      iN   WIth  @      ""  disTINcT  @    =>  eXtRAct  timEZONE_AbBR FroM daTE  â¨±          is NoT of  oNly "" @ ""                     aS   â¨±   ordeR sibLInGs By nOt exISTs   â¨±        nULlS firsT     for UPDATe  wiTh REAd OnLy  cOnstrAiNT "" @ ""           sEArCH BrEADTH FIRSt BY decode  â¨±   aT TIme ZoNe sesSionTiMeZonE     ** tREat  â¨± As ref "" @         aT lOCAL         bEtweEN    aLL â¨± AS  @ ""          +   WIthIN gRouP  Order sIBLINgs by â¨± Asc        At TimE ZOne DbTIMEzOne     ** nUlL        AnD  *        NULls FIrst    SEt ""     CycLE ""  .  *   +    seT     tO n'ð˜ž‹'    DEFauLT .e-F       sELECT UnIQUE ""     =>  deFAULt     From   â¨±   For UPdAtE Of  "" @ ""     SKiP LoCked   WIth rEad oNLy      versIONs peRiod FOr      .  *   +   BeTwEeN  *   AND  NOt ExISTs   witH      @ ""       AS  â¨±   sEARCh DepTH firsT bY â¨± DESC  nULls fIRSt    set ""       sELECt â¨± as "" @        InTO  @    DEfAUlT  ""         ALl     +     FrOm â¨±     JOiN  jSOn_taBlE  â¨± FoRmat jsOn , true    ColUmns  "" @ ""    formaT jsoN WithouT wrApPer          on â¨±     Where â¨±  HAving â¨±  GroUP bY   â¨±              foR upDaTE NOwaIt   ORdeR SIBLINgS By â¨± dESC              aT LOcAL            "" @      PARTItIoN by  ""  AlL  @ ""   =>  DEfaULt   @ ""         =>  not *   IN   SELECt DiSTINCt â¨±    bULK COlLect inTo "" @    UnIQUE       from  @     as Of TimesTAmp  DEFAuLT      UNPivOt IncluDE nUlLS   ""   +       FOr   dEFaULt  ""        .   @     +     in                       PArtITion by  "" @ ""   =>  DeFaulT      CROSs jOIn  xMltaBlE  0x      pIvot xml  ""  =>  â¨± aS      foR   dIsTinCt DEFauLT             iN â¨±        NaTuRAl InnEr JoiN  â¨±     wHERE â¨±  staRt WiTh â¨±  cOnNECT by â¨±  gRoUP BY               WITh reaD oNlY  CoNstrAiNt "" @                   UNPivot EXClUde NULls  "" @    DIStInCt  @ ""      =>  NOT cuRRent oF       =>  â¨± aS "" @ ""               as "" @ ""          +    for ""  ALL DEfAULt               +     IN    @    DistINct *   IS  NaN             .  *   +                                        haVIng CurReNt of  "" @           GroUP by                    AS     USINg THe  wITh  @ ""    as  SElecT dIsTINCT   DIsTiNCT    =>  DEfault     from ""   PaRtitIon  "" @ ""    +     sAmPLE  TrANSlatE  not CURrEnt OF  ""  all          UsIng nchAR_cs         NOt  In   witH "" @     AS  â¨±      â¨±   fOr upDATe  WitH Read oNly             seed  *   NoT  LIkec  NCHR  CURRENT of   @ ""             ** + eXTRActvALUE   @    ""     =>  NOt  DefAult  ""       OVERlapS  DeFaULT             as  @          =>  nOt EXiSts    â¨±   OrDEr bY nOT *   <  some     @ ""   ALl dEFAuLt       =>  â¨± As  @ ""               NULlS LAst               ï¼Œ *      At lOCAL          EScAPe  Prior ?    at tIme zOne Dbtimezone         ! =  all    dEfAult              aT LOCAL     ** xmLcAsT  nOt  "" @    =>  â¨± AS  @         OvErlApS  ""  =>  DEfaUlt  ""              AS TimEstamp  WiTh   DEFAUlt  ""       OveRLapS   @ ""   =>  â¨±                 TiMe  zOne  uNIqUe     chaRaCTEr Set NoT + - â¨±  aT LOcAL     ** CoNnect_BY_ROOt      at tiMe zONE  â¨±                           ~ =  some   Select "" @ ""   UNiQuE    =>  dEFAuLt     BULk colLeCt Into "" @     +     fROM  @ ""    pArTITIoN    dEfAUlT               PaRTitioN By    ""  =>  nOT *   is NOT OF  ""                =>  EXists   â¨±                UnpIvot IncLUdE NullS   "" @     +       FoR  @    aLl DeFauLt  AS "" @ ""          +     IN    .  ""  DIsTiNCT      As TruE               sTarT WITH NOt *   IS  not  NaN         CONnEct by NocYCLe ExIsTs   â¨±         HAvIng Not *           For uPdaTe wAIt 'ð¦ƒ'     WiTh check opTIon  cONstRAiNt   CuRrenT oF  "" @ ""    UNIqUE                                   PIvoT XMl  Not "" @ ""       disTINCt     At time zONE SeSsIOntimezoNE              As ""     fOr     +        IN  wiTh  @ ""        +      AS  â¨±   SeaRCh dePTh fIRst bY   nOt ExiSts   â¨±         @         > =   "" @      =>  dEFaUlT  as ""        =>  noT *   iS  nOt  NulL                    sEt "" @          â¨±             jOIn    â¨±   WitH cHECk OptiOn       paRTiTion by  DEFaULt          oN curReNt of  "" @    diStiNCt              cOnNECt by noCyclE ""   +   AT loCal     **  @ ""   Unique    .  "" @     +   % found  aT tIme zoNE tReAt  EXisTS   WItH  @ ""    As  â¨±   cYcLe   .  *   +    Set  @      tO 0x    dEfaulT 0x        â¨±   ORder sIBLiNgS BY Not *   likE  SYS_cONneCT_by_paTh  UniQUe ""     =>  dEFAUlt  as ""                   aSc  nULls fIRsT     fOr UPdatE OF   @         =>   â¨±     ** ?  At local         Not  In  ExTracT  DefAult    , *    ï¼Œ *      aT local                      skip lOCKEd   with chEcK OptIoN           as "" @ ""       . ""  alL deFaUlT  ""         +              =  extraCT  sEcOnD FrOM eXISTs    â¨±   oRdEr BY Not *   Not  BeTWeeN  "" @ ""    WithiN group  oRDeR bY â¨± DesC  NUlls LAst       OvEr     At TiMe Zone SEssIonTIMEZOnE         anD  *           FOr uPdate NOWaiT              At time ZonE CHr  nOT CURReNT Of          usinG ncHAR_cs                  grOUp by   cUbe   not .f     ** xMlaGg  noT    @       =>  curRent Of   @ ""   .  *   +            ! =   *   mEMBeR Of *          AS                      is Of TYPE  ""                            hAvING  "" @ ""   =>  DEfAUlT      OvERlAps  ""  dEfaULT   @          =>  NoT    @    =>  DefAULt      In   witH     ""  DIstIncT     uNIquE not dECoDE  â¨±   At tImE zOne  @ ""   uNiQuE     DEFauLT        oVer          ** xMlQuery  XMlQUERY  ""   WitHin gRouP  ORder bY â¨± asc              PAsSinG bY VaLuE  â¨±   aT LOCAL     ** cURSOr  â¨±   AT LOCAl           RETurniNG conTeNt          paSsinG *   As  @        +     RetUrNiNg CONtENT    At tiME zOne ?  AT LocaL            noT  LIkE  new ""   +          ESCaPE â¨±             +      aS  â¨±   SeArCh dEPth FIRST BY *   IS Not a SEt        DeSC    Set "" @ ""        SeLecT ALl NOt *   NoT  BETwEEn  *   ANd  CasE â¨±  ENd    ** TraNSLATE  â¨± UsiNG chAr_Cs   AT tiMe zONE SessioNTImezone              As ""      FRom thE  â¨±   AS  @ ""     PartITIoN BY    DISTiNCT "" @ ""   =>  TRim  both â¨± FRom  â¨±   At locAL     **   â¨±    .  "" @           IN    â¨±         @          =>  not  DEFAuLT      OveRlaPs    =>  DEfAuLt  aS ""               @ ""        CROss jOIn   jSON_taBle    â¨±  @         In    "" @    UNIQue    =>  DEFAult              cOLUMNs  ""   Path TimEStaMP ''          VErsIOns pERioD for "" @ ""   .        CurREnt Of  "" @    ALl â¨±       UNIQuE     +         *   AND *       riGHT OuTER  Join  â¨± uSinG    .  *      PIVoT   @    =>  dEFaUlt    fOR ""  NoT ""  DISTinCT  @ ""   =>  â¨± ""         +   % buLk_ExCEptioNs . couNt         is  NUll             .  *   +     iN  â¨±          UNPiVoT   ""       FOR    +     IN   @ ""        aS  iNtERval '' sEcoNd  datE ''                    VeRsioNS beTweEN scN  "" @     DEFAUlT  as ""         +   KeeP  DEnSE_raNK LAst ordeR siBlINgs bY not *   nOt SuBMULtisET oF PRiOr "" @ ""   aLl       uNique "" @    =>  dEfAuLT       =>  â¨±          % BUlk_roWCounT  â¨±     At tImE Zone DbtImEZoNe       ** ""  defAULT  As "" @          .   @ ""       +   OVeR  OrdEr sibLiNgS BY â¨± NUllS LasT        At tIME zoNE SeSsioNtiMEZone                dEsc  nuLlS FIRSt              aND *       @ ""     pArtitiOn BY  DEfauLT      NAtUrAL InnER JOiN  xmLTaBLe  XmLNamEsPaces    ï¼Œ Q'\\'   paSsiNg bY vaLue   =>  eXiSTS   â¨±              CoLuMns *   iS  NuLl        foR ORDINALiTy      JoiN  â¨±      StaRt wITh nOt  â¨±     oVERLaPS  "" @    aLL    =>  â¨± as "" @ ""                CoNnECt BY Not cuRsoR  â¨±   aT LocAl     ** - nEW  @ ""     AT LocAl          lIkEC  *           For UPDatE SKIP LOcKEd   WITh CHecK OPtion                          FoR uPDaTE Of     dEfAult          OrDEr by ExiSts   wITh "" @ ""    as  â¨±   cyclE "" @ ""   ALl      =>  deFaUlt           +    set  @      TO n''    defaULt FaLse       sELect DEfauLt  AS ""      bULk cOlLeCT INTO         FROM JSoN_tABLe  NoT + SYs_ConNEcT_BY_Path  uNIqUE     AT tiMe zoNE DbTIMEZonE     ** deCODE  CurrENt oF  "" @    .  *   +                     , DaTe 'ðª¬›'    coLuMNs  ""   for OrdInAlITy       AS of PERiOD FOR ""   +   BETween       unPIVOt   ""   NOt eXiStS   â¨±                  For   @    AlL ""  =>  xmLaGG      DISTINcT "" @    =>  dEFaulT  aS         =>  DEfAULt      ^ =   â¨±             ** ""  DIStInct     +   % BUlK_EXCEPtIonS . coUNT   aT TImE ZONe nCHR  TranSLatE  â¨± uSiNG ChAr_cs   At tiME zONe dBTImeZOne         Not  In   â¨±                   =  *        "" @ ""               In   @     +              CONNECT BY nOcyCle nOT TriM  bOtH frOm  not cuRreNT OF   @       .  "" @ ""              aT local         noT  iN    eXISts   â¨±        aS              sTArT WiTH NOT *         GrouP BY GroupINg SeTS   NoT     =>  DefaULt      < =   â¨±                              ASc        SeARcH breadth fIRST by existS   WITh  @ ""      @    alL DefauLT       .  *   +      As  witH "" @ ""    AS  â¨±   CyClE   aLl ""  =>  deFAuLt        +    sEt     tO ''''    defAUlt n''       seLECT *   Is NoT of TypE  "" @ ""            "" @        intO "" @ ""      froM THe  â¨±    PARTitIon by    =>  ""      AlL NOt CURRent OF  @          aS          % NoTfOuND        is  Not  InfIniTe        ""        pivot XmL    =>  default    foR   .  *   +        In  â¨±          wHERe *   beTweeN  *   ANd  XMLcast  MULTIseT  â¨±   AS      +      At lOCAl     ** CAsT  MuLtISET  â¨±   aS dOuBlE PreCisION  aLl                     OrdEr siBLiNGs By nOT cUrREnT of    +           fOR UpDAte of    DefAULt         sKIP LocKED   wITh ReaD ONLy  COnSTrAint       SEArCh bReaDth First bY nOT *   ^ =  ALL    â¨±   For UPDate OF     wait .D     oRDER sibliNGs By cURRENT oF    diStInct â¨±       +           WIth REaD oNLy  conStRaiNt            NUlls LaST    SEt  @ ""         SELeCT  =>  defAulT  As ""      BUlk COlLECt INTo     FRoM   @     sAMple  not coNNECT_By_ROot   at TImE zonE SESsIoNTiMEZONe       **   +   keep  DEnSE_Rank fIrSt orDer by exiSTs   â¨±        aSc  nUlls FirsT        AT lOcAl         >  *            fuLl OUTeR  jOIn  XmlTAbLE  0x      Pivot XML   =>  nOT deCOdE  NoT tReat  â¨± aS REf          **   OVER  ORDer by â¨± DESc  Nulls lAST        aT Time ZONE NuLL           nOT  BetweeN  *   AND  TRAnsLate  â¨± uSinG nchAR_cs   aT LoCaL                at LOcal     ** CaSe  ENd               for    +        in  aNy           as "" @       uSiNg        +        VERsIonS betwEEn Scn  *   anD *     UnpIvot INCLUde nULLs   .     for  .      IN                   parTITION by   DeFaULT  as "" @         oVeRlAPS   =>  curreNt oF    +         @ ""                    PIVOt   DEfAUlt      OVErlaPs   =>  defaULt             AS      FoR   +     In  ANY            WHERe nOt   dIStIncT     % rOwCoUnt  At TiMe ZOne SESsIONtiMeZONE         NoT mEmBER Of -  nOt NuLl  aT lOCal         SuBmUlTiSeT of *              **   +   WithIN GroUp  ORdER sibLIngs By eXistS   â¨±        nULls fIRSt       oVer  parTITIOn by  =>  Not *        aS ""      ORDEr BY curRent Of         nUllS lASt                      staRT WiTh NOt *   is  INfiNitE         cONNEcT bY NOcyCLE   dEfAulT  "" @         not  In   â¨±               OrDEr SibLingS By NOT nULl        not  LiKEC  *   eScAPE eXtRActVAluE  â¨±   , *    ï¼Œ CaSE â¨± ELsE â¨±   EnD  AT TimE ZonE DbtimeZone     ** caST  â¨± as lONG   =>  â¨±       % TYPe      AT lOCAl                                wITH reAD oNly           Asc    sEt      cYcle  .  *   +    seT     tO timEstAMp ''    dEFaUlT fAlSe       sELeCt uNIQue  =>  dEFAULT  "" @ ""       buLk CoLlecT INto   ALL  =>  CUrreNT oF   .         ""           froM   wiTH  @       .    +      as  â¨±      â¨±   ORDEr SiBliNGS BY NOT *   IS Of   @ ""            DEsC     FOr UpDaTe        uNPivOt EXCLUDE nUllS     +       FOr     In    .  *   +       aS  ''''                 PARTitIon BY  DefaUlT  AS ""       INNEr JoIn  tAble  seLECt DEfAuLt     FRoM xmLtabLE  Uq'%%'   passinG By vAlUE not    =>  DefAulT  aS  @         NOt  iN     â¨±                colUmns ExiStS    â¨±   For UpdAtE  ORdER by NOT ExistS   â¨±        DeSc     wiTh CheCK OptIon  COnsTrAINT            opaQuE fIxED    USInG LiBRARy    raNGe PRior   AlL  =>  DefaULt  ""         +   kEep  denSE_ranK laST ORdER By nOT *   NoT  LiKE4  conneCt_By_ROOt â¨±  at lOCal         EscAPE nOt exISts   WiTH  @ ""       +      As  â¨±   seARch BREAdTH FiRsT BY â¨± desC    SeT ""       SeLEct DisTinCt  =>  â¨±    iNTO  .  *     fRoM â¨±   hAvInG â¨±    witH cHECK OPTion  cOnSTrainT                  nuLlS LAST        At tiME zoNe dbTimezONe       ** NEw              NOt  in   wITh    aS  â¨±   CycLe  .     seT "" @ ""     tO q',,'    dEFAulT E-f       SeLect DiSTInCt  =>  NoT casT  mUltISET  â¨±   AS   DistiNCT     +      aT TIMe zONE dBtIMEZOnE     ** xmLagg  CUrrEnt of    +        OrDeR sibLIngs By Not  â¨±     ovERLAps  Default  AS ""                         noT  BetweEn  *   And  *         @        iNtO   +     FRom â¨±   wHEre U'ð¨˜‘'         IS  not  nan         coNnecT By *   iS not a set         hAvinG treAT  nOt CURRENt oF         as ref  @ ""       .   +     At Time zoNE + TRiM  NoT eXiStS   â¨±          aT Time zonE â¨±    at loCAL            IS NOT OF  only ""            gRoup bY   noT *   iS oF TYPe  oNLy "" @ ""                         ORdER bY   =>  defAuLt      oVERLAPS  NoT   dEfault      =   â¨±          @                NullS FIrsT     for uPdatE of     sKiP LoCkeD           ..    % NotfoUnd    ** trIM  xmLqueRy  *   PaSsiNG *     retuRNING cONtEnt    aT lOCAl         likeC  *   eSCAPE curReNt OF    uNIqUe  =>  â¨±                                  PaTH 0X   dEFaulT NOt extRaCt  dEFAULT    , nChr  NOt exISTS   sELECt  =>  DEFaulT  ""      FROM â¨± PIvOT Xml   â¨±        LiKE4  *          for       +     IN    =>  XMlCASt  MulTIsET  â¨±   as vARCHaR2  â¨±          ** - â¨± At tIMe ZONe SESsiONtiMeZOne         BetWeeN  *   aNd  extract  tiMEZonE_REGiON fRom Date  â¨±    AT LOCAl     ** CAST  â¨± As IntERval    +   To  default  aS                               aS "" @               cONnEcT by nOcyCLe Not *   < >  SOmE    =>  â¨±              START With nOt cURRent oF   .  *   +         grOuP bY                 hAviNg ExisTS   â¨±           orDEr BY noT XMlCast  â¨± aS NvArcHaR2  UnIQUE   collAtE ""     chaRacTEr SEt â¨± % chARSEt       aT tIme zONe SeSSioNTIMEzOnE     **  â¨±         <  any     =>  â¨± as ""              AsC  nuLlS last     wiTH rEad ONLy                    ï¼Œ *      aT LocAL     **   +   wiThIn GrOUp  ORdEr By exIsTs    â¨±   for uPDate OF     WaIT datE ''     ORDer sIbliNgs bY NoT *        Nulls FiRSt             dESc        at TIme ZOnE DBTiMEzoNe         not  beTWEeN  *   AND    +   % buLK_RoWCOunT  ExtRAcTValUe  DeFAUlt    ï¼Œ *            IS  Null            aT LOcAL     **  WiTH  @ ""      .       as  â¨±   SeARCh dEPTH FIrST BY noT Current OF   .         Nulls Last    sET  @          â¨±   for UpDATe NOWaiT   wIth ReaD oNLy      aT local                   nAtural Full  JOIn  â¨±    wHErE  DEFaULt  ""       oVERLapS   =>    KEEp  DEnSE_rANK FiRst orDer siBLINGs BY NoT eXisTS   wiTH ""   aS  â¨±   CYCLe   +    SEt  @      TO ''    deFAult INTErval '''' mInUTe    ï¼Œ timEstaMP ''            SElEct  =>  â¨±    into   DiStiNcT DeFaULt  aS "" @ ""          +     From  â¨±   ""    PARTiTioN BY   =>  â¨±     crOss Join  â¨±  PivOt   =>  DeFAULT    fOr   .  *        IN  â¨±          whERE â¨±  start wiTh â¨±  CONNEct By â¨±  GRoup bY         HavinG â¨±            ASC       OVER  ParTiTIOn by DEfAuLt  as  @ ""          At TIME zOne DbtImeZONE         In  +  Not *   is  noT  NAn            ** - ?  AT tiMe zONe seSsIonTImEZoNe                 @ ""                  fOr UPdate of    +    WaiT INTerVAl 'ð©¦²' mOnTH  tO mOnTH      ORDeR bY NEW        At locAL         IS NOt EmPty        Asc        unPiVoT ExClUDE nULlS       =>  DEFAuLT  ""       NOt  in     NoT *   betweEn  + xMlaGg  â¨±    aT tImE ZoNe ?           aNd  sYS_CoNNEct_By_pATH  â¨±      **   +   OVEr  order SiBLInGS bY â¨± NULLS lAsT     raNGE â¨±  FoLlOwiNG                      oVErLAPs  deFaULT                         aS           FoR     =>  DEFAUlT  ""              in    +            aS oF tImestaMp   =>  noT *   iN       =>  Sys_CoNNECT_BY_PAtH  uniqUE    At locAl         is not Of TYPE  onLy  @                 ! =    =>  dEfaUlT   @ ""                              On nOt Exists   SeLect AlL  =>  dEfAULt  As       frOm  taBLe  wiTH ""     .  *   +      aS  â¨±   SEarCh bReaDTH FiRsT BY nOt cuRrenT of             DESC  NUllS fiRsT    Set "" @       CYCle  .  *    Set     tO u''''    dEFAULt q'[]'        â¨±   ORDeR by not cuRrent Of    all     +        aSC     with CHEcK OPTiON  CoNstRaiNT         PivoT xmL  NOT *   In  *         As ""     for   .    +        IN   â¨±             UnpIVOt ExcLudE nuLls             fOr    +        in     as DAtE ''             VErSioNs pERiOd fOR  .     dEFaulT      OveRlAPS   =>  DeFauLt  "" @                 TRAnSLate  Not *   NOT  LIke2    +   aT timE ZONe sEsSIOnTimeZoNe     ** cuRsOr   â¨±   fOR UpDAte  orDER BY cuRReNT Of    DiStiNCT â¨± as  @ ""          +           WiTH chECK oPtION  COnsTraINt                  USing nchaR_cs     ** xmlQuery  nUll  At lOcAl         PaSSinG By VaLuE *     RetUrNIng CoNTeNT    AT tIMe ZoNe sesSIonTiMEZONe         AND *       PaRtITiON By   =>  xMlAgg  ExIsts   WITh  @           as  â¨±     seLECT UnIQuE DEfaULT     FROm JsoN_TabLe  â¨± FOrMAT json cOLuMnS  ""   fOr oRDInaliTY        PARTITiON By  DefAULt         wheRE â¨±  gROUp BY    â¨±               orDeR SIbLIngs bY â¨± asc                     NOT sUBMUlTiset Of *               UnpIVot    +    foR    All  =>  NoT CUrReNT of               +        iN    .  *                 WherE nOT TREAt  *   ~ =  *        aS reF  @         AT LoCaL     ** ?        betWEen  EXtrACT  DeCODE  â¨±   At time zonE inTERVal '' YEaR  U'ð©¤Œ'   , ''        AT LocAl            is  INfiNitE        ""     , ?    **  .  *   % bULk_rowcount  *   nOt  In    dEfAuLt  aS ""                           ** CaST  noT eXistS    â¨±   WiTH ReaD onLY           aS TImEsTamP   =>  nOT    =>  DEFAuLT      not  IN   wITH  @ ""    aS  â¨±     selEcT DEFauLT        buLK COLlEct inTO   +     FROM jSoN_TAblE  â¨± , $.   COLUmnS  nesteD "" @ ""     coLuMnS  "" @     eXistS PAth               AS of TImeSTAMp   =>  â¨±          pArTiTION By   =>  deFaULT         CoNNEct bY nOCycLE â¨±  havIng â¨±    FOr upDAtE OF   .    +    skip loCKEd                  % tYpE      at LoCal         and  *         StarT WITH curRENt OF    DIStIncT           CoNNECT BY Chr  nOT *   is NoT oF  "" @ ""            uSING NCHAR_CS   aT time ZONE NcHR  *   <  prioR â¨±    ** NChr  â¨±   aT TIME ZonE dbtimeZoNE                         NoT MEmBeR Of xmLCAst  not eXiSTS   wiTh ""   As  â¨±   seaRCh depth firSt By â¨± NuLlS LAsT    SeT "" @ ""      cyCLE   +    seT     to .ED    DeFAULt False       SeleCt â¨± AS  @ ""       from "" @     sampLE  â¨±        whErE â¨±  StART WITh â¨±  ConnecT BY â¨±    WITH REad ONLy           AS INtervAL  alL      +   tO   =>   DeFAULt      OveRLAps  defAULT  as                      ALl  =>  dEfault  As "" @            % tYpe      at lOCAl                   ordEr BY nOt CurreNT oF         NULLS first     WitH CHEcK oPtION  cOnsTRAinT              PIvot  DefaulT       for  .  *     In  any            GROuP by XmLQUEry  *   PaSSING *   AS  .    +     ReTUrNinG COntEnT    at TiMe ZoNE dbtimeZone         Is  Not  Null               oRDer siBLInGs By NoT    =>  NOt EXTrACT   =>  EXIsTs   with "" @       .  *   +      AS   â¨±   for uPdATe sKip LOcKed   OrDER bY â¨±       sEARCh dEpTh fiRsT BY â¨± DEsc    SET  @ ""      CYCLe    sEt ""    to 0x    DefAuLt N''''        SeLeCt all â¨±    BULK COlLEct INtO   +     FROM XMLTAblE  TimestAMP 'ð¡­'      veRsioNS betWEEn SCn  *   anD DECoDe  â¨±     ** eXtRact  mOnTH frOM â¨±    aT LocaL             cROSs JOIn  jSon_TaBlE  â¨± cOLuMNs     ExIsTS       aS     pArtITioN by  â¨± as "" @           PivOT  DEfAuLt    For     IN  â¨±          cONnECt BY nOcyClE â¨±  STArt WITh â¨±  GrOUP bY cUbE   â¨±            HAVIng â¨±    WiTh ReAd onLY      FOR upDATe               ï¼Œ *    ï¼Œ extracT  SecONd from dAtE  NOt *   iS oF  "" @ ""                 ** TReat  NoT    =>  DEFaULt      >      =>  â¨± AS  @                   AS                 at lOCAL         Like  trim  Both *   is of TyPe  oNLy "" @ ""            FROM  CURrEnt oF           at TiMe ZONE    =>  DEFaULT  ""         +            ESCAPE *                  not  iN   noT exISts    wiTh "" @     AS  â¨±     SelEcT uNique  =>  nOt eF     ** cONNecT_By_roOT conNecT_by_RooT cAse â¨± ELSe â¨±   enD    AT Local           NOt  In    DEFAulT           AS ""      BUlk cOLLeCT iNtO   +     frOm xMltABLE  xmLNAmEsPACeS  DEfAULT    DefaulT ''     ï¼Œ tRue   PASSInG  =>  CurRENt OF          @ ""       CoLumNS Not *   not  betweEN  CUrsor  â¨±   At tIMe ZOnE SEsSIoNTImEZone     ** dECoDE  â¨±   AT LoCAL         And  cONnEcT_bY_ROOt   % bulk_excEpTIONS  â¨±   . ERRoR_Index     AT lOCAL              natIONal ChAR    ColLATE ""      deFAULt nOT   =>  defAULT      OVerLapS  â¨±                    innEr Join   â¨±   UnPiVot    disTINct     +    FOR    +        iN                 aS of peRIOd for  .    +   *   nOt  LIKe   â¨±     ** sYs_cONNEcT_bY_pATh     AT timE ZOne EXtraCt  â¨±   , *    ï¼Œ *                         PaRtItIoN by   =>  deFaULT  ""        usINg         COnnECT BY NoCyCle Not *   Is nOt Of TYPE  oNLY  @ ""             hAVINg eXISTs   â¨±           wITh rEaD ONly  coNstraiNt       oRder SIblINGS by EXiStS   wITH ""   As  â¨±   CyclE   UNIQUe DefAuLT  As  @            set ""    TO Nq'@@'    deFAuLT INtErVAL 'ð ›°' mInuTe         â¨±           dEsC  NUlls lAST     fOr UPDaTe of   .    +    NowaIt   wITh cHeCK oPtiOn                     nulls LaST        pIvOt xml   =>  NoT cuRRenT of         AS  @       for   +     in  anY             ON  nOT  .  *   WithIn groUp  orDeR By   +   % FOuNd  AT locAl         < >  all   WiTh        =>  nOT *   liKe2  tRANsLAtE  â¨± UsInG CHaR_CS     ** neW   +    At TIME ZonE sEssiontImEzoNE         ESCaPE â¨±       "" @ ""          +      As  wItH ""      DiSTINcT     +      AS  SELEcT DEFAuLT     iNTO     fRom  "" @     SAMPLe    defAulT      ! =   â¨±           seeD     =>  dEFauLT   @ ""        IN      =>  â¨±                     unPiVOt INcLUDE nuLlS         fOr     in     aS ''''                paRTiTION BY  DeFault  aS             orDEr bY NoT cURreNt of    +           fOr upDatE SkIP lOCKeD   with REAd Only  coNstraInt          WIth  @ ""    AS  â¨±   sEARcH dePTh FirsT bY NOT *   nOt  lIKe2    +   oVer  PArTitIOn bY â¨± ""           **  â¨±   aT local              asC  Nulls laSt    set ""     CYclE  .  *   +    sET  @      TO Nq'^^'    dEfAULT .D       sELeCt All dEFAuLt     INTo     FROM    SUbPARtitIoN      sampLE block  Not  â¨±  AT TIMe ZOne casT  MUltisEt  â¨±   As  fAlSE  , FaLSe      aT lOCal                    vErSIONs period FoR    =>  CurREnt oF    +        AS "" @ ""          *   noT  bEtWeeN  *   ANd   â¨±              Xmlquery  *   PaSsInG by vALUe tReat  NOt â¨± Is NOT eMPTy        aS       .  .            as   UniqUe     +     retuRniNG COnTEnT    AT TiMe zOnE dBTimEZonE         and *       paRTItiOn By   =>  noT eXIstS   â¨±               whERE ChR  â¨± UsIng nCHAR_cs   aT tIme ZOne DBtiMEzoNE     ** Prior $.          iN   â¨±         StaRt WITH   =>  â¨± aS        overLaPS  â¨±             cONNeCt by eXists   â¨±           For uPdAtE Of        +    noWAiT   orDER sIbLiNGs BY noT *   IS a seT        NuLLS fiRST        OrdEr bY NOt *              cycLe   +    sEt "" @      to tRUe    DEFAulT TImESTamp ''       seLeCt DefAult  ""      frOM  SELEcT dISTINCt  =>  defaULt     bULk CoLLEcT inTo     fROm Table   defAUlT      ovERLaPS   =>  â¨±              vERsIons bEtweeN timeStAMP   .    oVeR  PARTITION by deFault   @ ""       OrDeR by not cuRSOR   â¨±        ** trEat  â¨± as  @         aT TIME zonE sESSIoNTimeZonE         >  sOME   WItH ""   As  â¨±   SEArcH bReadTh FIRst BY â¨± aSc  NUlLS FirST    sET "" @          â¨±   fOr UPdAtE OF    DIStinct  =>  â¨± AS  @ ""          +     wiTH CheCK oPTiOn           dESc          ** triM  noT *   IS  inFiNite        FRom  CuRReNT Of           AT tIME ZONe sESSIOnTimezonE         ANd *     unpIvOT iNCLuDE NUllS     +       FOR   DisTiNCt       in    .    +                 riGHt outer  JoiN   â¨± Pivot  nOt    =>  dEfauLt      > =   deFAUlt               ""     FOr   .  *        iN   XmLcASt  mUlTISET   â¨±   ORdER SibLIngs By â¨±    FOr UPdatE  WiTh chECk oPTion  cOnStRaINT       AS DOUBlE pReCISIoN  RAnge â¨± ..  â¨±                 aS "" @                    aS "" @ ""     nAtuRAL INneR JOin  â¨±     Where CurREnT of        +         staRt WiTH ExIsts   SelECt UniQUe  =>  defAulT     BULk ColleCT inTo  .  *     fROM jsOn_tAbLe  â¨± forMaT JSOn COlumnS     truNcATe foRMAT jSoN WiTHOUt aRRaY WrAPPEr  pATH date 'ð¢¨ƒ'          AS oF sCN   =>  â¨± as ""       PIVot  DEfauLt  as      FOR     IN  ANY            InneR jOin  ThE  â¨±   uNpiVoT EXCLUDe nuLls    dIstiNct  =>  â¨±       +    for   .         In      =>  â¨±       +       AS  date ''                   PiVOt XMl   =>  deFAULT    for   +     IN â¨±        wHERE â¨±  hAVing â¨±  GrouP BY  gROuPiNg SeTs                   FoR updATE wAIt inTeRvAl '''' miNuTe  to Day  TIMEsTAMp ''                   conNEct By Not eXIsTs   wITh "" @ ""    as  â¨±   CyclE  .    +    seT  @      TO e-   DeFaULT FaLSe        â¨±   wITH rEad oNLY  CoNsTRainT             HAviNG Not   % noTFoUnD  AT loCAL         IN  *          group BY  rOlLup    +   kEep  deNSe_RAnK LasT OrDer SiBliNGs by â¨± DEsc  NulLs lAST       OvEr       **   AT LOCaL         in   wITH  @        dIStiNcT DEfaulT  As  @ ""             AS  â¨±   searCH BreadtH fIrST bY â¨±   Set ""        â¨±   ORdeR By â¨± desC  nUlls firST     With ChECK oPtIOn                         foR uPdAte skip LoCKed   orDER sIbLInGS By *   Is Of tYPe  ""           NullS LasT         PARtITION BY   =>  nOt cuRReNt Of              UnpIvOT exclUde NULLS     FoR    +        iN    .  *   +       AS  0x                 WHErE *   iS  nOt  nAn         GROuP by not  dEfAUlT         overLAPS  DEfauLT                            DeSc       OVER     AT TImE zONE DbTimezOne         BEtwEeN        WIthIN grOUp  OrdEr sIblINGs BY EXiStS   selEcT nOT tRANsLATE  â¨± uSINg NChaR_cs   at local     ** ?        meMBEr of *             INTO   UnIquE  =>  DeFAUlT  "" @           +     frOM    subpArTiTiOn       pArtItiOn by   =>  *            CROSS joiN   XMltaBlE  xMLnAMesPAceS  NOT NuLl    ** PRiOR DecoDe  â¨±   at LoCaL           likeC  *        as "" @ ""        ï¼Œ tImeSTaMP ''   PASsING  =>  deFaUlT   @ ""       cOluMNS NoT   â¨± as ""       < =   witH  @ ""      .    +      as  selECT  =>  â¨±    INTO  .  *     FrOM â¨±     ORDeR BY â¨± desC  NullS LAst     FOR updATe OF        +        sEArcH bReadTH firSt by â¨±   SET ""       SElEcT DIstInCt â¨±    froM â¨±   COnnECT BY NoCycLE â¨±  starT WItH â¨±  grOuP By  GRouPing SETS   â¨±                 WiTH REaD oNLy  ConsTRAINT             FOR ORdinalIty     UNpIVOT INclUDE NulLS   .  *   +    fOr   DISTINCt       iN    .                 ""    pArTitIon By  DeFauLt      NAturAl JoiN  â¨±  unpIVOt   .  *   +    FOr   .    +        IN         AS  DatE 'ð­Š¤'                  inNER joIn  The  wItH  @        +      as  seLEcT  =>  DEFault        BUlK colleCT intO   eXIsTS   â¨±        AS "" @             fROm â¨± piVot XML   =>  deFAUlt    For       +     iN  â¨±          StARt WItH cuRRENt OF    â¨±             conneCT By Not sYS_COnnEcT_bY_PAth  distIncT    AT LOCal         < >  any     =>  DeFAulT  ""               hAving *   not  BetWEEN  *   ANd  nulL    ** TRaNSlAtE  â¨± USInG NCHaR_Cs   at TIme zOnE caSE ELse â¨±   end                   ORdeR sibLiNGs By nOt exiSTs   â¨±           FoR uPDATe Of    +        cYcLE    sET     To inTervAL '' YEAR  q'!!'      to mONTh  N''   , 0X         DeFAUlt nq',,'        WItH  @       .    +      as  â¨±      â¨±   For UPDATe noWAit   WItH ChEcK OPTIoN      wiTH REaD onlY      as "" @ ""     paRTItIoN BY   =>  deFAuLT  aS        RigHt OutER  jOin  â¨± usInG    UniQUe        ON NOT +   UNIqUE â¨±       +   OVEr  PARtitiON By deFAUlT     ORdER sIbLiNgS by â¨± aSc  NullS fiRsT     rows unbOundeD PrecEDiNG        AT LOCAL     **  .  *         is nOT Of TYpe  "" @                  WHERE cUrRENT OF    +         cONNeCt By NocYclE XMlcast  MULtiset  SeLEct  =>  â¨± "" @ ""       Into     FrOM   â¨±   Order bY â¨± NUlls firsT     wiTh ReAd Only  COnsTRaiNT        JOIN   jSON_TaBLE  â¨± foRMAt json ï¼Œ ""    ColumnS   @ ""          PIVOt   =>  â¨±   FOR     IN    =>  deFAUlT       AS            AS Of PEriod fOr   +   bEtWEEn            unpiVot     +       fOr   .         IN     +       aS .              PArTITiON bY  DEfAult  "" @ ""        CROSs JoiN   WitH  @     as  â¨±   searCh bReAdTH fIrSt by â¨± nULlS FIRST    sET        sElEct distinct  =>  DEFaULT  as ""      fROm â¨± PIVot xMl  â¨±   foR   â¨±  @ ""            iN â¨±        WhEre â¨±  sTArT WItH â¨±  ConnecT by NOcYcLe â¨±  GroUP bY  ROlLuP  â¨±             haVinG â¨±    fOr upDATe of    +    SkIP LOCKEd   orDeR SIBliNgS By â¨± DesC        As OF PeRIOD foR  .  *   â¨±     "" @ ""     cROSS joIN  â¨±   on â¨±     cONnect By â¨±  gROUp BY  CUBe  â¨±             havinG â¨±    foR UpdATe WAit .e-f     with CHecK OPTIoN  cOnSTRAINT       as LonG raw       at TiME Zone SeSSIONTimEzoNe         iS Empty           WiTH ChecK oPtion           asC       oVeR       ** EXtract  year FrOM nOT    =>  - trEAT  â¨± aS Ref ""      .   dISTinCT       aT TIme ZonE dbTimeZONE          ! =  *            ~ =    wIth      .    +      aS   â¨±      sEARch Depth firSt by NOT ExisTs   wiTH "" @     aS  â¨±   searCh DEpTH FIRst BY â¨± aSC  NuLLs fIRST    SET ""     cyClE   +    SET  @      TO INterVAl '' MONTh     DeFAulT FAlse       sElECT â¨± AS       INTO     fRom     paRTItIoN By  â¨±        WHeRE â¨±    foR UPDate OF   .  *    skiP loCKEd             seT "" @         seLECT DiStInCt  =>  DEFaulT     fROm JsON_tabLe  NOT cURRent of     =>  DeFauLT   @ ""          +        FOrmAt jsON COLUmNs  NeSTED path ''    coLUMns  neSTed     CoLUMnS  "" @     douBlE PreCISioN   TRUNCatE PaTH ''                   nATural JOin    â¨±   ORdEr bY nOt CuRsor  â¨±   aT lOcaL         iS  not  infiNiTE        Asc  nUlls lASt        VERSiOns beTweeN sCn  *   AnD *     uNPiVOT eXClUDE NulLS        +    fOr     iN    .  *                 paRtITiON bY  deFAult  ""         pIvOT XmL   =>   DefAult      oVErLAPs  â¨± as "" @                  fOr    UniQUE  =>  DEFAUlt  aS "" @           +        IN  coNneCT_By_ROOt NEw  .       aT tIMe ZONe U''''   At loCaL        ** sys_conNECT_BY_PAth                           sTaRt WIth    =>  â¨±     nOt  IN     defaUlT                    coNNECt By NoT *   Is NOt A Set         haVIng   =>  dEFAult      OvErLApS  â¨±             GRoUp BY                   WiTH chECK oPTION  COnSTRAinT       OrDeR siBliNGs BY nOT *   NoT  IN    DEFault  "" @ ""                FoR uPdaTe SkIp loCkeD   WITh reaD OnLy                     AND  - PRiOR NeW   aLL  =>  â¨±  ** â¨±      nOT  LiKe  *        AS ""          aT TIMe zonE sesSiOntiMEZone     at LOcal                 LoG ErroRs INtO   +     cUrRent oF    AlL defauLT  aS          +          ReJect LImIT IntErVAl '''' dAy  to hOuR  0x   ï¼Œ TIMEStAmp ''           