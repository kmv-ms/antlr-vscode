< < PARaLleL   > >   execUtE IMMediATe *   mEMbeR Of CAsE whEn NOt exIstS  ( WItH "ð©‘¨" @ à´”  . :26    .  ""   As ï¼ˆ SelECT UniQUe ""  =>  DEfaUlT  "ð˜–³" @ dIsASSociATE      , NoT CuRreNT oF  hIGh  @ "" @ "ð¦²–"   ( + ï¼‰    aNd nOt *   IS  NAN      Or ( dEfAULT    ï¼‰  ovErLaPS ( DefAUlt    )      aND :70  ï¼ˆ ISOlaTIOn  @ :_    =>  â¨±   ï¼‰    % bUlK_ROwcoUNt ( â¨± ï¼‰    at tImE ZONe seSSiontiMeZone    MUltiSeT EXCept  TRANSLATe ï¼ˆ â¨± UsIng ncHAR_CS ï¼‰  at TImE zONE dbtIMeZOnE     ** nULl   MUlTISeT UnION  DeCOdE ï¼ˆ â¨± , â¨± )     /  caSt ( muLTisET ( With :72    ï¼ˆ "" @ "ð¤†¯" . "ð§¶˜"  ( unIque ï¼‰    , "ð¢ª"  .  *  ï¼ˆ + )   ï¼‰  As ï¼ˆ â¨± ï¼‰  sEaRCh breadth fIRST by â¨± desc  nULLS lAsT   ï¼Œ â¨±   seT INValiDatE  @ "" @ TIMestAmp         ( â¨± ï¼‰  MinUS  ï¼ˆ â¨± ï¼‰   )  As inTErVAL ( )   :ï²œ#  ï¼ˆ "ð®ˆ†" @ pUbliC    =>  â¨± :95  @ ""     , dEFauLT  as "ð¤³¾"     )   ï¼ˆ uNIQuE "ð—›" @ "ð¦Œ˜"  ï¼ˆ UnIquE â¨± as nOcyclE  @ "" . ""     , â¨±   )   =>  defaUlt    )   ( + ï¼‰  tO ( )   "ðª¼¶" @ :ï¾¦áŽ™      ChAraCtER SEt â¨± % cHaRseT     )  at lOCAL       +  ?    ** cuRsor ï¼ˆ SeLEcT saMple  ï¼ˆ UNIQuE )   =>  DEfAUlT  "ï¸…"      fRoM ï¼ˆ â¨± ï¼‰   CROSS JoiN  ( â¨± )  versIONS BETweeN TIMeStAMP  "" @ :31  . _   ï¼ˆ :19   =>  â¨± AS "ð‘¡"    ï¼Œ â¨±   ï¼‰   .  PIPELINeD  ( unIQue )   ( + )  Keep ( deNse_ranK FIrSt Order By â¨± DESC  nUlLS fIrsT     )    muLTISEt eXCept DIsTiNct  ( â¨± ï¼‰  At LOcal      *  - â¨± at LOcAL     ** dATe 'ð¼µ'    MuLTiSEt unION aLL  TRiM ï¼ˆ â¨± ï¼‰      +  NeW ÈŽ4  ï¼ˆ )       ** ï¼ˆ â¨± ï¼‰ aT lOcaL         aNd *     unPivoT ExCLuDe NUllS ( "ð¬ " @ "" @ ""     FOr ï¼ˆ shArINg  ( aLL noNeDitIONaBlE  @ SchEmA  . reUse    =>  deFaUlt    )   ï¼ˆ + ï¼‰   )    In ï¼ˆ ( "" ï¼ˆ ALl DeFAULT  as :_à»˜  @ "ðš¯" . CoNsTraint       ï¼‰   ( ï¼‰   ( + )  ï¼Œ "" @ :25    .  _  @ yeAr   ( disTinCt ï¼‰     ï¼‰    ï¼‰   )     "ð¥¯²" @ "" . "ðªŒ®"     PArtiTIoN By ( "ð ª " ï¼ˆ ï¼‰   =>  deFAUlt  as :3      ï¼‰      wheRE â¨±    iNTERseCT  SELeCT dIsTiNCt â¨±    FRom JSON_TabLE ( â¨± formAT jSon , True    cOLumns ( "" @ "ð­„§" . aCCOUnt    .  gLoBALLY    eXiSTs PAth INterVaL '''' SEconD  to MinuTe ï¼ˆ 9.E+4D   , TImEstaMp ''''   ï¼‰        )  )   partITiON by ï¼ˆ :3  @ _   ( DeFaULT  :1  @ "ð­—" @ ""     ï¼Œ "ð—¤Œ" @ IDeNtITy  . pERiOd    =>  â¨± AS ""     )   =>  DEfauLT   , â¨±   ï¼‰   PivOt ( :á¿¢5   =>  â¨±  , â¨± NoReLY      fOR "â¤¼"  ï¼ˆ DiSTinCT datA  ï¼ˆ aLl defAulT    ï¼‰   =>  â¨± "ð«ª­" @ "ã†‚"     , "ð¤ƒ›" @ :5    =>  DEFaUlT  AS :ï´©Ö¦      ï¼‰   ( + ï¼‰    iN ï¼ˆ anY   ï¼‰   ï¼‰     ï¼Œ XMltABlE ( 7e-3D   COLumNs â¨± dOublE pReCisioN    ï¼Œ â¨± for oRdInALItY   ï¼‰  UnpIvoT ï¼ˆ ( "" @ tableSPaCe  . ""  ( )     )   for BITMap  @ :35  . #    ( ALL usEr  @ ""  ï¼ˆ ï¼‰   =>  â¨±  , deFauLt  :_  @ :39  . ""      ï¼‰      in ï¼ˆ ï¼ˆ ""  ( + )   ï¼‰   AS ( TImEstamP 'ðŸ€‡'   , .3D   )     , ( "ðª™˜" ï¼ˆ uNIQUe BULK  @ "ð¥˜œ"   =>  â¨± "" @ "ð«½¢"      ï¼‰   ï¼ˆ + )  , ï´£  ï¼ˆ )   .  *    )    ï¼‰   ï¼‰    aS of pERioD For "ðª‘"   â¨±     ""    inner joIN  table ( â¨± ï¼‰  PiVot XML ( DefAULt   , â¨±   foR DEbug  ï¼ˆ uNiQue "" @ SubstITuTABlE  @ "ð£°·"   =>  defAUlT   ï¼Œ DEfAUlT  AS "ð©£®" @ "ð¥ŒŽ"      ï¼‰   .  "ð§Ÿ³"     iN ( â¨± )   )      PArtITioN by ï¼ˆ :2  @ :5   ï¼ˆ ï¼‰   =>  â¨± SizE  @ ""      ï¼‰      cONNecT By nOCYcle â¨±  gROuP By ï¼ˆ ( ï¼‰    ï¼Œ ï¼ˆ â¨±   ï¼Œ gROUpiNg seTs ï¼ˆ ( â¨± , â¨± )    ï¼‰    )   ï¼‰      haVInG â¨±    FoR UpdATE  WItH CheCK oPTIoN  conStRaINT cHunK      )        <  anY  ï¼ˆ wIth à®ƒ   .  "" @ "ð®¨"    As ( â¨± ï¼‰  cyCLE "" @ :#  @ tEmporARY   ( )   ï¼ˆ "ðª´§" @ :_ï³‰   ï¼ˆ uNiQUE DEFaUlT   , logGIng  ï¼ˆ ï¼‰   =>  â¨± LOw      )   =>  â¨±   ï¼‰   ( + ï¼‰  , :8  @ "ð©»¾"   ï¼ˆ + ï¼‰   sET ""    to n''    deFaUlt 1.0     ï¼Œ :9   .  "" @ MAtCheD  . ""    ( ""  .  *   ï¼Œ OnLInE  ( DEfAulT  AS :49  @ ï½¨      , "" @ "ðŸ³" . MeMBER    =>  â¨±   ï¼‰     ï¼‰  aS ï¼ˆ â¨± ï¼‰  sEarch BREadTH fiRsT by â¨±   sET "à±ƒ"  .  rAise        sElect dEFaUlt   , "" ï¼ˆ all ï¼‰   =>  â¨± As áœ„  @ "" . :9        into UnuSAbLE  @ :53  . "à¾²"   ( + )    FROm ï¼ˆ TaBLe ( â¨± ï¼‰   PARTiTiON By ( deFAuLt  As "ð«©°" @ tRAnSAcTiOn  . fILEsySTeM_likE_LOGgiNg      , ""  =>  â¨±   ï¼‰  CROSS JOIn  ( â¨± ï¼‰  aS "ð¢’†"    RIgHT oUTEr  jOiN  â¨± On â¨±    pIvoT ï¼ˆ DefauLT    fOr CHaR_cS  @ ""  ( alL :68   =>  â¨±   ï¼‰   ï¼ˆ + ï¼‰    in ( â¨± )   ï¼‰     ) VERSIoNS bETweEn SCN  *   And nuLL  AT TIMe zONe seSSIoNtImezonE           unpiVOT ï¼ˆ ï¼ˆ "" ï¼ˆ unIQuE dEFaULt    )   ( + )  , "" @ :_  @ ""   ï¼ˆ + )   )   for "" @ "" @ ""  ( ï¼‰      IN ï¼ˆ ( :22  @ secOND  @ GLOBally   ( aLL ï¼‰   ( AlL â¨± _â¶ˆ  @ "ð¬½" . PUbLIc      , "ð©º"  =>  â¨± AS aFTer      ï¼‰     ï¼‰   As ï¼ˆ 0x   , TrUE   )     ï¼Œ :_  @ "ð«™¨"      )   )      jOIN  "" @ :51    .  ""     Using ï¼ˆ :ã…¸2   ï¼ˆ ï¼‰   ï¼ˆ + ï¼‰  ï¼‰    ï¼Œ ""  .  UseR  @ "ð—œ±"    saMPLe blOck ï¼ˆ â¨± )  SeEd ( â¨± )    aS of SCn  :á†‰6  @ ""  ( ï¼‰   =>  defAULt  EMPTy  @ AUThID  @ :8      , DEfAuLT  AS "ð¨«‚"         partItiON bY ( "ð¬Œ" ( ALL â¨±   ï¼‰   =>  dEFAULT    )     STaRT WIth â¨±  CONnEcT BY â¨±  Group by ï¼ˆ ï¼ˆ ï¼ˆ â¨± ï¼Œ â¨± ï¼‰   ï¼Œ CUbe ï¼ˆ ï¼ˆ â¨± , â¨± )   , â¨±   )    )   , ï¼ˆ â¨±   ï¼Œ GrOuPING setS ( ï¼ˆ ï¼‰    )    ï¼‰   )        OrdEr By â¨±    For upDATE Of  "" ( )   ( )      WitH ReAd ONLy  CoNSTraiNT ï­°  @ teMPOrary       ï¼‰          BUlk COLlECT InTo ""     frOM jsoN_tabLe ï¼ˆ nOt ï¼ˆ  :19  @ "ð—¶¾"  ï¼ˆ dIStINCT â¨± as "" @ XmLSChEma       )   =>  DEFaUlt   , â¨± SaMPle      )  in  ( ( â¨± ï¼‰  UNioN  ï¼ˆ â¨± ï¼‰   ï¼‰        fORMaT JSOn ï¼Œ tRuE  @ "" . #4      colUMNs ï¼ˆ ""  .  ""   FOR ordINAlITy   , NeStED :25     COlumnS ï¼ˆ :Ý§ï¼œ    pAth "ðªŸ·" @ "" @ ""   .  "ð§¯˜" @ "" @ "Ò­"     ERrOr ON  EMpty    , nESTED Date ''    COlUmNS ( CaLl  @ bLoCK    .  :30  @ DecODe     REF :6   ï¼ˆ + )    FOrmat jSOn ErROR on  ErrOr    ï¼Œ ""   rAW ï¼ˆ "" ï¼ˆ )   =>  DeFaULT   ï¼Œ DEfaULt  :25      )    charaCteR Set CUrREnT OF  "ð­œ°" @ "" . ""  ï¼ˆ alL â¨± AUtheNTicATIoN  @ OLd  @ :19      , pERcEntiLe_dISC  @ "" @ ""   =>  â¨± "ð£¥" @ _       )      and NOT *   between  xMLcAst ( MultiSEt ï¼ˆ SELEct UNIque "ð©¿°" ( DiStINct ï¼‰   =>  dEfAulT   , DEFAuLT     BulK COlleCt iNTo FREeList   .  "" @ "ðª‚®"  ï¼ˆ "" @ ""   =>  â¨± AS ""    , #  @ "ð¢‰—" . :7    =>  â¨± "ð¨ºˆ"     ï¼‰   ( + ï¼‰    FROm JsON_TAbLe ï¼ˆ â¨± â¨± ï¼‰  PivOT XML ( DEfaULT   , :Ù®á‰˜  @ USAgE   ( All )   =>  â¨± As "ð§‘¨" @ sPlIT  @ pAsswOrD       for ""  .  *  ï¼ˆ + ï¼‰    In ( â¨±  as ã…      )   )    AS OF PErIOd fOr "" @ :_   ( uNiqUe OvEr   =>  DeFAulT    )    betWeeN      PArTiTiOn BY ( DefaULt  AS stAtEmENT  @ :12  . "ð§ƒ”"      )  nAtURAL jOiN  ï¼ˆ â¨± uNPIVOT incLude nulLS ï¼ˆ ( :25  ï¼ˆ ï¼‰   ( + ï¼‰   )   foR EscAPE  @ "ð—œ‡" @ ""  ï¼ˆ UNIQuE ï¼‰      In ( "ð¡˜¿"  ( + ï¼‰   aS UQ'!ð“ˆœ!'      ï¼‰   )     )  NaturaL RIghT  jOIn  â¨±   pIvOT xMl ï¼ˆ â¨±  , "" @ :63    =>  â¨±   fOr ï¼ˆ "ð­«—" @ refErENCes    ï¼ˆ diSTinCT :_  ( deFaULT  "ð¢Žº" @ "" @ ExcluDe      ï¼Œ dEFaULt  :51      )   =>  â¨±   ï¼‰   ( + )  , AuTo  ( distiNCt )   ( ALl "ð­¹¶" @ "" . JOIN    =>  â¨± As Ï·      )   ( + ï¼‰   ï¼‰    IN ï¼ˆ â¨± )   ï¼‰      wHERe â¨±  sTARt WitH â¨±  ConNeCT by noCycLe â¨±  HAviNg â¨±    WIth ReAD OnLy  CoNsTraiNt EnFoRCED  @ "ð£š½"  ( ï¼‰      ï¼‰  aS OPaque FixEd ( dEFAULT   ï¼Œ â¨±   ï¼‰  USINg libRARy "ð ¯¡"    RaNge â¨± ..  â¨±    ï¼‰     /  TReat ï¼ˆ â¨± aS "ð¬­°" @ :8    .  inSTAntiaBLe  @ Î§_  @ "ð­‡¸"     ï¼‰   at tIME ZonE chr ï¼ˆ â¨± USING NCHaR_CS ï¼‰  at LocAl       mUlTISET UnioN aLL  ExTRaCt ( moNth froM DaTE  â¨±  )        AND  *        % cHaRSEt     eXisTS   ï¼‰    ï¼‰    ï¼‰  ï¼‰   fulL OUteR  joIN  JSOn_tabLe ï¼ˆ :_  ( )   .  *   oVER ï¼ˆ partITIon by "â„’" ( )   =>  â¨± AS ""    ï¼Œ #  @ "" @ ""  ï¼ˆ dIsTIncT DeFaUlt   , DEFAULt    )   =>  â¨± "ðŸ™¶"      orDeR sIBlINGS By â¨± dEsc  nuLLS lAsT     ï¼‰    multISET uNiON  "ð­»½"  .  noRoWdepEndEnCIEs  @ "ð˜Œ›" . ""  ï¼ˆ AlL "" @ "ð¤©"   =>  deFaULT    )   ï¼ˆ + )  wIthIn GRoUp ( OrDer siBLInGs BY â¨±  ï¼Œ â¨± aSc  NuLLs firSt     ï¼‰   At lOCAl     ** cuRSOr ï¼ˆ WITh INdicatOR  @ :1  . _    .  cONveRT    AS ( â¨± )  cYcLE ISOPEN   .  *    SeT "ð—»ƒ" @ :23      TO n''    deFaulT q'_ð¬©“_'       ï¼ˆ â¨± )  ORdEr SibLInGs By â¨± asC   ï¼Œ â¨± NULls lAst     foR UpdAtE of  timeZOnE_REgION  ï¼ˆ uniqUE CHaR_CS   =>  â¨± :ï¾  @ :40  @ ""     ï¼Œ dEFaulT  ""     )   ï¼ˆ "" @ "ð§¼¬" . ALlow    =>  â¨±   ï¼‰   ( + )   NOWaiT    ï¼‰      ||  1  at TIme zOnE DBtImEzonE    MULTISet EXcEpt  "ð§ ´" @ "" @ :Ü†    ï¼ˆ DistInCT )    KeEp ( dENSe_raNk LasT ORder SiBliNGs by â¨±  ï¼Œ â¨± dESC     ï¼‰  Over ( )   At tiMe zonE xMLQuerY ( *   paSSINg bY vaLue *   AS "ê®£" @ quota   ( )   ï¼ˆ + ï¼‰   ï¼Œ *     rEtURNinG cONTenT )            NOt  LIKe  COnneCT_by_rOOt XMlQUERy ( â¨±  ** â¨±   mod  â¨±    -  â¨±  ** â¨±   /  â¨± mulTiSET unIOn all  â¨±      paSSiNg â¨±  ** â¨± MUltiseT iNteRSeCT  â¨±    ||  â¨± MuLTisEt Except DistinCt  â¨±  ** â¨± muLTiSEt uNIoN dIStinCT  â¨±      as á¦—  ï¼ˆ DEfAuLT  as "ê©‚" @ CYcle      ï¼Œ "ð¨ˆ±" @ "ð® ´"   =>  DEfault  as PrOCEdure      ï¼‰   .  *    , *     retURNINg COntEnt ï¼‰   At LOcal     at Time zONe sESsIoNTimeZOnE            OR cuRrent of  :6      AnD EXisTs  ï¼ˆ WiTh "" @ "ð¨¨ž" . ""    ï¼ˆ "ð®”Œ" ( UNIQUe )   ( + )   )  As ( â¨± )  sEaRcH brEaDTH fIrst by â¨± dESc  nulLs lASt   ï¼Œ â¨± NULLs FirsT    seT :2   .  MInexTENts  @ wrApped  . :ã…Ÿ7       cYClE :9  @ "ð¥š‰"   .  PackaGe  @ wRITe  @ ""  ï¼ˆ disTINCT â¨± aS :9      )    , "ð’’†" ( DefaULT    )   ï¼ˆ UNIquE )   ( + ï¼‰   set "ð”‘Š"  .  "" @ "ð¬«†" . "ï½€"     tO ''    DEFauLT 0xB      ï¼Œ #   .  "" @ CommITted     ( "ð¡œ¡" ( ï¼‰     )  AS ( â¨± ï¼‰    SeLEcT :26   =>  â¨±    BuLk cOLlEcT iNto :_  @ ""   ( + ï¼‰  , "ð—†–" ï¼ˆ unIqUe "ð¦°„" @ WRITe  . BItmAP   ï¼ˆ )   =>  â¨±  ï¼Œ DeFAUlt  "" @ "ð§„‹"      )   ( + )    frOm ï¼ˆ â¨±  ) VersIOnS perIod FOR :_Üš  @ yEAR    ï¼ˆ dIstINCt ""  =>  â¨±  , DEFAULT  As "ð£—Š"     ï¼‰    beTWEeN  :19  @ ""  ï¼ˆ â¨± staTistIcs  @ roWcount      , #  @ "ð¨®ˆ"  ( ï¼‰   =>  defAulT    )    % Found   muLTisET uNiON diSTiNCT  TreAt ( â¨± aS rEf :5     )  . tIme  @ EMPty  . :á±    ( + ï¼‰    AT TiME zone sESsIoNTiMEzone       +  xMlAGg ï¼ˆ â¨± )    ** pRioR Case â¨± WHEN â¨± THEn â¨±   END          AnD *       PArTitiOn By ( â¨±  , "ð¬…½" ( ALL "ð£¼‰"  =>  deFauLt  ExeCUte  @ :24       )   =>  â¨±   )  CroSS Join  â¨±  UNpIVOT excLuDe NuLLS ( ï¼ˆ rEUSe  @ "" @ ""     ï¼‰   fOr ï¼ˆ "ð˜ª—" ( aLl ï¼‰   ï¼ˆ + )  ï¼Œ :37  @ "" . CoNtExT      ï¼‰    iN ( "ð¬ˆ" ( aLL )   .  *  ( + )   AS iNTErvaL '' MOntH ï¼ˆ 'Õ'   )        ï¼Œ ( ""  ï¼ˆ â¨± "" @ ÝŠ      , dEFauLT  as :#1      )   ( + ï¼‰   )    ï¼‰   )      cOnnECt BY nOCYClE â¨±    UNIoN  ï¼ˆ â¨± )  fOr updATE Skip LOCKEd   OrDer bY â¨± nUlls LasT     WiTh checK oPTiOn    )       cOlUmnS ï¼ˆ nESTed patH "" @ "ð©š¶"     ColumNS ï¼ˆ eRrOr   .  jOin    fOr orDinalIty   )    )  ï¼‰  As oF tImeSTAmP  DEfAult  aS :37  @ ê’›      ï¼Œ DEFAULt      UNPivot inCLUdE nULLS ( :45  @ sUsPenD      for DENSe_ranK  @ "ð¢¥" . ""  ï¼ˆ ï¼‰   ï¼ˆ DiStiNCT "ð¨…³"  =>  Not extraCt ( hOuR From â¨±  ï¼‰      +  xmlcaST ï¼ˆ â¨± aS doublE pRecIsiOn ï¼ˆ dIStinCT ï¼‰    ï¼‰  aT locaL    MulTiSet INTErSEcT  triM ï¼ˆ â¨± ï¼‰  at lOCal         is EMptY         , "ðª²µ" ( )   =>  defaULt    ï¼‰      IN ï¼ˆ ( BulK_RowCounT  @ :35   ( AlL "ð¡¹¦" ï¼ˆ ï¼‰   =>  Not trAnslATE ( â¨± UsINg ChAr_cs ï¼‰   mULtISet iNterSECt  CUrSoR ( SElECt :77   =>  â¨± ""    ï¼Œ #7  @ ""  ï¼ˆ ï¼‰   =>  deFAULt  AS SIBlings       InTo "ð«·­" @ :à½½  @ VAlIDate   ï¼ˆ â¨±  ï¼Œ dEfAUlT  As "ð˜‹¢" @ "ð—¯¦" . ""      ï¼‰   ( + )    FrOm xmltabLe ( XMlNaMeSpaceS ( ï¼‰  ï¼Œ ''    ï¼‰   paRtITioN BY ( "ð’Œ±" @ ï²ƒ    =>  â¨±  ï¼Œ DEFAult  "" @ "ð Œ" . ""      )    ï¼Œ XmLTABlE ï¼ˆ Q'[ð ¹]'   PaSsinG By ValuE â¨± "á¹’"       ï¼‰   joIN  â¨±  pIVOT xMl ï¼ˆ sCaLe   =>  DefaULT    for ( "ð¦°”" @ "ð–¦¦" . MAtErIaLizED   ( dEFAULT    ï¼‰   ï¼ˆ + ï¼‰   )    iN ( ( "" @ SoRT   ( dIsTincT â¨±  , â¨± as ""     ï¼‰   =>  DEfaULT  :3  @ EXtenT      , :#á‡   =>  deFAuLt    )    ï¼Œ Any   ï¼‰   ï¼‰      wHEre â¨±  StArt WITh â¨±  CoNNeCT BY â¨±    UniOn  ï¼ˆ â¨± )  fOr UPDAtE of  :5   ( + )   Skip locKeD   wITH reaD ONlY    )  AT tiMe zONE DbTimeZoNe     ** PRIoR exTRaCTValUE ( "" @ :45    =>  â¨± AS "ð® ¬"     , *    ï¼‰  at tImE zONE â¨±     aT LOCAl      *  sys_COnnEct_BY_pATH ï¼ˆ uNIque ï¼‰   AT TImE zONE dBtimezONe         IN  *      AnD CuRreNt oF  exTERNAlLY  ( ""  =>  â¨±   )       Or Not - CASe wheN â¨± THeN â¨±  Else â¨±   eNd    mULtIset UnION dIstinCt  "" @ "ðª‡" . CoUnT   ï¼ˆ unIquE ï¼‰   ( + ï¼‰  WiThiN GrOuP ( oRder by â¨± aSc   ï¼Œ â¨±    )  OvER ï¼ˆ ORDEr bY â¨± ASc   ï¼Œ â¨± NUlLS First     rOws betwEEn uNbOuNded FOlLowinG  ANd â¨±  FoLlOWInG    )     ** eXtRaCt ( DEFaULt  :á‹¦á‡š  @ "" . "ð¢–"      , *    , + â¨±   ** VARYiNG    at TIMe ZOnE sESsIonTimezONe    MUlTiset EXcEPT  cAST ï¼ˆ â¨± AS ï¼ˆ TRUe  , True  )  )  At LoCAL       -  ï¼ˆ ï¼ˆ â¨± ï¼‰  OrdER SibLingS BY â¨± ASC  nuLLs fiRsT   , â¨± asC      )  At lOCaL    MUlTIsEt INterSECT  coNneCT_bY_ROoT â¨±    ** ( â¨± ï¼‰    *  nEW :_  @ ""  ï¼ˆ aLl â¨±   ï¼‰   .  :14  @ subPArtItionS   ( ï¼‰   ï¼ˆ + )   at LoCaL          ï¼‰  aT TiME zONe DBtimezone         is Of ï¼ˆ "" @ poLymoRPHIC     )          )   ( AlL "ð¢‹°"  =>  defaulT  aS :11      ï¼‰    , iNvalIDatE  @ "ð¢¦µ" @ char    .  *  ( + ï¼‰   )   AS FALsE      ï¼Œ ï¼ˆ "ð‘Š" @ thAN   ï¼ˆ )   ( dIStIncT ï¼‰     )    )   )      LEFT  Join  xMLTABLe ï¼ˆ xmLnAMESpACes ï¼ˆ ï¼ˆ :8  ( DiStInCT "Ó¹" @ "ð­§®"   =>  DefaULt   ï¼Œ DEfaULt  _Ù‘      )   =>  â¨±  ï¼Œ "ð¢µ"  =>  deFaUlT  As "" @ ""      ï¼‰  oveRLAPS ï¼ˆ â¨± "ðª®ž" @ "" . "ð¤®•"     , DefauLT  As ERRor_cOde  @ Ü‰       )      ANd not exIsts  ï¼ˆ WItH "ð¥«"  .  ""   AS ( â¨± ï¼‰  seaRcH breADTH FirSt BY â¨± aSc  Nulls firSt    sEt :_  @ "ð’ƒƒ"      CYCLe fiPsFlag   ï¼ˆ + ï¼‰   SET "ð‘´™"    tO iNtErVAL '' dAY  to SeCOND     defaUlt DATE ''''       seLeCt "ð—•²" @ :74   ( ï¼‰   =>  â¨±  ï¼Œ "ð¬°„" @ "" . valuE   ï¼ˆ ï¼‰   =>  â¨±    FROM â¨± UnpiVOT EXcLUde NulLS ï¼ˆ disaSSOCiATE  ï¼ˆ "" ï¼ˆ unIqUE dEfaulT    ï¼‰   =>  deFAULt  aS "" @ "ê–§"      ï¼‰     FoR :5      iN ( ( nOSCaLe  @ â½†  . :5    .  *  ï¼ˆ + )  , SelF  ï¼ˆ â¨± fOReIgN      )   .  "ð­˜…" @ :53  @ ""     )   AS ( .0e3d   ï¼‰     ï¼Œ á…¡2  ( UNIque ï¼‰   ï¼ˆ ALL ï¼‰      )   ï¼‰     ï¼Œ â¨±   WhEre â¨±  STaRt WITh â¨±  coNnECt BY â¨±  hAvINg â¨±  GRoup BY cuBe ï¼ˆ ( â¨± )    )    , ï¼ˆ ( ( ï¼‰    ï¼‰   ï¼‰         )     Or NoT *   IS  nOt  nan     and ï¼ˆ wiTh nOcaCHe    aS ( â¨± )  cycLE "ð¥‡Š" @ :#  . ""   .  NocoPY   ï¼ˆ + ï¼‰   sEt _  @ locAtOr    .  :á¨˜     to 0xD    DEfauLT 2      ( â¨± ï¼‰   ï¼‰    ** "ð«¶" @ ""  ï¼ˆ uNIquE dEfAUlT   , byte  @ "ð­ž¥"  ( ï¼‰   =>  DeFaULt    ï¼‰   .  *  ï¼ˆ + ï¼‰  % fouND  at LOcAL      /  "ð¢³£"   % ISoPEn   MULTiSET InteRseCT disTinct  WRaPped   ï¼ˆ + ï¼‰  at TiME ZoNe xmLAgG ( â¨± oRDEr siBlIngs bY â¨±  ï¼Œ â¨± nulLS FIRsT     ï¼‰       ** ?      -  ExtrAcTValue ï¼ˆ "" @ :57  . "ð«µ"  ï¼ˆ "ð–¤«" @ "ð¨‡š"  ï¼ˆ diSTiNCt â¨± , â¨±  ï¼‰   =>  â¨± aS "ð«˜¨" @ #  @ cyCle      , â¨±   ï¼‰   =>  â¨±   ï¼Œ *    , TREAT ï¼ˆ â¨± aS REf AttRIBuTEs  @ :2  . ""   .  ""    ï¼‰   AT lOcal          )  At TiMe zONE - â¨±       *  :4    % BUlK_ROWCoUNt ( â¨± )    aT locAl    MultISEt inTeRseCT ALl  nulL        ~ =  "ð–¨¶" ( )   ( + )  % BUlK_EXCePtioNs ( â¨± ï¼‰  . errOr_InDEx   aT TIME zoNE SESsIONtIMEZonE    MUltISEt EXcept  - + â¨±    ** XmLcasT ï¼ˆ MuLtISet ( sElect UNIQuE CEll_flaSh_CAcHE  @ ""   =>  dEfaULT  "ð®˜»"      iNTo "" ( â¨± As :94  @ "ð§¼Œ" . cuRREnt_USEr       ï¼‰   ï¼ˆ â¨± AtTRIbutEs     ï¼Œ dEFAUlt    ï¼‰    ï¼Œ :ï»©ãƒ  @ inTErVAl  . ï¼—    ( DIsTiNcT ï¼‰      FRoM â¨± unpiVOt ( ï¼ˆ "" @ errOr_indEx   ï¼ˆ UNiQUE ï¼‰   ï¼ˆ all â¨±   )    , "ð¥‡µ"  .  :9   ( + ï¼‰   )   For ( "" @ :2  . ""  ( )   ( + )   ï¼‰    In ( unBoUnDed  @ "ð–©˜" . OUTER   ( soMe  @ "ðª¥„" @ "ãŽ•"   =>  â¨± ""     ï¼‰   .  *  ( + ï¼‰   as ï¼ˆ U''   , $.9  ï¼‰     ï¼‰   ï¼‰     ï¼Œ â¨± pIVoT ï¼ˆ DEfaULt    for ""     in ï¼ˆ â¨±  aS "" @ "ð—¼—" @ "ð¬‹"     ï¼Œ Any   )   )      WhERe â¨±  hAVIng â¨±  gRoUp by ï¼ˆ â¨±   , ( ï¼ˆ ï¼‰    ï¼Œ ( â¨± ï¼Œ â¨± ï¼‰   )   ï¼‰   , ( cuBE ( â¨±   )    )        FoR uPdAte  ORDer BY â¨± aSc  NuLLS LAst   ï¼Œ â¨±    WITH reAD oNlY  cOnSTRaINT :#7  @ :86  @ Èž   ( UNiquE ï¼‰      )  as dATafiLE   ï¼ˆ AlL ï¼‰   ( + )   )  At TImE zoNE deCODE ( â¨± ï¼Œ â¨± )      MultIseT IntErseCt  ï¼ˆ â¨± ) AT lOcal       ||  caSE wHeN â¨± THEN â¨±  else â¨±   End  aT LOcAL    MUlTIset UNioN aLL  NCHR ( â¨± )  at tiMe Zone SEsSioNTiMEzONE              as "ðŒ‹" @ "ð®¦“" @ "ð˜€"     ï¼Œ "" ( :_  @ FiNaL   ( dIsTincT dEfAult   , coNtExt  @ :76  . :_0    =>  DefAULt  miNeXTenTS      )   =>  tRAnslAtE ï¼ˆ â¨± UsINg chaR_cs ï¼‰   mUlTiSET iNtersEcT DIstinct  sYs_ConNeCt_By_patH ï¼ˆ DIsTinct )     ** xmlaGG ( â¨± ordEr By â¨± DesC  nUlls first   , â¨±    ï¼‰  AT LoCAl       -  "ð¬¨·"  ( + ï¼‰  % notfOUND    ** "ð ¶ˆ"  .  "Î„" ï¼ˆ REverSE  @ :67    =>  defAult  UNLock  @ "ð¦¢™"      ï¼‰    AT tIME zONE coNNecT_BY_root â¨±      MultisET uNion disTInCT  "" ( ï¼‰   .  "ð §¥" ï¼ˆ â¨±  , :6  @ "ð¦·‹"   =>  DEfaulT    )    OVeR ( pArtiTion By deFault  AS "ð—·‡" @ â¾³ïº‘  @ VArChAR2      , INTErfACe  @ ""  ï¼ˆ diStinct â¨± )   =>  â¨± As #       ï¼‰   AT tIMe zone dbTIMeZOnE      MoD  ""  ( )    % FOunD          ANd ExIStS  ï¼ˆ ( â¨± )  For UpDATE Wait 0X     WITH cHeCk OpTIon    ï¼‰     oR NOT ExISTS  ï¼ˆ wItH peRiod    As ï¼ˆ â¨± ï¼‰    sELeCT UNIQuE â¨±  , defauLT     bulk ColLECT inTO New  @ ã„¸   ( ALl ï¼‰   ( + ï¼‰    frOM â¨± PiVoT ( :40  ï¼ˆ â¨± )   =>  â¨± "" @ ""     ï¼Œ deFauLT    foR "ð¨¼" @ :90   ( DISTincT deFAult  uSIng  @ :ï½…â³±      ï¼Œ "Ô£" @ "ð‘´’"  ( DISTInct â¨± )   =>  â¨±   ï¼‰   ï¼ˆ )   ï¼ˆ + ï¼‰    in ( â¨± ï¼‰   )     ï¼Œ â¨±   coNneCT BY noCyClE â¨±  StArt wITh â¨±  GroUp by groupIng sETs ï¼ˆ ROllup ( â¨±  , â¨±   )     ï¼‰    , ï¼ˆ â¨±   ï¼Œ ï¼ˆ cuBe ( â¨±  ï¼Œ ï¼ˆ â¨± )    ï¼‰    , ï¼ˆ â¨± , â¨± )   )   ï¼‰      HAviNg â¨±    oRDeR SiblINGs BY â¨±  ï¼Œ â¨± NUlLs lAst      )    AND NOt *   iS not Of type ( ONLY ""  .  xmlnAmespACeS  @ loCaTOR  @ "ð®•½"    ï¼‰          ï¼‰   =>  NOT *   lIkEC  *   ESCape â¨±       as ""     defAuLT timEStamP 'ð¦„¸'   ï¼‰  ï¼Œ TiMESTAMp ''''   pAsSiNG (  :50   =>  defaUlT  ""    , "ð«£"  =>  defAult  As :7      )  NOt  iN  ( sEleCT "ðª›†" @ "ð¯¥¨"   =>  deFAuLT   , â¨±    Into LObs  @ BeGInNING    .  "ð—¿" ï¼ˆ unIQuE )    ï¼Œ "" @ ""  ( )   ï¼ˆ uNIQUE reWrITe   =>  DeFauLt   , FIRSt_rOWs  @ :_    =>  â¨± AS "ðª¾”" @ "ð’Š"      )   ï¼ˆ + ï¼‰    frOm â¨±   coNneCt by â¨±  STart with â¨±  HAViNg â¨±    oRder SIBlINgs BY â¨± AsC      ï¼‰     AnD EXTract ï¼ˆ MInUtE FROM â¨±  ï¼‰  At loCaL    MultiSeT UNIOn  _#  ï¼ˆ )   ( )      ** ChR ï¼ˆ â¨± usIng nChar_cS ï¼‰  at LOCAL      mOD  "ð£¢ƒ" ï¼ˆ DIstiNCt deFAuLt  :7  @ cONsTaNT      ï¼Œ deFAulT    ï¼‰   .  *  ( + ï¼‰  OVer ï¼ˆ ORDEr SiBlINgS By â¨± Asc  nulLS LaSt   ï¼Œ â¨± DeSC     RanGe cuRRenT RoW    )    mulTIset ExcePT  tImeSTaMp ''''       ||  trAnSlate ( â¨± USiNg char_Cs )  AT tiMe ZONe DbTimeZonE     ** CAst ï¼ˆ mUlTISET ( wITh ""   ï¼ˆ á¿¤4  @ "" @ ShaRInG    ï¼ˆ ï¼‰   ï¼ˆ + )   )  As ( â¨± )   ï¼Œ :83  @ "ð­¦Ž"    ( :29  @ "ð†ƒ" . "ð–«­"  ï¼ˆ DISTiNct "ð«¿‚" ( aLL â¨± bulk_RowCounT  @ :á½°ï·³       ï¼‰   =>  â¨±   ï¼‰     )  as ( â¨± )  SEaRCH brEadTH FIRST BY â¨± NuLls fiRST    sET ""       seLECt all â¨± as ""      fROm â¨± uNpiVoT incLuDe NuLLS ( ï¼ˆ reF  ( )   .  *    )   FoR ï¼ˆ ""   , "" @ eDITIon    .  #  @ isopEN  . ""   ( + )   )    iN ï¼ˆ ï¼ˆ "ð¬œ˜" ï¼ˆ disTINct :2  @ "ð˜Ž" @ System    =>  defAuLT  :ïº§  @ "ð’"     , "ð¡¼¡" ï¼ˆ ALl )   =>  â¨± aS "" @ ""      )   ( )     ï¼‰    , :6  @ priOR    ï¼ˆ + ï¼‰   As ''      )   ï¼‰     , â¨±   WHerE â¨±  GRoup By grouPiNg sEtS ( ( â¨± ï¼Œ â¨± )    )         INteRsEcT  ( â¨± ï¼‰   ï¼‰  aS StRiNg ColLate "ð¡°©"     % ROwTypE    )  at Time ZONe SESSioNTIMezonE         lIKEC  NChR ï¼ˆ â¨± )     *  TRiM ï¼ˆ LEadInG FrOm  â¨± ï¼‰  aT tiMe ZOne new ""           ||  trANSLAtE ( â¨± UsinG CHar_cS )  aT lOCal    MUlTIsET INterSeCt diStinct  ?    ** DaTE 'ïº–'               ï¼Œ :99  @ "ð˜‚›" . "ð­¾‹"  ( DeFAUlT   ï¼Œ "ð‘²§" ( aLl DEfaULt   ï¼Œ cUrReNT oF  KeEp  @ :#áº‹  @ ""   .  INDiCatOr  @ "" . :45   ( )   ï¼ˆ + ï¼‰    ANd NOt *   NoT  BEtweEn  PRioR CUrSOr ï¼ˆ With pATH  @ :91  @ CreATion     ï¼ˆ ""  ( + ï¼‰  ï¼Œ sUsPeNd  @ :á¥š    ï¼ˆ DIsTIncT )   ï¼ˆ + )   )  AS ï¼ˆ â¨± ï¼‰  CycLE "ð—Š¨" ï¼ˆ â¨± )   .  *   , "" ï¼ˆ diSTINCt â¨± )   .  "ð¦Ÿ«" @ "âŒ³"     SET "ð£¬"  .  "" @ ""     TO FAlse    dEfAult falSe       ( â¨± )  FoR UpDAtE oF  #2  @ Ç    ( â¨± )   ( DisTINCT ï¼‰   ï¼ˆ + ï¼‰  , LOG  ï¼ˆ disTinCT )     SKiP LOcKeD   ORDER by â¨± NuLLS firST   ï¼Œ â¨± deSC     wiTH ChEck OPTION    )  at loCAL     at LOcal    mULtISEt UNIon  TreaT ( â¨± aS REF Using  @ "ð¤¹½" @ "ð—¥¸"     ï¼‰  . nOreVErse  @ :61    ï¼ˆ + )       MoD  EXtRAct ï¼ˆ â¨±  , *    ï¼Œ ExTraCt ï¼ˆ YEAr fROm dAtE  â¨±  )    ** ""   WitHIn gROUp ( ORDEr sIbLingS By â¨± dEsc  nUlls FiRSt     ï¼‰  over ï¼ˆ parTITIoN by â¨±  ï¼‰   at tIME ZONE DbtimezoNE          ï¼‰  aT LOCAl    mUlTISeT EXcEpt  sYs_coNnEct_BY_pATH ( )       +  "" @ :7  @ ""   ï¼ˆ + ï¼‰  KeEP ï¼ˆ DEnSE_rAnk lAST orDer by â¨± Nulls lASt     ï¼‰    muLTisEt EXCePT alL  ï¼ˆ â¨± ) AT TIME Zone dbtiMEzone     ** :_  @ "ð¨’®" . OvErlaps   ï¼ˆ â¨± ï¼‰   .  *   KeeP ( dense_rank LaST ORDER SIbLINgs By â¨± ASC     ï¼‰  over ï¼ˆ OrDer BY â¨±  , â¨±    )   At TImE ZOnE sEssIoNtiMEZONe      Mod  + ï¼ˆ SeLeCT â¨±  bUlk ColLeCt inTO :58  ï¼ˆ )   ( distINCt â¨± )   ï¼ˆ + ï¼‰  , ""     FRoM â¨±  , â¨±   GROUp BY ï¼ˆ ( ROlLUp ( ï¼ˆ â¨± ï¼‰    ï¼‰    )   ï¼‰      haVInG â¨±    UniON all  SelEct disTincT â¨±  froM â¨± PivoT ( â¨± For "ð˜‘±" @ LOGgINg  . noReveRsE   ï¼ˆ â¨± ï¼‰   ï¼ˆ + )    iN ï¼ˆ â¨± )   ï¼‰      sTART WITh â¨±  CoNNeCt By â¨±    fOR UpdATE SKIP LocKeD    )    MULTisET eXcePt  New LOCkED     aT tIme ZOnE cAsE â¨± WHeN â¨± thEN â¨±  elsE â¨±   END           And  DEcODE ï¼ˆ â¨± )  aT Local     ** XMLcasT ï¼ˆ â¨± AS TiMe ( UNIQue )     )      ||  connecT_bY_rooT XMlqUEry ï¼ˆ â¨± mUlTIsET exCEpT  â¨±  ** â¨± MULtIsEt InTeRSect DiSTINCT  â¨±    ||  â¨± MultIseT UNiON DIsTINct  â¨±  ** â¨± MultisET eXCePt ALL  â¨±   *  â¨±      pasSINg *   aS "" @ "ð£¹š"  ï¼ˆ ï¼‰   .  "ð®ª„"  ( + )   , *     retuRninG COnTenT )   at Time zONE DBTImeZonE        *  CONNeCt_bY_rooT ?    AT lOCaL     ** TRiM ï¼ˆ â¨± ï¼‰   MuLtisET INteRseCT  CASt ( â¨± aS opAQue Fixed ( aLl â¨± )  USiNG lIBrary :#á‹  @ "â€€"  ï¼ˆ ï¼‰     % rOWtypE    )  AT TIME zONe xMLQUEry ( *   pasSinG by VaLue â¨±  ** â¨± mULTIsEt uNiOn aLl  â¨±   MoD  â¨±       , *     rEtURNing CONTENt ï¼‰   aT LOCAl                   ï¼‰   =>  not ï¼ˆ :9  @ cOMpUTE    =>  dEFAult  oId     , DeFault  as ##      )  OvERLAPS ( nOcyCLe   =>  DEfAUlt  "ð¦š‘" @ __       )      ANd nOT ExISTS  ( wITh nOpArAllEL    AS ( â¨± ï¼‰  SeArcH dePTH fIrsT bY â¨± ASc  NULlS LaST    sET "" @ "" . "ð›†ƒ"       ï¼Œ "ð “Š"   ï¼ˆ "ð£Ž¬" @ :5    ( AlL )    , "" ( UNiQUe â¨±  , :2  ( â¨± ï¼‰   =>  â¨±   )   ( + ï¼‰   ï¼‰  aS ( â¨± ï¼‰  sEArch DePTH fIRSt By â¨± dESC  NuLlS FIrST   , â¨±   Set :à¦ªá²      CYCle "" @ ""   ( AlL DEFauLt  AS "" @ ""     ï¼Œ â¨±   ï¼‰   ( + )  , noCachE  ï¼ˆ )     SET exTENDed   .  "ð¨ªŠ"    tO ''    deFAulT q'=='       ï¼ˆ â¨± )  MinUs  ( â¨± ï¼‰  FoR UPDaTe oF  StAtEMeNt  @ â´…  . ÝŸ     , "" ( aLL )   .  "â›•" ï¼ˆ )   ( + ï¼‰   noWAit   oRdEr sIBliNGs BY â¨± Desc   ï¼Œ â¨± nuLLS lAst     WITh cHecK Option  ConSTRaint LOgOFF  @ "" . LOCKing       ï¼‰       as :97  @ TrAILinG       )   =>  DEfault  ""      COLuMnS nEW :8   .  "ð —¥" ï¼ˆ alL "ð­ š" @ NolOGGing    =>  â¨± :_#  @ temPLatE      , dEfAult    ï¼‰   ( + ï¼‰    mUlTIseT InTersecT diSTincT  cAST ï¼ˆ mULTIsEt ( ( â¨± ï¼‰  UNion AlL  SELecT â¨±  , "ð—«“" ( :35  @ "ð¢Š½"  ï¼ˆ "ð¤˜…"  =>  DefAuLt  BITMap      )   =>  dEFAUlt    )   =>  DeFaULt     INto "ð¬ š" @ "" . "ð­¯¼"  ( dIstiNCt )   ( alL ï¼‰   ï¼ˆ + ï¼‰  ï¼Œ delEte  @ "â†¡"   ( )      From â¨± PIVOt xmL ï¼ˆ â¨± aS "" @ Exit       For :6      IN ï¼ˆ â¨±  ""    ï¼‰   )      hAviNG â¨±    ORdER By â¨± nUlLs First     FoR UPdatE oF  :ã…¤  ï¼ˆ :26  @ :ï®¥ã†–   ( uniqUE â¨± as vArray  @ "ð˜Ž‰" @ ""      )   =>  â¨±   )   ( + ï¼‰  , "" @ ""   .  *     WITH read ONly  ConSTRAINt aGENt      ï¼‰  aS ( FalSE  ï¼Œ TruE  ) % RoWTyPe    )  aT lOCAL      *  TRIM ï¼ˆ â¨± fRoM  â¨± )      ||  + "" @ :64  . Ö³6    ( + )  % fOUnD  at time ZonE â¨±    at LoCal     ** dEcode ï¼ˆ â¨± ï¼Œ â¨± ï¼‰  At time ZOne dbTimEzonE         Is  iNfINITe     And not *   noT  liKe4  NULL   mulTiset inTERSeCt  VerSiOns  @ :6  . ""  ( DiStINCT ï¼‰   .  *   oVER ï¼ˆ paRTiTION bY â¨± as ""    , "ðª¶œ" ï¼ˆ NEXt  @ ""   =>  DEfaULT  As "ð—¥°" @ dISASsociATE      ï¼Œ DEFaulT  aS CoUNt      )   =>  â¨±    )              For orDInalItY  , CURrent of  "ð—”†" ( aLL )   ( â¨±  , dEfAULT    )   ( + ï¼‰       FOr ordinALitY   )  UnPIvot  ï¼ˆ "ð­¶¬" @ "ð—¬‘"   NoT   :_  @ #    DIstincT "ðª±¯"  =>  defaUlT  ValUe      )   =>  DEfAuLt   , EMpTy  @ ""   =>  â¨± "ï¼»" @ :38  . _0         >    â¨± prEBuILT  @ "ð˜ˆ®"      )  )                  for :35      in   ""      UniqUe     +       As DaTe ''''              AS :á¦¢á¨‡     INNer jOiN  â¨± oN not *   < =  USER  @ DIREcT_LOAD  @ "à²·"   .  "ðª‘£" @ ""    +   % bulK_exCEpTioNs . CouNT   AT LOCAL     ** - ""      KeEp  deNse_RanK LAST OrDEr siBLINGs BY â¨± aSc  nuLlS LaSt   ï¼Œ â¨± dEsc            MOD  Null  aT TiME ZonE sESSIONtIMeZoNE    MUlTisEt INtErsEcT  ?  at lOcaL       -  :5   UnIQuE DEfault            +   WItHIn grOUp  orDEr by â¨±       at TIME ZONE SEsSIOnTImeZone    MuLtiSET InTErSecT distINct  sYS_cOnnEct_BY_PAth  aLl    at LoCaL           AND CURrENT of  "ð£¯—" @ high    .  *          on *   noT  In   WITH "" @ "ð˜ž†" . :8    .  FiXeD  @ ""    as  â¨±   seaRcH BrEAdtH FIRsT bY â¨± nuLlS lasT   , â¨±   SeT "ð—¬š"  .  NCHaR_CS  @ "âˆ˜" @ ""       ï¼Œ "ð¤¶´"   aS  â¨±   cYCle :1   AlL Ï„   :_   =>  DeFaULt   ï¼Œ â¨±      =>  â¨± "" @ :36  @ ""     ï¼Œ "ð¬®”" @ "ð¨¸¢" @ leVel    "" @ "" . _    =>  deFault  As CoMMitTed         =>  â¨±       +    Set Key   .  AttrIBuTes  @ :#  . :66      tO 7F    DEfaUlT 0X        â¨±   minus  sElECT DistiNct defAULT  AS ""      iNTO noScaLE      froM  â¨±   As Of PeriOD FOr "ÚŒ"   +   â¨±     as "" @ CReATIoN      PArtItion bY  â¨±     natuRAl InnER JoIn  â¨±   , :75    PARtitIon  "" @ inValidATioN    all     â¨± as "" @ "ðŸˆ­" @ ""     , :ážª  @ ShRiNK    dIstinCT    =>  defAuLT          SAMPLE  â¨±      UnpIvOT iNcLUDe NuLlS  :52     foR  "ð¡±‰" @ "" . :qï°‚    "" @ _  @ "ðŸƒ¡"   dIStiNCt    =>  DeFaULT  PrIOr          ï¼Œ FINAL  @ DemanD    â¨± compuTe  @ "" @ ""          +        in   ""  .  *   +   ï¼Œ "" @ ""         ï¼Œ  à»•    +   ï¼Œ :2   UNiqUe     "" @ "" . "ð¥¬³"   =>  DeFaUlT   ï¼Œ salT  @ :_       =>  DeFaulT                      WHERe â¨±    oRDeR By â¨± dESc          AND SyS_connect_by_pAth  UniQue      ** nQ',ð¡·º,'    MuLtiseT eXCEPt  ""  aLl â¨± aS "ð®š‹" @ WoRk      , â¨± ""         witHIN gROUp  ORdER SiBliNGs bY â¨± deSc  NULLS FIRST        AT locAl      /  Prior + â¨±     ** :2    +   % bULK_EXCePTions . COUNt            OR not EXisTs    â¨±   with chEck oPtIOn             usiNg  "" @ :3    unIqUE    .  *   +       , ThE  with SPAcE   .  ""    lIMit   .  "ð«Ž¦"   +      AS  â¨±   cycLe :ê ŒÖµ  @ "ð£¸"   DiStInct REly  @ jaVA       =>  DeFauLT        ï¼Œ :52    ""  UNiQUE    =>  DEfAUlt         sEt WraPPEd  @ à·¬áºœ    .  "ð­ž²" @ ""     TO InteRvAl '' YEAr  .4e1        DeFauLt u''''       SEleCT uNIque   "" @ "ð”—š" @ :24    =>  â¨± As "" @ ""     , dEfAULt  SHariNg        <   "ð§³‚"  =>  â¨±        AnD nOT *   NoT  iN  "" @ :90  . haSh    .  *   +   % bUlk_ROWCounT  â¨±     At TIME ZONe dbTImeZOnE    mUltISET inTersecT   â¨±     ** cUrsOR  â¨±   At LocaL    MultIsET iNteRsECT distInCt  xMlcaST  MuLtiseT  â¨±   as _1   â¨±  ï¼Œ "ð“‰›" @ "ð¢›³"   alL dEfAULt  aS "â¿€" @ :39          =>  DEFAuLT  SUPPLeMeNTAl          +         *  XmLagg  â¨±       +  PRiOR syS_ConnEct_By_paTH     At TImE ZoNE DBtImezONe     at locAL     ** - CHr  â¨± USing NchAR_cs    aT TiME zone SEssIOnTimEZONE    MultisEt eXcePT diSTInct  triM  BOtH froM  â¨±             Or Not curReNt Of  InClUDE      and *           from THE  â¨±   pIvoT XML  :17  @ :#  . ASSociate    DiStiNct DEFaulT   ï¼Œ Null  aT Local         Is EMpty     And Not *   is  not  nULl      Or not EXIStS   â¨±     AND CURrEnt of  :_7  @ "ð§’Ÿ"       "ð¨•"  =>  DEfAult  AS ""    ï¼Œ â¨± inDIces  @ á¤«Û¤  . :43                As "" @ "" . "ð¦º"         =>  NOT xMlAgG  â¨±    mULTiset ExCePT  ?          AnD decOdE  â¨±   at tIMe ZoNe SeSSioNTimEzONE     ** eXTRAcT  "" @ ONlY    =>  DEfaULt    , *      aT LocAl    MULTISet INteRsecT  eXTrACT  SECOnd FRom â¨±    aT TIme ZONE xmlQUery  *   paSSinG *   As Keep  @ "ðŸ ”"         RetUrnInG COnTENt           ||  ""  DisTinct Never   =>  â¨±       +   oVer  ParTitIon by DefauLT  as INclUDe       oRDEr SIBlINgs BY â¨±    Rows bETWeeN â¨±  PREcEding  anD UNBOuNdEd fOllOwinG        mULTisEt UNIon DIstiNCT  exTRAcTvalue  ""  =>  â¨±   ï¼Œ DEcODE  â¨±   at TiME ZONe â¨±    MUlTiset UniON DiStINCT  cONnECt_By_ROOt â¨±    ** ï±   @ "ï±" @ "ð›‰ž"    +   Over  ORDER By â¨±       at LocAL      *  NchR  â¨±     ** CASe â¨± WHeN â¨± thEn â¨±   EnD  aT TImE Zone â¨±       -  trAnslAtE  â¨± uSiNg char_cs      mod  XmlAGg  â¨± oRdeR SIBLIngS By â¨± NulLs laST   , â¨± deSc  NUlls fiRST       aT LOcAl    muLtiseT ExCepT  "" @ "à° "   AlL     :44      =>  dEfaUlT   , â¨± ExteNdEd  @ REVErSE             ** exTRAct  daY FrOm dAte  â¨±     MuLTiSEt UniON distincT  ?  At tImE zoNe dbTImEzOnE               *  :81  @ :1    unIQUe DEFauLT   , â¨± "" @ :à°—  @ ""          AT tIMe zonE sesSIonTiMEZONe     ** ?        not  BeTweeN  *   AND  *          foR "" @ "" @ #6    .  *   +     In  â¨±        VerSions BEtWEEn TimeSTaMP  TRim   "â…¨"  DisTinCT    =>  deFaulT  as cHuNk        oVerLaps  oUT   =>  DEFaULT   ï¼Œ â¨± AS "" @ "" . NOCaChe             And nOt ExIsts   â¨±          At locaL    MULTISet UnIoN  tREat  CurRENt Of  :8  @ "ð¥¢¤" @ "ð¦²¨"    +      or nOt *     aND priOr â¨±  At lOCal      /  ChR  â¨± USiNG NcHAR_cS   At lOcaL       ||  + â¨±    mod  U''     ** "" @ :#  . "ð©¤»"   â¨±       +   keeP  DensE_ranK lASt OrDeR by â¨± NullS LasT   ï¼Œ â¨± ASc       oVeR     AT timE ZoNe â¨±    mULTISet uNion  deCoDe  â¨±   at TiMe zoNe dBTimEZoNe         NOT  betweEN  *   and  ExTraCt  tImeZOne_abbR fROm datE  â¨±      **  â¨±   MUlTISet InteRSect ALL  casT  â¨± As iNteRVaL  "â¼£"   tO  ALL    "ð¬±¶"  dIStINCT lOB  @ SeRIaLLy_rEUsABlE  . :98       =>  deFAUlt  ""         +    RaNge â¨± ..  â¨±      At lOcAl      /   â¨±   muLTiSEt InteRSeCT  :6   .  "ð¥«„" @ aLLoW    uniqUe seRVeReRROR   =>  DefauLT        % BuLk_ROwCOUnT  â¨±     At TIME Zone SESSIontiMeZoNe       +  inTerVal 'â¿‘' moNtH  1.1D   ï¼Œ q'<>'      to yEar    aT lOcAL    mulTiseT iNTerSECT ALL   â¨±     MoD  â¾—áº»    All     wiThIn GRoUP  ORDer By â¨± Asc       over  ParTITioN bY â¨± "ó „¦"    , "" @ :_  . SeSSionTiMEZoNe    =>  â¨±       At TIME zoNe â¨±    MultIsET EXCePT  "" @ "ð”“"   DEfaUlT  aS SubPArTitIoNs          +   oVeR       **  â¨±   at tIme Zone seSSiontIMEZoNe    muLTiseT inTERSeCt dIStINCT  cURsOr  â¨±   AT lOCAL              aS _á‹º  @ "" . ""       . KEeP  @ "ð¨ˆ"      .  *   +        *  xMlAgG  not CasE â¨± wHEn â¨± tHEn â¨±  eLsE â¨±   ENd    ** PrIor â¨±  AT LoCAL         NOt  IN    DEFault   ï¼Œ :9      =>  â¨± as rePLACE                 ** ""   +   witHIn gROuP  oRdeR by NOT   :á €  @ "â¾"   =>  â¨±  ï¼Œ "ð«¶"  UnIqUe DEFAuLt  "ð®’“" @ :6  . paraLleL_enAbLe      ï¼Œ :8  @ m_  @ ""   defAUlt  "ð °·" @ REtENtion      , ""  =>  â¨±      =>  â¨±      =>  DEfAult  aS COMPACt  @ "â‚„"        =     DEFaUlt  aS ""    , â¨± ï°¬#        ,  â¨±       ,   â¨± ï¼Œ â¨±          aND  CoMpLete  @ ""   UnIque    =>  DefAULT   , defaUlT      overlaPs  "ð—…‹" @ EvALUaTE  @ ""   UnIQUe :8   =>  â¨±      =>  â¨± :28  @ PaRaLlEl      , â¨± as "" @ ""             oR NOt   "ð¨Š•" @ :â¼¤    =>  DeFAUlT  lesS     ï¼Œ DEFauLT  as "ð¡œ²"       iN   â¨±         ASc  NULLs firSt   ï¼Œ NOT  â¨±     OveRLAPS  DEfaULt   ï¼Œ _$      =>  â¨±                 ovEr  PARtITiOn bY "ð¬´º"  =>  deFaUlt  as "" @ "ê¤¸"     , ObJeCt  @ "ð¢“œ"      =>  "ð¥¹¿"  ALL deFauLT   ï¼Œ â¨± dirECt_LOad          unIQUe â¨±  , dEFaUlt  MineXtENTs  @ :4           kEeP  dense_rank LaST OrDEr SibLiNgs by â¨± Desc  NuLlS FIRSt   ï¼Œ â¨± Asc       oVER  pARTiTIOn by ""  =>  defaULt   , :_  @ "ð—Œ" . HEAP    =>  â¨± as "ð¡"      ordEr siBLiNGS By â¨± nUlLs lAsT     RANgE BetWeEn cURREnT Row  ANd cuRRent row         ** XMLquery  â¨± PasSiNG bY valUE â¨± AS :57    +     reTUrnINg ContenT     multIseT IntErSeCt  neW "" @ INSTaNCE    dEfaUlT  as :_  @ "ð—¾±" @ :8            At tIME zOnE DBtImeZONE         Not SuBmuLTISet oF *             ORdEr by  â¨±   At LoCaL         is nOt oF tyPE  onLy "ð¢žˆ"           nUlLs lASt        AT tIMe zone DBtImEZone         aNd XmlcaST  EXIstS   â¨±        as Ref :5  @ mEDiUm                       pARTItioN bY  "ð¬¡"  uniQUE    =>  DeFAUlt         wherE NOt CURrent OF  "ðª–†" @ "ð —½"   ALl â¨± RESult_CaCHE  @ #ï­´          .  BULk_ROWcOUNT          cOnNeCT bY nOcyCLE NOT *   is oF  "ð™¼"            sTArt WITH - treaT  â¨± As Ref "ð¨‰”" @ befoRe          At timE ZoNe casT  MuLTISet  â¨±   As naTIonAL CHar  Ú2      =>  â¨±       cHArACtER sET â¨±      at lOcaL            bETwEeN   â¨±        aND  *         HAvIng *   betWeEN  *   aNd  trAnslAtE  â¨± USIng Char_cs               GRouP By           OrDer by NOt  RepLACe  @ "ð¯£­"   ALl    =>  DeFaUlT  As :4        oveRLAps  â¨±            DEsC     FOR UPdAtE WaiT 5D     wItH reAd Only       PaRtITioN By  "" @ ""   =>  DefauLt  FLASH_cAche  @ "ð—Š"        naTuRaL RiGhT  JOin  "ð£¤–"   sample  not *   IS A Set           "ð’Ÿ" @ Ý¢â²¾      PaRtITiOn By  DefAULT  AS MinExTENtS  @ ""          PIVot xmL  dEFaULt  as :_9      FOR "ð­ª³" @ UseR    .  "ð¢ ¹"      +     IN   :96   =>  currENt Of  SeRVeRERrOR    aLl "á¨Œ" @ ""   dEfAUlT       =>  â¨±       +                       wHerE NOt *   NoT  In    :7  @ :25    All    =>  â¨± "á¯¿"             COnnect BY ExiSTs   sELECT â¨±    bulK cOllEct iNTo "ð¤“"     From taBLe  â¨±   PIvot  opEn   =>  DEfAUlT  ShRinK  @ :5       FOR "ð•–" @ DeaLlOCaTE    uNiquE "ð¢¸¡"     =>  deFAuLt              IN  â¨±             wHErE â¨±  STart with â¨±  conNECT BY NOCYcLE â¨±  GROup by  GrOUPiNg sets  â¨±                           ORdEr By eXists   WIth "á§©" @ "ð£’…"     "ð¯ " @ "ð¥“Ÿ"   disTincT â¨± ""         +      As  â¨±   sEArCh BREaDTH FIrSt bY â¨± NULlS FiRST    SeT nOtfound  @ :á¸¾          â¨±           aSC     WitH rEAd ONly  cOnstRAiNT :#áŒ        cycLE :48  @ "ð¡˜¥"     sEt MedIUM     TO ''''    dEFAult 0x2        SELecT aLl not CoNNecT_By_RooT Null    At lOcAl     ** nEW :6    +    aT tIme zOne sesSiOntiMezOne         iS nOt oF  oNLy pOLymOrPhic               inTo "ã„³" @ lASt    âº¤ï´œ   All    =>  noT connEcT_bY_roOt Sys_cONnECT_By_PaTH  alL :ã‚›  @ prOCEDURe       =>  dEfauLt  as "" @ "ðŸ™"         At lOCaL     AT LOCAL     ** "" @ "à¦‰"    +   % BulK_roWCounT  â¨±           LikE4  *   EsCapE â¨±       As ""         +     FrOm ThE  WItH :28  @ EXIsTS      ""      as  â¨±      â¨±   fOR UPDATe of  "ð§œ“" @ #8    .  :6   ALL      WAIt iNTerVAl '''' monTH      OrdeR sIBlINGs bY nOT CurReNT OF  exTEnt       +        aSc  nULLs LaST         Natural jOin   sElEcT "ð¤¬ˆ"  =>  DEfaUlt     FROM jSOn_tabLE  EXisTS   â¨±        , TIMESTaMp ''    cOlUMnS  month    tImEstAMp  WitH  DEFaUlt       TIme  ZonE  diSTiNcT DEfAULt  ""         CharacTer sEt xMLquEry  *   PASSiNg *   AS "" @ "ð˜˜‡"      retUrNINg COnTeNT      ** tRiM  â¨± FRom  â¨±         > =  IntervAL 'ð¡°™' dAy  dATe ''''   ï¼Œ U'ðª¾'      TO MInuTe    At tiME zOne dBtImEzonE     ** cASE  eNd  at tImE ZONe + â¨±               % CHARSet     truNCate FormAt jSoN wITh uncOndiTiONAL wRapPER  path 1.8e-8D          AS oF TiMesTamp  ï¯¥à¾™  @ ExTERNaLLy     â¨± As "ð˜—"       OVErLAPS  ""  =>  dEfauLT             :#  @ ""         =>  NOT *   Is  nOt  Null             "ð£Œ£" @ ""     INneR jOIn  â¨± uSiNg  "ð °®" @ ""   .  *      uNPIvOT EXCLUdE NULLS   MAxVaLuE  @ BAsIc    DIStInCt     nOt CURREnt OF  :88   .  *   +              +       fOr  CONStAnT  @ :7    UNIque          in  ""  alL     +    AS 2              coNNeCT BY noCyclE not tReAt  â¨± as #_  @ á§Ÿ         At LocaL         nOT  liKe  cUrSOR  â¨±     ** casT  â¨± AS rEF rEstricT_rEfeReNcEs  @ "ð§ž "   UNiqUe "ð¢¨"  =>  DEfaUlT        +    RAnGE â¨± ..  â¨±      at lOcaL         EsCAPE â¨±          for Update skIp LocKED   wITh chEck OptioN      UnpIVOt excLuDe nulLS  oNlINe   UnIqUE exisTs   seLEcT All "ðŸ§¨"  =>  DEFAuLt  aS "ðž±¼" @ "ð§Ž­"       BuLk COlLECt INto fIrst  @ :5           FRom  â¨±    pArTitIOn bY  dEfauLT  "ð¨„"        pIvot  RElatiOnAl  @ ""   =>  â¨± :_áœ      fOR  "ð­‡ˆ" @ REcYCle          in  â¨±          STaRT wiTh â¨±  CONNecT by nOCYclE â¨±  Group By  â¨±         haViNg â¨±    ORdER SiblIngS bY â¨±    foR UPDatE oF  "ð¡Œ¯" @ :72          wItH read ONlY  cOnSTrAinT ""  â¨±                      +    fOr ""        IN   OpEN  @ ""   All "" @ ERror    =>  deFault       .  :àµ€ï®¿       +               VERsioNs PErIOD FOr "á˜"   +   not *   IS nOT of TYPe  _5             + á€¢   DiSTIncT     *        AS "" @ ""          WITHin GroUP  OrDer siblinGS BY exIsTs   WITH escape  @ NocAChE     aS  â¨±   sEarcH bREaDTH FIrst BY â¨± ASc    SET ""        â¨±           Asc  nulLS lasT         AT TIMe zOne CONNect_by_rOOT â¨±  aT lOCAL            and *       pARtitION bY  :22  @ ""   =>  DeFaUlt          wheRe prIOR :6  @ "ð­†‘"   DIstINCT     uNiquE DEFauLt  aS ""                 ~ =  sOmE   â¨±           HaVIng noT CuRRENt of  "ð¨œ¥"  uNiquE    .  *   +         GROuP bY              OrDEr SIBlInGs bY *   IS  NaN        nuLLS FirsT     WiTh rEaD OnLY           TheN NoT   ""  =>    "" @ SUBStitUTable    =>  dEFAULt  vAliDate        < >    DEbUg  @ :2    â¨± :65  @ "á¯„"         =>  deFaulT  "ð«" @ "ð©º½"                    noT  IN    nOt *   Is OF TyPe  oNLY :30  @ ""            as ""                else NoT "ð¢º¸" @ colleCt    .  :Ü“   BreADTH  @ :#    =>  dEfAULt        +   keEP  dEnsE_rANK FirSt ORDer By EXISTS   wITh sTAtic  @ depth     as  WITH ""    "ð©¬¥"      aS  sELEcT â¨± iNvALIDatE  @ Ä´        frOm XmLTablE  XMLnamESPaCES  deFAuLt    DefAult TrUE     ï¼Œ 5f   paSSiNG :4  @ ""   alL ""     =>  â¨± aS "ð—˜¦" @ "ð“Œ°"         =>  dEFauLT         PARtitioN by  OUt  @ ""   =>  DEFauLT  As ""        pIVoT Xml  â¨±   fOR  "ð—¼…"  :_   =>  DEfAUlT  as NoRelY          +        in  any            whERE â¨±  GROuP bY             HavinG â¨±    FOr UpDAte OF  ""   DistINCT       orDer By â¨±    WitH CHeCK OpTiON  cOnStRaiNt :6  @ :_â½¡    DIStinCT "ð¡¡¯"     =>  â¨±           SearcH dePTh first bY â¨± dEsc  NulLs FIRSt    sEt dEfeRreD  @ ""      CycLe "ð¥¶Ž" @ FoREIgn     â¨± ""         +    Set :32     tO TIMeSTamP 'ð®¨–'    DefauLT n'à°±'        with "" @ "ðŸ§¨"    aS  â¨±   cyCLe "ó ‡"  .  overlaPs   DISTINCT â¨± as :76           seT "ð¢²µ" @ PIpelINED      tO nQ'~~'    DEFault DAtE ''        â¨±      fOR UPDatE SKIp LoCked      SearcH BrEaDth fIRsT by â¨±   seT "á´" @ :6         seLECT AlL dEfAULT     bUlk cOLleCt INTO :áœ³  @ cOalEscE    unIQUE    .  *     From jsON_tABle  â¨± CoLumnS  clOb    LonG       trUncAtE       unPIVOT   á­    +       foR dEfeRraBLE  @ ""    ALL       in   ""  .  "ð¢“’" @ :_    :3      =>  â¨±       +       AS  4                Join    selEct all DEfauLt     bUlk colleCt INTo "" @ ""   dIStinCt     ALl DEFAuLt  SHriNk            FroM  â¨±     UNPiVOt incLUdE NUlls  dEmAnd  @ "ð©µ£"       +    foR  _1   uniqUE "ð˜£–"  =>  dEFAULt  As "" @ cHAR                iN   "" @ ""   "" @ _    =>  â¨±       +                 staRt witH â¨±  COnneCt by â¨±    oRDer SiblINgs bY â¨± DEsc  NUlls fIRSt     foR UPDAtE OF  :34     nowAIt   wITh READ OnLY      fOR upDAte  orDEr bY â¨± DEsC     WITH ReaD onlY      "ð—˜›" @ ""     paRtItIon by  PaRALLEl  @ "ð“…¢"   =>  â¨± "" @ vaRrays           unPIvot   âº™  @ "ð§¦º"   AlL â¨±      .  *   +       fOr "ðª”¢"   DISTiNCT       in  BOtH  @ :4    dEfAULT        +              COnNeCT bY â¨±  STaRt WIth â¨±  haViNg â¨±            NULlS lasT        AT lOcal     ** treat  not   "ðŸ’’"  =>  dEfaULt  as leFT        ï¼ =   With DEMAnd     :94    +      AS   wITH :5  @ StaTEMeNT      à¾¨Í¼  @ "ð­œš"      .  "" @ rAw    â¨±          AS  â¨±   seArch depTh fIRst By â¨±   Set baSIc      CYClE ""   UNiQuE "ð¨¤¿" @ "ð¬—"   DisTIncT    =>  dEFAUlt         SeT ""    tO tRuE    DeFAulT 0X9       selECt BuFfER_pooL   =>  â¨± aS "" @ :27        INTO ""      +     froM XmlTaBLe  TRUE   pASSIng By VAlUE ""  =>  DEFAuLT  "" @ "ðª¼‚"       cOluMNs â¨± vARCHAr  â¨± ChAR   COLlate :23       PAth 0xC   DeFAuLt â¨±     unPiVOt  :#  @ NOvaliDaTE    deFaUlT       .  *    for tAbLeSpacE    DistiNCT     +     IN  :Æ$  @ ""    +    as  n''''               veRSionS periOd FoR "" @ _    uniQue bitmap  @ "ð˜º"   =>  â¨± :64          bEtWeen  cursOR  â¨±   AT TiMe zONe seSSIoNtImEZonE     ** dEcoDe  â¨±         aNd *       PARtitiOn bY  â¨±        WhERE â¨±    orDer siBLiNgs BY â¨± nuLls fIRST        FoR UpdATE skIp locKeD   WiTH CHeCK oPTIOn  CONstRaiNT "ð¬¯´"             SELEct DeFAuLT  :à´       IntO "ð«‰" @ "ð¥‡"    â¨±         fROm tEMPlATE  @ :4     sUBpARtiTIon  PReSErvE   DIStINct    .  "" @ waIt    aLl olD  @ ""      =>  DeFaUlt  AS "ð˜‚·"           vERSions PErioD FOR :_7    +   â¨±   SelECt "ð”°"     =>  â¨±    FRom   â¨±  as oF PeRiOD FOr :88    bETWEEN     as "âœš" @ :ïº«ïºº      parTiTiON BY  DEFAUlT  "ð­¦Ÿ"            PIvot xML  "" @ dATafiLE    uNIQUe â¨± As :66  @ "ð«´‰"         =>  deFaulT  "" @ ""      fOR  conStrAinT  @ noRely         +        IN  anY            StART wItH â¨±  cONnECT BY NoCycLe â¨±  grOup BY grOUpIng SETS                foR uPDatE Of  "ð­‹¿"   +    noWaiT   OrDEr BY â¨± DESC     wITH cheCk OPTIOn        ** ""   +   % fOuND        AnD NchR  â¨±   At TimE zOnE SEsSiOnTIMEZoNE             CRosS JoIn  The  WitH _    AS  â¨±   sEArCh BREAdTH FiRsT bY â¨± DEsC  nuLLs FIrSt    SEt :8      cyClE "" @ "ðª™ƒ"   UniQue     aLl DeFaUlT        +    Set "ð¬»›" @ LASt      tO Q'~~'    DeFauLT ''''        â¨±       CROSs JOiN  "" @ "ð©¬š"    As of sCn  â½¦1  @ "ð­±ˆ"   â¨±      =>  deFAULT  COntInUE        PiVoT  ""  =>  dEfaUlt    fOr raise_aPPLICATIon_ErroR   â¨±      .  :76  @ á¡†ï»º       iN   prIMARY  @ ""      =>  â¨± AS :#  @ "ð˜¡Š"                   PARtItiON BY  deFAULT  "ð¨“ž"          pIvOt XmL  ""  =>  â¨±   fOR  DECOde   .  *        In  seLECT UniQUE "ß¬" @ SeCurEfILE    all    =>  â¨±    BuLK Collect iNto :5   AlL DefAULT  as :27         .  *     FrOm JSON_tAble  â¨± FoRmat JSON cOLUmns  "" @ ""    fOR ordinALiTy        PartITiOn bY  "" @ first    =>  â¨±     iNNER jOiN  XMLtABLE  xmLnamEspAces  dEFAUlt  As #        , 'ð¤…'      uNPiVot EXCLuDe nuLls   fIlESYSTem_LIke_lOGgINg   .  "" @ :6    DeFaULT        +       fOr  "" @ ASSoCIaTe     UNIquE     +        IN  sAmPlE   .  *    AS 'ð©²®'              aS :5     PaRtITIoN BY  :á§’  @ "ð£™"   dIStINcT "" @ :#    DIsTinCT    =>  â¨± "" @ ""         =>  â¨±     CrOSS JOIn   â¨±   pIvoT  "ð¤”„"  â¨± AS "ð˜„–" @ "ð££"         =>  DeFAUlt    For CondiTIoNAl      IN  â¨±            ON â¨±     connECt BY â¨±  STarT WITH â¨±  HaVING â¨±    orDer by â¨±    foR UPdATE WAIT InTERval '''' YEAR      wItH read ONly  cOnSTRaiNt SpLIT  @ nesTeD                WHere â¨±  CoNnECT by â¨±  grOUp By    â¨±             hAving â¨±    ORDer SIbLINGs By â¨± nUlls LaST        WITH cHECk OptIOn  cOnStrAInt :49              aS "Ö—"      . sCope  @ ""   DEfAulT  :20          aLl     +     At time Zone dBTiMezOnE         iN    ""     =>  nOT TRANslaTe  â¨± usINg chAR_cS     ** new ""             nOT MEMBEr oF *          as "" @ "ð¨¢"               End  aT tImE zONe XmLCaSt  mulTISEt  WiTH á‰  @ :9     as   wItH opAQUE  @ :71      "ð¤Ž"   +      As  â¨±   seArCH BreaDTH fIRST bY *        Asc    SEt ChAr_CS        sELEcT deFAUlT     BULK COllect iNTo old  @ EXECUTe    alL :á†ƒ6  @ "ð£…¶"   =>  CurRenT of  "ð—¸•" @ ""    +        "ð£²°"           frOM "" @ bUILtin     SaMPlE BLoCk  eXists   â¨±          seEd  NOT eXTRaCT  TimeZoNe_AbbR FRom â¨±      IS  nan           At TIME zone SeSsIONtimEZoNE     ** ""  aLl nOT CuRREnt oF  Ö–à¾›  @ ""                         lIkeC  *   esCaPE nOT  DEFAulT  aS "ð©ž‘" @ LOCkiNg         OVErLaPS  ""  aLl    =>  dEfaulT                       veRsIoNs beTWEen SCn  *   AnD _4  @ "ðª·¾"   "ê ³"  =>  nOT *   nOT  beTwEEN  â¨±      aND  *        As á¤¶  @ "ð’Œ"          % buLK_EXcePtIONS . counT   AT loCal     ** eXtrAct  deFAuLT    ï¼Œ *               "ð¤–…"    JoIN  "ð“ˆ¿" @ wrapPer     UNpIVoT IncLudE nUlLS  ""  UniqUe curRENt of  StArtUP  @ :6         +              +    fOr sEqUENce  @ "ðªœ§"       +     iN   rEDuCeD                as Of pEriOD FOr ""   DisTINcT :1  @ "ð¨°‚"   diStInCt DeFAUlT       =>  noT CUrSOr  â¨±   AT lOCAL         < =  *        :72          +   eXISts   â¨±             pARtItIon BY  DEFaUlT  :#ïµ²         on *   IS NOt a Set            sTaRT WitH   "" @ Restrict_rEFERences    NoT XmLQueRy  â¨±      PasSING *   AS ""  .  sECUREFiLE  @ MUlTIsEt        +     returNiNG coNtEnT          NOt  LIKe2  TrANSlaTE  â¨± uSINg chAr_cS   At loCAl     ** decOde  â¨±         EScapE â¨±       as :1  @ :á»          =>  DEFaUlt      not  In   â¨±          cONNECT By   "íŸ•"  =>  NOT CUrRENT of  "ð ¸‡" @ ""   all LoCking   =>  defAulT  "ð¬¦²"              As "" @ "ð®««"        >   â¨±          HAVINg *   Is a sEt           foR UpDaTe oF  "ðŸˆ¢" @ ""   dISTinct    .  *   +    sKip LOCKed      wItH CHECK Option      SeaRCh DePth firsT bY Not EXIsts    wITh :68  @ xmlnaMEsPACEs     as  â¨±     SeLecT AlL :79   =>  NOt $.5    ** xmLaGG  â¨± orDER By â¨± dESc  NulLS LaST       aT lOcAl         >  AlL   â¨±           IntO LANGuAGE   DefAuLT  ""           fRoM :##      uNpiVoT eXcLuDe NuLLS   "êš¸" @ _â¶«         FoR  "ð‘‡«"      +        In  JSOn   .  nULLS  @ ""               ConNEct bY NoCYcLe ?        Is  nOT  null           orDEr sibLiNGS bY EXisTS   â¨±           fOR upDatE oF  siBLinGS   DiStiNCT    .  *   +        orDEr BY not *   in    "" @ :2    alL DEFAUlt  "ð£Ž¥" @ :31          =>  â¨±          desC             NUlls LaSt    SET ""        seLEct DIsTIncT lOGoFf  @ "ð˜ž"      =>  dEfauLT     FrOm jSON_tABlE  not CUrrent of  "" @ ""    +        fORmAT JsoN COlUMNS  áŒ¬  @ :_7     TrUNcAtE       cUbe     PartitiOn bY  deFaulT  aS "" @ loGoN          PivOt  dEfAulT    fOR  ""  .  *        in  any            whERe pRioR â¨±  at time zoNE dbTImeZoNE         BetwEen  TrEat    "ð¤œ±"  DIsTiNCt    =>  *   iS of tyPE  :93                  +   AT LOcal     ** xMLCasT  NOt eXisTs   WITh :_6  @ ""    As  â¨±   cyCLE _Ä‹  @ "ð¬©¯"   unIQUe "" @ mAstEr    =>  â¨± as ""         UnIque      set :4  @ "ð®Œ¡"     TO tiMeStaMP 'ð£¾¦'    DefaULt 0x9       SElECT â¨±    INto ""   +     FrOM JSoN_taBle  â¨± cOlumnS  nested PATH ""    cOlUMNS  "ð¬Ž›"    FaLsE  , tRuE    ExisTs            JoiN   â¨±   aS "ðª†¯" @ sIZe          WHErE â¨±  sTaRT WiTH â¨±  coNNEct bY nocyClE â¨±  GRoUp bY CUBE   â¨±                      aS inteRVal  UnIQuE    :19  @ intErval     tO  aggreGATE  @ ""   á…˜   DEFault       =>  NOt *             .  ""  aLL "" @ "ð£¶’"   =>   dEFAulT  as :1        overlAps  ""     =>  deFauLt             PRecEDinG  @ "ð¦¾”"          +    rANge nOT curRENT Of  :_Ý„   UnIquE         +        ..  *   In    â¨±   foR uPdATe wAit true     wiTH CHECK optION                      AnD  + â¨± at TIME ZOne sESSiOntImezoNE     ** eXtRact  NoT â¨±  ** â¨±      NOt  liKE4  *   eSCAPe â¨±       "ð©˜³"     , â¨±       , *                  HAVINg eXIsts   with "ï°Œ" @ high      :66  @ ORdiNAlItY            As  â¨±   cyCle "ð«ƒ¾" @ á¡’     ""  uNIqUE CurRent Of  :ï¶˜  @ bEginnING    .  *             =>  DEfaulT  AS JAva          +    SEt :17  @ ""     tO dATe ''''    dEfAuLt INtERvAl 'â“¾' Year  4            â¨±   oRDEr sibLiNGS BY NoT *   NOT SUBmultiSEt oF CurSOR  â¨±   at TiMe zoNE â¨±                DESC  NUlls fIrST     for UPdATe sKIp LOCkEd   WItH reAD oNly  CoNStraINt sHriNk  @ ""              gROUp By  *   is not Of  REducEd  @ "êš‹"                      fOR updAtE OF  ""   +     orDeR sIBliNGS By nOT curREnt of  autoNOMOUS_tRANsaCTion  @ ""            desc     WItH check optIon      fOR UpDaTe of  ""  _  @ :36    aLl dEfauLt  AS :_         =>  DEFaulT         nOWAIT   ORder BY noT  ""  =>  nOt   lIbraRy  @ "ð«¤«"   uniQuE    =>  â¨±     <   â¨± "" @ PArALLEL_EnaBlE                   ovERlapS  DEFAUlt  as "á„­"                    AS ""           ** SyS_CONnecT_BY_PaTh  DIStINcT "" @ ""   =>  :14       +   % NOtFOund    ** cUrSoR  WIth exteNdED    AS   sElEcT all defaUlT     fRom  Table  â¨±   vErsiONS BetwEeN timEstamp  *   AnD Æ™7   "ð¦œŒ" @ bitmap    =>  eXiSTS   â¨±        :11  @ ""              +   oVeR             piVoT xmL  dEFauLt    fOr :6  @ PreCeDiNG       IN  â¨±          paRTitiON BY  DeFaulT  as "" @ ""         uNPiVot INcLUde NulLS  ""  diStinCt    .  ""  :áˆ©  @ maStER    =>  *   ^ =  ANY   â¨±        ""          FOR  "" @ :4     +        In  trUnCAtE   all ""  uniQUe ""  =>  DEfAult       =>  Not sYS_coNNecT_BY_PAth  UnIQuE    aT lOCAL         iS  INfiNITE        :6  @ ""          dISTInct      As  U''''                  PartiTiON bY  dEFAUlT      CROsS jOiN  XMltABle  timeSTamp 'ð®ƒ˜'   CoLUMnS CuRreNt of  SharINg  @ roWtYpe        +        lONG rAw    % rowtYpe    paTh UQ';ð£¸¡;'       PiVOt  :#Ç  @ àµ     UNIQUE NoT NchR  â¨±   at lOCAL         noT  in  nUlL    ** CREaTiOn  @ ""    WItHIN group  ORDER SiBliNGS BY â¨± Nulls fiRSt       OVeR  PaRTiTiON by â¨±  oRDer SIbLiNgS bY â¨± Asc     Rows â¨±  pRECeDINg       At TIMe ZOne DBtiMezoNE                    =>  ""   :#   =>  DEFaUlt  as ""         +   aT TiMe Zone SesSiONTIMEzone         LikE4  *          For "" @ ""       +     in   EXisTs   â¨±                     aS Of PerioD fOR tRUnCaTE  @ NEw    .  *   +   BetWeeN          wherE *         StarT WItH NoT  ""  alL    =>  â¨± :5  @ ""        OVeRlAps  deFAULT  AS ""               COnnecT bY Not EXiSTS   â¨±              WiTH rEad onLy  coNstRaINt :7  @ waIt    dEFAult  As ""             SearCH dEpth fIrST By Not *   ï¼ =  SOmE   ""  =>  defauLT           nullS LAST    set ReuSE  @ next       CyCle "" @ à¬·á„¬         SET ""    TO dATe ''''    dEFaulT 0X       sElEcT *   > =  - â¨±   **  â¨±             :9       BUlK colleCT into ""  .  *     FROM  xmlTaBLe  TiMestamp ''   paSSING EXIsTS   UniqUe DEFauLt       =>  NoT *   Is OF  ONlY :5  @ ""            ""         vERSIonS PerIOD FOr #  @ :á…‰     BEtwEeN  XMlAGG  nOt cuRREnt Of  "" @ ""   AlL â¨±       +          at LOcaL     ** exTrAct  cHR   =>   dEfauLt  "" @ ""        OvErlAPS  "" @ ""      =>  deFauLt               , â¨±    aT lOcal         and *     unpivoT   hASH   alL nOT xmlcAST  MulTiseT  with oPeRaTiONS  @ ""    As   â¨±   oRDeR by â¨± ASC        SEaRCH bReadTh fiRsT BY â¨± DEsC  NullS fIrSt    Set :4        sElect ""  =>  DefAUlT  as "" @ :ï¹3        INtO "" @ ParenT     :6  @ :9    =>  DeFAULt          froM  WiTH ErRor  @ ""     ""  uNIQUe    .  *   +      AS  â¨±   cyClE SorT    â¨±        seT ""    TO DaTe 'ð­œ¤'    dEFaULT        â¨±   OrDER BY â¨±    For UpdAtE NowaIT   WitH chECk OptIOn  cOnstrainT mod  @ #    all          PaRTItIon by  ""     =>  DeFauLT  REVerse        nAtURAl InNeR JOIN  â¨±    hAVing â¨±    for uPdatE oF  VarChaR  @ ""    +     ORDer sIbLings by â¨± NULLs laSt        as OpAQUe fIXEd  UnIque   usIng LIBRaRy ""  â¨± As "" @ ""         .  :_  @ :7    AlL         AT tImE zoNe DBTimeZoNe         IS  NuLl                  +       foR  â»°1         In  "" @ ""      .  ""   +                 As Of TiMesTAMp  :7  @ ""   =>  DEfaUlt  as ""       UnpIVOT eXCLUde nULlS  MERge   .  *   +    FOR  "" @ INiTraNS    Distinct currenT OF  :9   "" @ overFLOw   â¨±  =>  â¨± "" @ ""          uNiqUe deFauLT        +        AS :à°®Ç­               in   COnSTrAInTs  @ rOWCOuNt                  "" @ á¤±á€•      pARTITIoN bY  ""  =>  default       UNpiVOT   "" @ ""    +       FoR  maXtrAnS            IN  _2  @ ""   dIsTInct defaUlT  timEZonE_hour          +    AS INteRvAL '' MONTh  .D   , ''''                    wheRE   â¨± As :5  @ :9         IN   WiTh ""    scaLe  @ INVALidAte     dIsTinct        aS  SElEct aLL ""  =>  â¨±    FRoM THe  â¨±    LefT OUTEr  JOin  TaBle  â¨±    pARtItIoN bY  ""  â¨± as :#         =>  dEfAuLt      lEFT  JOIN  "" @ ""    SaMPlE blOCK  â¨±    PivoT  DeFaULT    fOR  "" @ UnUSED    alL     +        in  aNY            NATUrAl FUlL outeR  jOiN  â¨±  USING  à´¼6   all ""  =>  â¨±      .  :_  @ ""        Pivot  â¨± :8  @ ""      FOR fLaSH_cACHE    +     iN  â¨±  as SErIAlIzAbLe              grOuP by           ordeR sIbLIngS bY â¨± aSC     FOR upDAtE SKip lOCked   wITH rEAD onLY  consTRaiNt "" @ ""   DEfAuLT            Cycle cLoSE   :3  @ :â¾º2    =>  â¨± "" @ ""               Set dbtimEZONE  @ trAIliNG      TO .d    DEfaULT FAlSe       seLecT disTInCt ""  AlL    =>  defAulT     bulK COllECT INto "" @ Ç©       .  kEEP_dUPlICAteS    +     FROm TABlE  â¨±       WHeRe â¨±              connecT bY noT xmlQuerY  â¨± PAssiNG by ValUe â¨±   ReTURNInG cONTEnt      ** "" @ PERiOD    .  *   +   % NOTfoUnd        NOt  bETweEN  *   AND  pRIOR â¨±    ** TreaT  â¨± As ReF :3        At TIMe zONe â¨±               sTart WiTh  â¨± aS ""       OVerLAPS  ""  =>  â¨±             HavINg noT builD   alL "" @ ""   uNIqUE    =>  defaULt  As "" @ ""          OVer     aT Local               gRoUp bY   grOuPiNg SETS   *   SUBmUltISeT of *                             OrDer sIblInGS bY nOT *   BEtween  sYS_cONNeCt_BY_paTH  :9  @ ""   =>  dEFAuLT       at tIME zONe dBtiMezOne         ANd  TRIM  â¨± froM  â¨±     ** caSE â¨±  eNd             Nulls lAst              =  *        ""        At lOcaL                Bulk coLlECt InTO :5  @ leaDINg    distINCt nOT exIsTs    wITh :#$  @ #á¦“      ""   +      AS  wITH XMlTaBlE    as  â¨±      â¨±   fOR upDAtE  wITH rEAd OnlY      sEaRcH brEaDTh FIRST bY noT eXiSts   sElECT DEfAuLT     iNTo "" @ cHaR           froM XMLTaBLe  N'ð¤š¼'   CoLUmNS current OF  :3    +        FOr ORDINalITy     pIvOT Xml  DefauLt  "" @ ""      For  "" @ ""       all          In  â¨±          PARtition BY  reAd  @ :3    .  *   KEEP  densE_RAnK laSt ORDER SibLINGS BY â¨± NuLls fIrsT        aT TIMe zonE nULL  At lOcal                 aS :Ç‘  @ ""        JOin  jSOn_tABLE    ""  â¨±      =>  DEfAuLt  ""       > =     _à´¶   dIstInCT    =>  â¨±               formAT JSoN ï¼Œ c     COLumnS  :6  @ ""    tRUncatE format JSon       AS "" @ SEcond      pARTITioN by  onlINe   uNique dEFAUlt       =>  deFauLt  aS ""       LEFt  joiN   â¨± UNpIvoT IncLuDE nUllS  :3  @ CHAr     DEFault  fOraLL  @ ""           for "" @ ""   .  ""  uNiQUe ""  UNIqUE    =>  NOt eXISTs   â¨±        ""         +     In  :à¯‚  @ _      aS  nQ'{}'                 vERsIOns BeTweeN scN  ""   +   % BuLk_eXcEptiONs  *   NOT  iN   â¨±          . ErroR_iNDEx         and *     pIvOT xML  :8  @ ""   =>  *   LIKE2  ?               for  OpAquE            IN  â¨±           ON NoT NEw "" @ SEssiONTiMEzOnE     FoRAlL  @ LisT    DiSTiNCt    =>  dEfAULt         AT TiME zONE SEssioNtiMEzoNe     ** ""  â¨± AS :#  @ ""         .  ""   +   % NOtfoUND        iN   â¨±          UsInG  :9  @ :5    DIstINCt     +        COnnECt by nOCYcLe nOT cUrREnT Of  ""         GROuP BY rOlLUP  *   iS of TYPE  ONly ""                    HavinG Not NcHR  â¨±     ** -  â¨±   at lOCAl          iS  nOT  INfInitE                   asc    Set "" @ ""         WItH "" @ ValIDaTE     as  â¨±     SElEct PArtItiONS  @ â²—á„’    DeFAULT       =>  nOt EXIstS   â¨±        aS :8       fRoM  â¨±    nATUraL joiN  ""   sample  CuRRENt oF  NOTFOuNd  @ ""    +           UnPiVOT  ""  :5   =>  deFAulT         FOR  "" @ MaTeRiAlIZED        DiSTinCt     +        IN   :ãƒµ5  @ ""   .  *       AS  Uq'//'               As OF tiMEsTamp  cURrENt oF  ""  disTInct + tReat  â¨± As :1  @ ""       . ""   +     AT tIMe zoNE sESsiONTIMeZOne          is noT oF  oNLY _  @ liMIT             ""        .  FinAL  @ ""    +              pARTItioN By  ELSIF   ""  uNIqUe    =>  dEfAulT       =>  DEfAult      croSS JOiN  XmLtaBlE  XMlNAMEspAceS  DeFAULt 'à¯ˆ'     ï¼Œ .f   Columns not  FREEPoOLS  @ eXcEPtIoNs    =>  CurrENt Of  "" @ :3    diStInCt â¨±      .  *        AS ""       OverLAps  dEfaulT              TRUE  , tRue   % rowtYpE    path n''''   DefauLt nOT *   NOt  BeTweEN  *   AND  *            vErsioNs betwEEN TiMESTamp  TrAnsLATe  nOt "" @ ""    WiThIN grOuP  ORDeR BY noT + â¨± AT lOcAl     **  â¨±         < >  *              aT lOCaL     ** case  eND  At Time zONe caSt    HIgH   =>  â¨± :_        iN   â¨±         aS "" @ :á¡¯_        UniQUE deFAULt  "" @ ""          +   ranGe nOt *   nOT  LIKe  *        ..  *   BETweEn  â¨±      aNd  *                      iS Not EMPTY        USIng nCHAR_cs     ** TRIM  nOt eXIsTS   â¨±                And PRIoR trANslatE   DefAUlt  as :9        ovErLaPS  inItIALLY  @ ï¹ªá°    DISTInCT    =>  noT exiSts   â¨±        AS :1  @ ""               usIng ncHaR_cs   AT lOcAL     AT timE ZoNE dbtiMEzOne           PivoT XmL  ""  =>  NOt  *   iN  0X   AT LOcAl                  ** caSE  END  aT tIMe zOnE XmlQueRy  *   PaSsing BY vaLUe xmlcASt  eXIStS   â¨±        AS tiME     WITh  loCAL  uNIqUE DeFauLt       tImE  zonE        ** DecoDE  NoT   clOB  @ member    â¨±     =>  â¨±     Not  in    deFAulT  EXTEnd  @ ""                  aT LocaL           reTuRNiNg cOnTent             is nOt of typE  ""             foR :3   ""  =>  unCONditIONal    +   KEeP  dENsE_rANK FIRst OrDEr bY nOt *   Is  not  NAN        DESc       OVeR  partITiON By   â¨±    ^ =     â¨±             :8       Order BY cURrENt Of  "" @ _             nuLLS LaSt        At TimE ZOne dbtiMezONe         BEtwEEN  *   and  SharINg   .  "" @ ""   dIsTinCT â¨± =>  *   < >  AlL   â¨±        "" @ :Ö®           % isoPEN    ** uncoNdiTiONAL    dIsTincT     +              As ""           in  â¨±         :8  @ ""     InnEr join  â¨±    pIVot  DefAult    FOR  "" @ ""    +        in  ANy            coNnect bY nOcycle nOt extRact  dAY fRom DATE  NOt CurREnt Of  "" @ ""       unIqUE _áž²   =>  dEFAULt                      IS  iNFINite           WItH CHeCK OPTiOn      fOr UpDAte Wait iNTeRval '' mONTH  tO yeaR  tImEsTAmp ''''   ï¼Œ tiMEStaMp ''''          WiTh ReaD onlY  cOnSTrAiNt ""       ordER bY *   nOT  iN  *         DesC  nulLs lASt     FoR upDATe sKip LOCKED   wITH ChEck OPtIoN           "" @ ExCePT           +     USinG in NoT EXTRaCTValUE  "" @ cREAtiON       =>  dEfault    , Ä™8  @ recOrd    ALL dEfaULT  AS cRoSs  @ ""          kEeP  densE_raNK LaSt OrDeR SIbLINGs By not existS    SelEcT ALL :3  @ :#Î¬       =>  CuRREnt OF  ""   DEfaUlt             as ""      IntO :4   ALl     +     FROm JSOn_tabLe  exIstS   wITH #à®†  @ ""     "" @ GrouPIng     â¨±       +      as  â¨±   seARcH dePth FirsT by â¨±   Set ""     cycLe ""  ALl      SEt TrUe  @ peRCEntiLE_dIsc      to nQ'??'    defaULt FAlSE        â¨±   OrDeR sIbLINGS bY â¨± DesC  NUlLS LasT             foRmAt Json ï¼Œ 0X    COluMNS  ""   eXists PATh deNse_rANK            PartITIOn BY  :3  @ ""   AlL *   iS nOT a sET        as POLYmOrPhIC  @ ""         =>  dEfaulT         WHeRe noT Null  At locAl               start with NoT   :á€2   =>  â¨± As ""       iN   wIth "" @ SECONd      "" @ ""   AlL    .  *   +      AS  â¨±   seaRcH breAdTh FIRsT by â¨± Nulls FIRst    sEt :7  @ ""      CYcle cOMmiTtEd   .  _  @ BulK_EXceptIoNS        +    set :7     to    deFAulT DATe ''        â¨±   With rEaD oNlY             CONnEct BY *   mEMBeR Of *             foR updATe Of  :_#  @ ""   .  ""  DefAUlT         wAIt 'ð¨´ˆ'        FOr uPDAtE Of  "" @ OPTimaL    distincT     +     orDEr bY not  dEfauLT      OVERLapS  áº¹ãƒ’   =>  DEfAulT             asC             asc  NULLS LaSt       Over  PArTitION bY ""  NEw ""  .  *      **  selECT unIqUE "" @ ""   DiStINct    =>  NOt CURrEnt Of  :1    ALL â¨±     +        ""      BulK coLlECt INTo NomoniTORINg  @ OuteR    DEfaULt  "" @ â·•6             FRoM xmLTabLE  xMLnAmesPaCes  NOt ExiSTs    WitH lIke4    as  â¨±   CYcle ""   +    set ""    TO TruE    DefauLt interVAL 'ð¥ ½' SecoNd  .e     To sEConD        sELeCT DIstiNcT â¨±  FROm  tAbLe  â¨±   ""    PaRTitiOn BY  â¨±    UnpIVOT iNcluDe NulLS  "" @ ""         fOR  ordInALity  @ :6     +        In  recYCLE               as of scN  â¨±        HaviNG â¨±  GrouP BY  roLLup   â¨±                 With CHeCK oPtiOn  cOnstraiNt ISOPEn        foR UPdAte Of  "" @ ""   AlL â¨±     +    skIp LockEd   With chECK OPtiOn               , trUe       parTitioN by  :#Èª  @ ""   =>  DEfaULT  :â¾šã‚‚  @ SUPpLEMentAl         CRosS JoIN    WITH :2  @ ""     "" @ :8    DistInct eXisTs   â¨±                     as  â¨±     SeLECt nOT â¨±         fROm  â¨±   uNpIvOT InclUdE nuLLs   ""  vIRTUAl   DiStInct    =>  DefaUlT  AS :2  @ FAST               FoR "" @ ""      .  *     iN  _       alL ReDUcED  @ ""   =>  â¨± ~ =  SOme   â¨±        ""          aS DaTe ''               iNner jOIn  â¨± usinG  Online    +      uNpiVot InclUDE NuLLs   ""  DiSTInCT "" @ :2    =>  deFAuLt       .  NomONitorInG    +       fOR  :3            IN  "" @ ""       +    As n'ð¢¾'               whErE NOT â¨± NOt  lIke4  â¨± EScApE â¨±        sTaRT WiTH NoT â¨± sUbMUlTiSeT OF â¨±         coNneCT By NOcYCle â¨± is OF  :áŸ˜7  @ prIoR              GROUp BY  â¨± aS :4        oVerlaps  â¨± "" @ ""                         order BY NOT cUrReNt oF  "" @ _    .  *   +               PartItiON By  RowcounT   DiStincT â¨±    =>  DeFAUlT      CrOSs JOIN  XMlTaBLE  'ð¢²'   PaSsIng BY VALUe DEFault  AS "" @ Chr        COlumnS CurrenT OF  "" @ ""    +        for OrdINalitY     verSIOns PerIoD fOr "" @ ""   UnIqUe    .  ""   bETWEEN  â¨± ANd â¨±          CONNecT BY CuRrENt oF  loCKeD   uniqUE DefAULt        "" @ :2    =>  â¨± As NOlOgginG                StARt WitH NOt â¨± IN    :ï¶Œ  @ neW    =>  â¨±           GRoUp BY    #9   â¨±     =>  DEfaULT      < =   sEleCT DeFAULt  As ""      bUlk cOLLECt Into ""  dIsTINCT    .  :3  @ nOSoRt     +     froM    â¨±   For updAte wAiT n'ð¤®›'     OrDeR sIBLINGs bY â¨± Nulls lAST     WIth REaD oNly  COnSTrainT "" @ ""        PivOT xml  ""  =>  â¨± wriTe      foR  :_á‰®   :3  @ ""   =>  â¨±       â¨± aS "" @ at           +        IN  with eRrOR_iNdex  @ á†¼4     aS  â¨±   seaRCh bREADtH FirST bY â¨± dESC    sEt ""        â¨±           VErsioNs pErIOd fOR :7   AlL         â¨±  â¨± AnD â¨±     PArTItIoN bY  defauLt      nATuRal inNer JOIn  THE  sELEct DiStiNCT DefauLT     iNtO "" @ ""   AlL         +     FRom â¨±   wHErE â¨±  stArt WiTH â¨±  coNNEct BY nOCycle â¨±  hAving â¨±  groUP bY  â¨±         With chEcK opTiON  ConSTrAINt áž»àª‹  @ ""   ""  uniquE â¨±    =>  â¨±           as iNTerFaCE  @ NuLlS      innEr JoiN  â¨± on â¨±    pIVOt xMl  defaULt    FoR  :6  @ cHar    .  *        IN   â¨± bUiLD         "" @ ""                unPIvoT EXclUDe NuLlS  "" @ ""    +    foR ""  .  :áº©   :Ü¨3  @ KeY    ALl â¨±    =>  DEFAUlT  aS ""           In  ""              wHerE â¨±    oRDEr bY â¨±                     haviNG â¨± < >  AnY   with "" @ ""    As  wItH ""    ""   +      aS  â¨±      â¨±   for upDATe of  wait  @ ""   ALL          SKIP LoCKeD   wITh chEcK oPTion      SEarch DepTh FirsT bY â¨± nulLS laST    sEt SeconD  @ :5       CYcle _   all     +    SET ""    TO u''''    DefAulT TimeSTAmP ''       SELECT DIstinCT "" @ ""   =>  dEFAUlt  :7       from eDitiONs  @ ChARaCtER     sUbPaRTITIOn  BaSIcFiLe   .  *     sampLe BLock  â¨±   sEeD  â¨±     UnpiVot EXclUDe nulLS  _  @ ""   alL     â¨±       +    FOR  "" @ :5    ""  =>  DEFaUlt  :_               IN   COnVErT  @ StaRTUP    uniqUE     +               AS of PERiOd FOr ""   ALL     â¨±      NATurAl inNeR JOin  jSon_tAble  â¨± ï¼Œ .ed    coLuMns  ""   InTErvAL  ""  .  :8  @ ""   â¨± as "" @ :8           +   TO  ""  .  *   +    CHaRaCTER Set â¨±    FORmAT json WitH aRrAy wRappER  PATh 0x          vERSioNS PeRIoD FoR fiRSt_rOWs    DIStinCT     bETweEN  â¨± And â¨±     pARtitIoN By  "" @ ""   â¨±    =>  â¨±     lEft OUtER  joIn  jSoN_taBle  â¨± fOrMAT jSOn ï¼Œ $.   coLUMns  :á¨  @ tRUE     FOr orDiNAlitY       as ALLoW  @ ""     parTitIoN bY  :â¿²2      =>  defaulT      JOIn  â¨± USiNG  "" @ mAtcHeD    dIStinCt â¨± as "" @ ""              +          WHeRe â¨±  Start with â¨±  CONNecT BY â¨±  grOUp BY grOuPINg seTs  CuBE  â¨±               haVInG â¨±    ORDER bY â¨± ASc     FOr upDaTE of  :7  @ :4    .  ""  uNiqUE       With rEAd oNly              FOR UpDATE  OrDer SIBlIngS By not ExIStS    wItH PARallEl_eNABLE    aS  â¨±   CYClE muLTIset  @ ""   .  *   +    set ""    to inTeRvaL '''' MINutE  ''         DeFAULt DatE 'ð£«€'       SElECt #Ð¼   DIsTIncT â¨±    =>  dEFAulT     INto :_  @ _à³²    .  *   +     FROM "" @ ""    SUbPaRtiTIon  ""  UniqUE dEfAuLt  ""         â¨± Scn            As OF peRioD FoR LogGInG  @ mod        â¨±    piVoT  â¨± as C  @ ""      FOR ""   DistiNCt       IN  anY            parTITion by  DefaULt       PiVOT  "" @ ""   =>  DefAUlT    fOr  ""  "" @ Ä›á…­    =>  â¨± ""        .  :7         in  â¨±            CoNNect By nOcYcLe â¨±  StArT With â¨±       order by â¨± Nulls FirSt     FoR UPdAtE skip lOckED           ASC  NUllS lAst     WiTh reAD OnLy  cOnSTrAiNT NOkeeP  @ :2    UniqUE BItmap  @ ""      =>  DeFauLT            At TIME zOne sEssioNTiMEZonE         NOT  BEtweEn  ?  aT locAL     ** eXTracTvALUe  ""  DIstINCt â¨±     =>  â¨± bEtWeEN  â¨± and  â¨±      ParenT  @ ""      , â¨±  , â¨±          And  *             =>  nOt eXIsTS   witH "" @ :5      "" @ flaSH_CaChe     +      As  sElEcT DEfAuLT     BULk ColLECt inTO :4      FRom :3    AS :ïºŽ  @ ""     pArTITIOn BY  DEfAuLt  aS ""        PiVOt  comMit  @ ""   =>  NOT cOnnect_By_rooT â¨±  aT tIme ZOne SesSiontimezONE     ** cAsE â¨± ELSe â¨±   EnD        In  xMLAgG  â¨± oRDEr By â¨± aSc       aT tiMe ZONe â¨±               As loNg      FOR "" @ UNbOuNDEd        +     in  WitH "" @ ""     ""  UniQUE *   nOt  lIkec  *   eScape â¨±       #  @ :6              As  â¨±   SeaRcH BREADTh fiRSt BY nOT - â¨± at LOcAl         iS noT Empty        asC  NuLlS LasT    sET ""        â¨±               For UpdATe oF  :Ó†    +    sKIP loCKed   wIth chEck oPTION  coNStRAint Static  @ ""        CyCle ""  all     +    sET TiMEZONE_REGIOn     tO tIMEsTamp ''    dEFAULT trUe        WIth "" @ :8     AS  sEleCT diSTInCT ""  =>  DefAUlt     frOm tABle  eXistS   â¨±           CrOsS join  XmLTAblE  XMlnamesPaces  dEfAUlT Uq'..'     ï¼Œ .E-d   PaSSING :2  @ sUBparTItIOn       =>  dEfaULT     coLumns nOT  â¨±     ovErLaps  #  @ ""   =>  dEFaulT  aS mIN  @ ""               dOuBLE pREcIsioN  not currEnT Of  "" @ :Ç€    all ""  â¨±    =>  DEFauLT        +        ""             UNPiVOt iNCluDe NulLs  "" @ ""   All      for  eACh         in   ""   +       As iNtErval '''' YEAr  To dAy  E                 As oF PeriOD FOr :6  @ fLash_cAcHe            +   BETWEen     compOUnd     PaRTiTion bY  :â¼­   DiStiNCt SyS_ConnecT_by_PaTH           Is OF  onLY "" @ iSoPen             ""        =>  noT *   IS  noT  iNFInITe                HaVInG  DefAult  As #  @ ""        OVERLAPS  "" @ :1    =>  DEfAult                ORdER SibLinGs By not   â¨±     IN    iNdicaToR   â¨±      =>  defaULT  As ""               NuLLS FIRsT          seleCt OverfLOw  @ ""   =>  dEFAult  idEnTitY  @ :3        intO ÓŽ   ALl cURrENt of  "" @ ""    UniqUE DEfault             aS :#         .  *   +     fRom jSon_tABLE  *        CoLumnS  "" @ ""    TRuNCATE fORMAt JSOn        cROss JOIN   :5    unPIVOt  ""    fOr ""       +     IN   SAmPLe  @ BUIltIN    diSTINCT    .  *   +       As  Q'--'                 INner join  â¨±       UNpiVot EXClUDE nuLls   :9   uNIque         FOr "" @ minvaLue       iN  eXiT  @ áƒ­    DiSTINCt deFAUlt  "" @ ""         .  ""   +              wherE nOt ExtraCT  tiMEZoNE_RegIoN from â¨±    At timE ZOnE sessIONTIMezOnE         liKE  casT  â¨± aS DOuBLE preciSIon  raNGE â¨± ..  â¨±        ** :1   ""  =>  â¨±       OVer     At TiME zONE seSSIOntiMezoNE               cOnNeCt bY nOCYclE cuRreNT Of  sUPpLemENTal  @ ""              StART WItH EXIsTs    â¨±   foR uPDaTe  WITH rEaD onLY            haVInG NOt *   Is nOT A sET         GrOuP BY   gROupiNG sEts                      orDer sibLingS by NOT *   liKe  tREAT  â¨± as ReF :_8  @ :1        . LOGgING  @ ""   all       at lOCAl     ** xmLqUeRy  â¨± pAsSING â¨±   REtURning Content               deSC     FOr UpDaTe of  "" @ ""   ""  =>  ExISTS   WITH ""   aS  â¨±   sEArch DepTH fiRsT by â¨± aSc    sEt ""     cYcle à¸†  @ :4    AlL     â¨± AS sAlT          +    Set NExt  @ tIMezONE_aBbr      tO DAte ''    DEFaULT 0x        â¨±                 ""  =>  NOt xMLCaSt  â¨± AS tImE        **  â¨±  AT LOCaL                    +     WitH CHECK OptioN  cOnStraINt ""  dISTiNCT         orDeR sibLiNGS BY   deFAuLt  "" @ ""        noT  in   SeLEcT "" @ YeaR    =>  dEFAULT  "" @ ""       FROM   SElecT uniQUE :#  @ ""   =>  deFaULT     bUlk collECT iNTo NOorDEr       dIsTINcT       froM JSoN_taBlE  â¨± ColUmns  :4    oPAQUe fIxED  â¨±     uSIng lIbrARy ATtRiBUtE    +     Path :#1           Versions pERIod For  @    .  ""  "" @    dIStInct DEFAULt  AS "" @ ""         =>  â¨± aS ""         â¨±  - â¨±   ** TrIm  â¨±   At time Zone DbtimEZoNe         aND *     piVOT XML  "" @    =>  defAUlt    fOR    UnIQUe     +        in â¨±        PARTitION By   @ ""   =>  dEFaUlT       PIVOt xml  â¨±  @ ""      FOR ""      +     IN  aNy            wherE â¨±  grouP by                   fOR upDatE noWAiT   OrdEr by â¨± nULLS lAsT          piVOT xML  â¨±   foR  ""   +        iN   â¨±   WItH Check OPtIon             As     PaRtiTIon By  dEFaUlt  aS ""          Connect by â¨±  StaRt witH â¨±  HaVinG â¨±    fOr UPDaTE NOWaiT   oRDer siBliNGs by â¨± NUllS last     WiTh reAD Only  cONstrAint  @    aLL                  For uPDATe Of      sKIp LoCKeD            @        oRdER BY NOT *   iS  NoT  null        dEsc               , cOnNECt_BY_ROoT chR  noT â¨±      =  *        usiNg NcHar_CS   aT timE ZONE DbTimEzone                    Is NOT oF TYpE  OnLy "" @ ""              rETurN inTo ""  dIstinCt  @ ""   =>  cuRrenT OF  ""   +                  