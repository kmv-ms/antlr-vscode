AlTER iNdEx "ð¨¨´"   paRAMeteRs NOt tRim ( ExiStS  ï¼ˆ wITh :9  @ ""    ï¼ˆ StATic  ï¼ˆ DefAULT  ""     ï¼‰     )  as ( ( With bASIcfILE  @ :_ï±‰    .  :6  @ PUbLic     ( "Â¶" @ "" . "ã‡¿"   ï¼ˆ + ï¼‰   ï¼‰  AS ï¼ˆ â¨± )  cYCLe :_á¢£   .  *  ï¼ˆ + ï¼‰   seT "ð£“–"  .  ""    tO iNTERvaL '''' yeaR     DeFAULt 4.2e+4d      ï¼Œ ""   AS ï¼ˆ â¨± ï¼‰  sEarCH DEpTh fiRsT bY exIstS  ï¼ˆ â¨± ï¼‰    aND NOT *   is  NOt  nAN         , nOT ( à´¿7  ï¼ˆ alL "ð¬®†" @ ""   =>  â¨±  ï¼Œ â¨±   )   =>  dEfAUlt  PcTUsed  @ Ò•      , â¨± aS "ð£†š" @ eXTENt  @ nExT       )  ovERlAps ï¼ˆ "" @ ""  ( )   =>  dEFAULT    ï¼‰         desC  NULlS Last    sEt oNlY  @ "ð®ž…" @ ""   .  heAP        sEleCt DistINct DefaulT  as :9       fROm ( â¨± ï¼‰  as á ¡  @ :8      paRtITIon bY ( SoRT  @ "ï¶ƒ"  ( dIStInct "" ï¼ˆ AlL "Ä’"  =>  nOT *   Is A sET     ANd xmlQUeRY ï¼ˆ NuLl    ** TreAT ( â¨± AS Ref ""  .  "ðž‰" @ :4  . :_      )   At timE ZOnE sESSIOntImEZoNE    MUlTiSET EXcepT diSTINCT  new foUNd  @ InterFaCE    ï¼ˆ + ï¼‰   aT tImE zONe SessioNtimezONe         PassInG by VAlUE *   as pAREnT   ( ï¼‰     , CaSE â¨± whEN â¨± thEn â¨±  ELSE â¨±   eND     MOd  CURSor ï¼ˆ â¨± ï¼‰    ** DeCODe ï¼ˆ â¨± ï¼‰   MuLtIsET unioN diSTinCt  "ð¬©–"   % fOunD  At LocAL       ||  Sys_connECt_By_PaTh ï¼ˆ )   AT LoCAL    multISet intERsect  "ð¬©©" @ ""  ï¼ˆ UnIque ï¼‰   ï¼ˆ + ï¼‰  Keep ï¼ˆ densE_rANK LAsT ORDer by â¨± desC  nuLlS FiRST     )   at TIMe ZoNE DbTimezoNE     ** case WHEN â¨± Then â¨±  eLSE â¨±   EnD   MulTIsEt INteRSeCt  ExTracT ( timEzoNE_AbBr froM dAte  â¨±  ï¼‰  At LoCaL      Mod  "áŽ¡" @ "ï³ˆ" . "ï³‹"  ( â¨± )   .  à¹  @ :8  @ :8     ovEr ( ordER SIBlIngS by â¨± AsC  nuLls LasT   ï¼Œ â¨±    )     ** - â¨± at LoCal    muLTISet Union aLL  ?        AS "" ï¼ˆ disTiNct )   ï¼ˆ uNique â¨± )   ( + )    rETURnINg coNTeNT )    mULTISet iNTErsECT  CHr ï¼ˆ â¨± UsING NchAr_CS )  at tiME ZOne DBtImezoNe         nOt  beTWEEn  OnlINe  @ lOGoff  . oNly   ( )    % ROwcOUnT  aT lOcAl    MUlTISET unIOn  cURSor ( â¨± ï¼‰     *  cONNECT_bY_ROoT tRAnSlAte ï¼ˆ â¨± Using nCHaR_Cs )    At tiMe zONe xmLAGG ( â¨± )  at TimE zONE â¨±          +  :43   ï¼ˆ ALL â¨± ï¼‰    % BuLk_ROwcoUNt ( â¨± ï¼‰       MOD  + prIOr â¨±   At tIME ZONe SeSSiONTimezONE         anD  *        aS "" @ "" . "ð“ž"     ï¼Œ nOT CURrENT oF  dECODe  @ ""   .  "ð¶" @ :_7    ( + )    AnD *          )   =>  DeFauLt   , deFaULt  "ð§¾‡"     )   =>  CuRRENT OF  "" ï¼ˆ )   .  *  ( + )    aND (  :60  ï¼ˆ ï¼‰   =>  â¨±  ï¼Œ SELf  ï¼ˆ UNIQuE â¨±  , ORdInalItY  @ :à®‚8    =>  dEfaULt  #      ï¼‰   =>  DefaUlT    ï¼‰  iN  ( â¨± ï¼‰      OR NOT *     ANd not (  â¨± aS coaLEsCe  @ "á¶»" @ lIkec      , "ð ®Š"  =>  deFAult  aS :6      )  =  ( ï¼ˆ â¨±  ï¼Œ deFAUlT  "ð“†»" @ "Ï€"      ï¼‰  )        :93  @ TRuE      , ( â¨± ) at loCaL    MultisET inTeRSEcT DISTinct  "ð¦“" @ :_à²·  . wORK     % BULK_EXCEptIOns ï¼ˆ â¨± )  . ERroR_InDEX     ** OveRriDING  @ "ð ¶¶" . ""  ( ALL )   .  *   aT lOcAl      *  "" ( DEFAULt    )   ( + )  wIThiN gROUP ( OrDer by â¨± Desc     ï¼‰  ovEr ( pARTiTiOn By ï´„6  @ "ð®’·" . "ðª£"   =>  DeFaULt   , "" ï¼ˆ )   =>  â¨± As "ð—¿ˆ"      )    MUltiseT ExCEpT all  "ãŠª" @ SHrINK   ï¼ˆ All dEFaULt    )   ï¼ˆ "ðª‘" @ ""   =>  â¨±   ï¼‰    keEp ( DENsE_RANk fIrST oRDER sibLIngs By â¨±    )  OVer ( ï¼‰     ** ( â¨± ï¼‰  muLtisET inTeRSect DIsTINCt  $1.        <  soME  ( ( â¨± "ð¨€º"     ï¼‰  , ( :9  ( DefAuLt  as "ð §" @ ïµ–4  . cLOB       )   =>  deFAulT   ï¼Œ ""  =>  DEfauLt  aS cONsTraiNT  @ "ð«‘œ" @ "ð¡•Ž"      ï¼‰  ï¼‰         ï¼‰    ï¼Œ tHe ï¼ˆ â¨± ï¼‰  As oF ScN  NoT exiSTS  ( â¨± )    aND eXiSTS  ( â¨± )       as :3     ï¼Œ xmL   =>  CuRrENT OF  "" @ :ÙŒ  @ ERROR   ï¼ˆ alL ï¼‰   .  :6  @ #    ï¼ˆ + )    anD NoT PrIoR ?  at LOcal     At time zOnE eXtraCT ï¼ˆ cONsTrAints  @ ""  ï¼ˆ AlL â¨±   )   =>  â¨± ""     , *    )  at TIME zONe dBTImEZoNE       mUlTIsEt excEpT  XmLCAst ï¼ˆ mulTiseT ( â¨± )  AS OpAQuE fixEd ï¼ˆ all ï¼‰  USiNG lIbRAry "ð§‘"  ï¼ˆ + ï¼‰  ;  % TYPe    )  aT LoCal     ** cast ( muLtIsET ( â¨± ï¼‰  As NaTIonAl chAr vaRyInG    ï¼‰   multiSET IntERSECt  "" @ "ð§—’"  ( DeLETE  ( ALl ï¼‰   =>  defAULT   ï¼Œ DEFAuLT  :_  @ InvalidAtIoN  @ :5       )   ( + ï¼‰  withIN GrOuP ( orDEr BY â¨± NuLlS laSt     )      /  ï¼ˆ â¨± )  aT TIMe zoNE IndIcatOr  ( )   ( "ð—¾­" @ :4  . ""   =>  DEfaULt   , â¨±   ï¼‰    AT tIME zOne SeSSiOnTIMEZone       MULTISeT excEpT  :9    oVer ( PaRTItiOn by DEfAuLT  as CHR  @ "" @ NoMaPpIng        ORDeR BY â¨±    rOws BETWEeN CurREnt rOw  ANd â¨±  FOlloWINg    )       ||  XMlqUeRy ( *   pASSIng âº®à½†  ( ï¼‰    % NOTfouNd     *  NCHr ï¼ˆ â¨± )  At locAl    muLtISEt uNION aLl  CasT ( â¨± as "ð¥¨»" @ :#     RANgE â¨± ..  â¨±    ï¼‰    ** transLATe ( â¨± usING ncHaR_cS ï¼‰  aT LocAL    MUltiSET INtERSecT dISTINCt  tReAT ï¼ˆ â¨± as "Îž"    )          , *   AS scHemA  @ "ð«“Ž"   ( DistInCT ""  =>  DEFAUlT  :61     , "" ( DiSTinCT ï¼‰   =>  â¨±   ï¼‰   ï¼ˆ + )    RetuRNiNg ConTeNT ï¼‰   At lOCaL      *  tRIm ï¼ˆ â¨± FRom  â¨± )  AT tIME zoNE SEssIonTIMEzONe    MulTIseT unioN  DeCOde ( â¨± ï¼Œ â¨± )    ** ï¼ˆ â¨± )   mulTiSEt IntErsEcT  CASE â¨± when â¨± THen â¨±   EnD  At lOcaL         NOT  BEtWEeN  PriOr - â¨± At LocAl       ** CUrsoR ï¼ˆ â¨± )  At tiMe ZoNE dBtImEZOne    muLTISeT INTErSECT dIsTINct  xmLcASt ( â¨± AS rAw ( ï¼‰     ï¼‰     /  ( â¨± )  AT Time ZOnE DBTimeZonE    muLtiSeT uNION  EXTrActVALue ( â¨±   , *    ï¼Œ *    ï¼‰        AnD  Cast ï¼ˆ MUltISET ï¼ˆ â¨± )  as InTERvaL ï¼ˆ default  As "" @ DEtermiNIStiC      , XMltyPe  @ "ê¦¸"  ( UniQUE ï¼‰   =>  DeFAUlT  "ð—’›"     )   :63   ï¼ˆ + ï¼‰  To  "" @ :#    ( + ï¼‰   CHArActer SET â¨± % CHArSet     ï¼‰     /  CHR ( â¨± USing NChAr_CS )  AT LOcAL    muLTiset iNtErsecT  exTraCT ( TImEzONE_ABbR FrOm â¨±  )    ** eXTRaCT ( hour fRoM â¨±  ï¼‰  aT TiMe zOne syS_cONNect_By_paTh ( all )   AT LOcAL       muLtiSeT eXCEpT AlL  - ''   At TIMe zonE seSsioNTimezOne        -  nULL  at TImE ZONE + â¨±     mulTisET UNIOn aLl  ê ™  ( "" @ "ðªšœ"  ï¼ˆ DIsTinCt DeFaULT   , â¨± MaTERIALIzEd      ï¼‰   =>  â¨±   )   .  *      *  NeW "ð ¨•" ï¼ˆ distiNCT â¨± as noMinvAluE  @ "ï»·"      )   ï¼ˆ + )    mUltIsET UNion DisTincT  CoNNEct_By_rOOt + â¨± at LoCal     At lOCal     ** :2  @ sERiALLy_ReusaBle  @ "ð§µ¬"    OvEr ï¼ˆ )   At tIME ZOne sEssIONtImEzone              as somE  @ :_à´  @ "ð®¸"          nATUraL JoiN  jSOn_TaBLE ï¼ˆ "ð¬·œ"  ï¼ˆ :17  @ "â·“"  ( ï¼‰   =>  dEfAULt    )    % bULK_excEptiONs . cOUnt    MultISet uNioN dIsTinct  NEW eMpTY  @ dOUBLe   ( unIqUE )   .  *    AT LocAL     ** q'=ð­¨²='      /  XMLquEry ï¼ˆ eXtrAct ï¼ˆ #Ä„   =>  â¨±   ï¼Œ â¨±  )   mUlTiSET unioN  ExTracTVAlUE ( â¨± "ð­£š"     , â¨±  ï¼‰        PassInG bY VaLue *     REtuRnING ContenT ï¼‰   At tIME ZoNe DbtImezONE     ** DEcOde ( â¨± ï¼‰  AT LoCAl         like2  *   eSCaPe â¨±     OR nOT ( â¨± ï¼‰    mod  xmLcaST ï¼ˆ MuLtISET ( â¨± )  As inTERvaL  "" @ caSCAdE  @ :7   ( ""  =>  dEfaULt  "ð¡•¹" @ "" @ ""     , â¨±   ï¼‰   ï¼ˆ All ï¼‰   ( + )  to ï¼ˆ UnIque aggREGatE  @ ""  ï¼ˆ ï¼‰   =>  defAult   , "ð‘œ" @ "ð‘–¨"  ï¼ˆ defAULT  AS :74      ï¼‰   =>  â¨±   ï¼‰   "ðŸ•Š"  ï¼ˆ + ï¼‰    ï¼‰   mULTisEt exCepT  XmlCast ï¼ˆ â¨± AS ( TRUe  ï¼Œ tRuE  ï¼‰ RANgE â¨± ..  â¨±    ï¼‰  AT tImE ZoNE XMlqUeRY ï¼ˆ â¨± mUltIsEt ExCEPT dISTINCt  â¨±      PassING *    , â¨± MUlTIsET intERseCt  â¨±  ** â¨± MultISET INTERSEcT  â¨±   *  â¨± mULtISet IntERsECT DisTINct  â¨±    ||  â¨± MultiSEt iNTeRseCt aLl  â¨±  ** â¨±   mOd  â¨±        ReturNINg CONTent )   aT LoCAL        ** trIm ï¼ˆ â¨± ï¼‰   MuLTiset UNioN dIStINct  + NULL   aT tIME zone DBtIMEzoNe       -  TRanSlAte ( â¨± USINg chAR_cS )        is Of TYpe ï¼ˆ ONlY "ð¨˜¶" @ :á†…8    .  "ð‚½" @ "ð£‘­" @ oPtiMAl     ï¼Œ Õ    )     And not cuRrenT Of  cHaRSET  @ memOPtImiZe    ( )   ï¼ˆ + )       fOrMAT jSOn cOLuMnS ( :30  @ :3    .  "" @ ""    tRUnCatE ERROr on  Error    )  )  unPiVOt iNclUdE nUlls ï¼ˆ ( noKEEP  ( UniqUE :9   =>  "" @ "ð’„«"    kEEP ( densE_Rank FiRST OrDEr By â¨± deSC  nULLS fiRST     )  ovEr ï¼ˆ PaRTITioN bY DeFAUlt     ï¼‰   aT LoCaL     ** xMLagg ( â¨± )   MuLTiSET UnioN  xMLAGG ( â¨± ORDEr BY â¨± NullS last     ï¼‰  aT time zonE SEsSIoNtiMEzoNE       -  ?     moD  exTRaCT ( TIMEzoNe_REgioN fROM DAtE  â¨±  ï¼‰        iN  ( â¨± ï¼‰    ANd not CuRreNt oF  "ð¢„¾" ï¼ˆ UNiquE ï¼‰         "" @ sharDed      , ""  =>  NOT ( _  @ SubparTITION  . "ð£€­"  ï¼ˆ dIstiNct DEFaULt   ï¼Œ â¨± aS iNiTranS      ï¼‰   =>  defAULT   ï¼Œ deFaulT  :Ð¶      ï¼‰  oVerlapS ( :#   =>  â¨±  ï¼Œ â¨± as ""     )           ï¼‰   .  "ð£›²" @ LEvEls   ( "ê¨®" @ ""   =>  DEFaUlt  bInArY     ï¼Œ defAuLt  aS "à®°" @ ""      )   ( + )  ï¼Œ "ð¥¢­" ( ï¼‰   ï¼ˆ + )   )   for :73  @ ""      in ( :65  ( UniQUE ï¼‰   ( unIquE hASh  ( UnIquE ï¼‰   =>  deFaUlT    )      )   ï¼‰    vErsiOnS bETwEeN TImEsTamp  *   AND *       LeFT oUTeR  JOiN  ï¼ˆ â¨± pivOt ( "ð¡›†" @ cOlLAtiON    =>  eXisTs  ï¼ˆ â¨± ï¼‰     or XmLAGg ï¼ˆ â¨± OrdER sIBLINgs bY â¨± Asc     )  at loCal     ** syS_ConNecT_by_Path ï¼ˆ DeFAuLt  As :83  @ UnUseD  . sEsSiONTIMezOne       )    muLTIset uNION  trEaT ï¼ˆ â¨± As ""    ï¼‰  . Øµ8  @ "ð‘²•" . "ð­Ž¤"  ( )   ( + )    At tIMe zOnE ""  ( + ï¼‰  withiN grOup ( ORDeR sIblInGs by â¨±    ï¼‰   at lOcAl            bEtWEEN  *   ANd  *         , Not *   ^ =  - â½¶    witHIN GROUp ï¼ˆ OrDer sIBLINGS By â¨± desc  nullS FiRSt     )    At TimE zONE DbTImezOnE     ** ?  aT tiMe ZoNe SEsSIOnTImEZOnE    mulTiSet EXcEPt  :78  @ "" @ "ð©¤¾"  ( ï¼‰   .  "ð §" ( DiStiNct "" @ CREaTION  @ pcttHResHOld   ï¼ˆ aLL â¨± á«     ï¼Œ OVERflow  @ "ð««–" . ""   =>  â¨± ""     )   =>  dEFaUlt    ï¼‰   ï¼ˆ + ï¼‰          aNd + pRIor â¨±   at Local    MULtISet exCEpT DIStINct  syS_coNNect_By_PATH ( ï¼‰   AT LOCAl     ** coNNECT_By_RoOt CUrsOR ( â¨± )    at tiME zone dbtIMEzoNe      *  xmlqUERy ï¼ˆ *   pAsSING By vAluE :_Æ—  @ :18  @ EXit     % BUlk_ROWCoUnt ï¼ˆ â¨± )       *  New ""  ï¼ˆ )   ( + )   At lOCaL       -  New :35       ** ( â¨± ï¼‰  multIsEt uniON ALl  "" @ "" @ "ð¥´œ"    wIThin gRoUP ( OrDER SiBLinGs by â¨± DEsC  NUlLs first     )  OvEr ï¼ˆ partiTION By "ð­€µ" @ COUnT   ( All â¨±  ï¼Œ dEfauLt    )   =>  dEFaUlT  as :64       OrdeR By â¨± NulLS FiRsT     rowS unBoUNdEd fOLLOwiNg    ï¼‰           reTURNIng ConTENt )   AT TiME ZoNe ( â¨± ) aT TImE zoNe sESSIoNtIMEzoNe          ||  ?    ** ( â¨± )  AT TimE ZoNE DBTIMEzOnE         IS oF tyPe ï¼ˆ "" @ NOnscHEMa  @ pAsswORd    .  "ð¤²¯" @ "á©•"    ï¼Œ mULTIset  @ ã„ 4  @ sAlt    .  :_    )      or NOT EXIstS  ( â¨± )         fOr ( :13   .  "ð‘£" ( UNiQUE MIN  @ "ð¥­" @ "â‰¤"  ï¼ˆ ï¼‰   =>  *   NOT SubMuLtISEt oF trAnSLate ï¼ˆ â¨± uSING cHAr_cS ï¼‰    ** TrIM ï¼ˆ LEaDING FroM  â¨± )  at locaL    mULTISeT UnIoN DIstiNCT  nULL  At lOCAL      MoD  á„£  ( ALl ï¼‰    OVer ï¼ˆ )    MulTisET eXCEPt  "ð«‰®" @ AssoCiATE    ï¼ˆ + ï¼‰  KeeP ( DeNse_RaNK LAsT order sibLiNGS bY â¨±    ï¼‰  oVER ( paRtitioN BY "" ï¼ˆ ï¼‰   =>  DEfaULT  :6  @ "ðª®"     , â¨±    )              OR NOT *   NOT  lIke2  *        ""    , deFault  aS ""     ï¼‰   ( + ï¼‰   ï¼‰    IN ï¼ˆ â¨± )   ï¼‰     ï¼‰  PArtITIon by ( :_  ï¼ˆ alL TreAT ï¼ˆ â¨± aS reF "ð¡©" @ PRocEdUre    .  :22     )  . INCLude  @ "ð¢º´" @ :24   ( )       MUltISeT InTERsECt  syS_COnnECT_bY_PaTh ( â¨±  ï¼Œ ""  =>  DEfaulT  NEw  @ "ï´¡" @ ""      )   AT TIme zOne CaSE WhEN â¨± THeN â¨±  ElSe â¨±   enD  aT lOCal            iS  infiNITe     AnD (  "" @ :#  @ #    =>  deFAULT   ï¼Œ â¨±   )  > =  ï¼ˆ ï¼ˆ ( ""  =>  DEFAUlT    )  , ï¼ˆ iNterval  @ :1    =>  DefAUlT  As mEdiuM  @ "ð–®‹"     , â¨±   )  ï¼‰  ï¼‰        As "â¸˜" @ iNViSiBLe       )   =>  not TransLATe ï¼ˆ â¨± USInG nchaR_cs )    ** "â¬ž" @ "ð¤£¥" @ "ð¬©›"  ï¼ˆ All :ã»  ï¼ˆ disTincT ï¼‰   =>  â¨± "ð§—ª"    , :á¤«6  @ "" . iDeNtITy   ï¼ˆ deFauLt   , "ð«¿ª" ( ALl )   =>  dEfAULT  As sTaTIstiCS      )   =>  â¨±   )   ï¼ˆ + ï¼‰  AT TIMe zone seSSIOntimEZoNe       +  :6   ï¼ˆ + )  % roWCouNT    ** Nchr ( â¨± )  AT tImE Zone DbTIMeZOne    MuLtISEt intERsEct ALl  CasE â¨± whEn â¨± tHEN â¨±  ElsE â¨±   eND     *  xMLaGG ï¼ˆ â¨± ï¼‰  At tImE ZOne ''       MulTISET Union distinct  "" @ :1  @ BREADTh     KEep ï¼ˆ DenSE_ranK lasT orDer SibLingS By â¨± ASc     ï¼‰   at loCal         nOt  lIkEC  *     aND noT ConnEct_by_root "âƒ" @ "ð¢€´"   ï¼ˆ deFAulT  "ð¦Ÿ¥" @ "á™Š"     ï¼Œ "ð¦€¥" ( DiSTInct ï¼‰   =>  â¨± bINArY  @ reducEd       )    WitHin grOup ( orDEr by â¨± nulLS LAST     ï¼‰  oveR ( ORDeR sIblings BY â¨± aSC     raNgE BeTWeEn cUrReNt rOW  AND unboUnDEd FOlLOWiNG    ï¼‰   at lOCaL     aT locAl    MuLtIseT uNiON  deCoDe ( â¨± ï¼‰    ** cURSor ï¼ˆ â¨± ï¼‰   MUlTIsET ExCEPT  CAsT ( muLTISET ï¼ˆ â¨± ï¼‰  aS TiME    ï¼‰  AT local         NOt  In  ï¼ˆ  DeFAUlt  aS "âŸ¹" @ _  @ ""     ï¼Œ DEFauLt    ï¼‰         ï¼‰  CROsS Join  â¨±  usIng ï¼ˆ :9   .  *  ï¼ˆ + )  ï¼Œ :_  @ "" @ "ð ½½"  ( "" ( )   =>  cURrent Of  VaRChAR  @ NonScHema   ( aLL ""  =>  DefauLt  As ""     )          , noT ï¼ˆ â¨±  ï¼Œ bLOCk  @ :28  . ""   =>  â¨± As usiNG      )  overlaPs ï¼ˆ â¨± "ð«€œ"    , "" @ á¼›   ( )   =>  DEFaULt  as _  @ ""      )      ANd NoT EXiStS  ï¼ˆ â¨± )     OR ( defauLt    )  oVeRlaPS ( dEFAUlT    )           )   ( + ï¼‰  )      WheRe *   LiKE4  xMlAgG ( â¨± ORDeR BY â¨±  , â¨± DeSc  NUlLS fIrSt     ï¼‰  At tIme ZoNe dBtImeZONE    MuLtIsET EXCEPt  - xMLcAsT ï¼ˆ â¨± As TiMEstaMP ï¼ˆ mEMBER   =>  â¨± "ð—™—"    ï¼Œ DeFaUlt  As "ð¤‚Œ" @ "ð ½š" @ :10       )   wIth ï¼ˆ DIstIncT oPEn   =>  â¨±  ï¼Œ â¨± extENd      ï¼‰   TIMe ï¼ˆ All ï¼‰   ZOne   CHaRacTeR SeT â¨±    ï¼‰            oR ExTRACt ï¼ˆ SECond fRoM â¨±  )  aT locAL    MUltIsET ExCEPt all  "ð ž±" ï¼ˆ "" @ :66  . ""  ï¼ˆ ï¼‰   =>  dEFaUlt   , â¨±   )   ( ALL ï¼‰    kEeP ï¼ˆ DEnse_rAnK fIRst ORdeR bY â¨± DEsC  NULLs fiRsT     ï¼‰       -  casE WhEn â¨± thEn â¨±   enD  AT TiMe zoNe sEsSIontIMEzonE     ** ChR ï¼ˆ â¨± UsinG NChAr_CS ï¼‰     /  à¨“   ( + )  % buLK_ExCepTions ï¼ˆ â¨± ï¼‰  . erRoR_cODE         is  NULL     And CurrenT OF  "" @ "ðª®º"   ï¼ˆ + ï¼‰        conNECt bY noT *   Is  noT  INFiNITE     anD nOt (  EXECute  @ "â—­"  ( DiSTiNCT :4  @ StAtemeNT   ï¼ˆ dIStINCT DeFAUlT  FiLEsysTEM_Like_loggIng  @ "ð¦™±" @ oiDINDEX      , â¨±   )   =>  deFAuLt    )   =>  deFaULt  AS :9  @ :ï³š      , ""  =>  â¨± "á…º" @ :#áŒ€  . iSOpeN       )  NOT  In  ï¼ˆ â¨± )      oR existS  ( â¨± )        sTaRt wItH NoT eXTraCt ï¼ˆ "ð›ƒ¡" @ "ï»¢" . "ð£¤“"   =>  DefaUlT  As :7      , *    ï¼Œ *    ï¼‰  AT LOcal    MuLtIseT unIon all  pRioR tiMESTaMp ''       ** xmLaGg ( â¨± )  aT tImE zONE SesSIONTimezOne    MUltISET uniOn  ( â¨± ï¼‰  At time zone COnNecT_bY_roOt â¨±         +  nuLL  at locAl     ** xmlcaST ï¼ˆ MuLtiseT ï¼ˆ â¨± ï¼‰  As lONg    ï¼‰     /  treAT ï¼ˆ â¨± As "ðŸ£"    )  . "" @ "ð£¨‹" @ ALloCAte   ( )      At LocAl    MulTIset uNiON  tRiM ( â¨± FRom  â¨± )  AT TImE zoNE dbTIMEzonE         iS nOT oF ï¼ˆ pAtH    , ""  .  :àº«  @ ""    )      OR noT ( â¨± ï¼‰ At locAl    mUlTiSEt INTERSeCT diSTIncT  EXTrACT ( TImezone_HoUr fROM DATe  â¨±  )      +  DeCode ( â¨± , â¨± ï¼‰  AT TImE ZOne SEssiONtimeZone     ** nEW PipeLiNEd   .  :_áº«  @ :5  . "ð•¥"  ( â¨±  , DefAult  "" @ "ð®œ§"      ï¼‰      mulTISeT excePt aLL  DeCODe ï¼ˆ â¨± )  At locaL      *  CAST ï¼ˆ â¨± AS ( faLSE  , falSE  ) % roWtype    ï¼‰   MUltIsEt InterSECt distInCT  hoUr   ( + ï¼‰  OvER ( oRdeR bY â¨± NULls FIrSt   , â¨±    )     ** nEw ""  .  "ð¤¿ª" @ :9  @ ""  ï¼ˆ "" ( dIStinCt )   =>  â¨±   ï¼‰     At loCAL    muLTiSET InTErsECt  Connect_bY_rOot CurSOR ï¼ˆ â¨± )                hAVINg exisTs  ï¼ˆ â¨± ï¼‰     OR ï¼ˆ  noParAlLEl  ï¼ˆ UnIqUe ï¼‰   =>  â¨±  ï¼Œ â¨± #  @ NosHarD       )  >  ï¼ˆ ï¼ˆ "" @ multISEt  @ Ô‚á¤Ž    =>  DEfaUlt  As "ð¨Œ’"     )  , ï¼ˆ deFAulT   ï¼Œ errORs  @ "ðŸ ³"   =>  dEFAUlt  AS "" @ "ð®‚º" . :9       ï¼‰  ï¼‰         grOuP bY ï¼ˆ GRouPIng sETs ( ( NoT RoLLuP  ( ï¼‰    % foUNd   MultIsEt ExCEPt distInCt  SYS_connecT_bY_path ( ALL dEFAUlt   ï¼Œ ""  =>  â¨± #È‚  @ "" . ""      ï¼‰   at tIME zoNE FUNcTION  ( diSTiNcT )   .  *  ï¼ˆ + )  wITHIN grOuP ( ORDEr By â¨± asC     )          ||  :7  @ :_4  @ ""   ( â¨± as inSTANTiaBle     , "ð«‰ª" @ Ò„5  @ idENtity    =>  â¨±   )   ( + ï¼‰  % fOund  at LoCal      /  exTrACTvALue ( deFAuLT    , *    ï¼‰   MulTIsEt UnioN  tREAt ï¼ˆ â¨± aS REf "ð“Ž–"  .  ""    )   AT TImE ZonE sEssiontimeZonE     ** tranSLaTe ( â¨± usInG cHAr_cs )   mULtISEt UnIoN  + ?  AT tiMe ZOne â¨±          IN  sAMPLe  @ vArchaR2   ( "" @ :4   ( ï¼‰   =>  â¨±   )   ( distiNct )    % Bulk_roWcOUnT ï¼ˆ â¨± )                ï¼‰    )    , NoT *   iS Not empTY      Or CUrRenT Of  :1  ( UNIQue dEfaUlT    )   .  *  ( + ï¼‰    anD exIStS  ( â¨± )         ï¼‰        uNION aLl  SeLeCt "" ï¼ˆ )   =>  NOT *   < >  AlL  ( ( ( â¨±  , #   =>  dEFaUlT  :12  @ "ð­ƒ°"      )  , ( â¨± )  ï¼‰  ï¼‰     oR CuRRent OF  "" @ "ð“‡¯" . NonSCHema    ï¼ˆ diSTiNct locAL   =>  dEFAulT  As "ð­Ž" @ :79      ï¼Œ DeFauLt  as VArying      ï¼‰      ANd NoT PArtitIoNs  @ "ð¨ª" @ :à±–   ï¼ˆ DistinCt â¨± "ð—¼ " @ "ð—¤«" @ ""      ï¼‰   .  "Ð–"  ï¼ˆ + ï¼‰  % NoTfouND  AT lOcal    MUlTiSEt INTERSECT ALl  TimeSTAMp ''''   AT tiMe zoNE DBtImEzONe     ** trIM ï¼ˆ â¨± )  At tiME ZONE DATE ''   AT LoCaL         *  cHR ( â¨± usINg ncHaR_Cs )    ** cAST ï¼ˆ â¨± as doUBle PrECIsion  cHaRaCTer set â¨±    ï¼‰  At locAl       ||  sYs_CONnECT_bY_PAth ( diSTincT ï¼‰         not  bEtWEEN  *   and  ( â¨± ï¼‰     /  caST ( â¨± aS "" @ :15  . ""  ï¼ˆ ï¼‰     )  at TIme zone nOParaLleL  ( deFaUlt    )   ( â¨±  ï¼Œ "ð¤£°" @ :ï¼¿    =>  DEFAuLt  ErroRS      ï¼‰    AT TIME ZOne dBTimEzoNe       MulTIset ExCEpT  eXTrActvAlue ( "" @ "" @ ""   =>  DefauLT  AS _$  @ "" @ Lob       , NUlL      -  XMlQuERy ( â¨± PAssiNG â¨± as :97  ï¼ˆ dISTinCT )   .  *  ï¼ˆ + ï¼‰   ï¼Œ â¨± as "" @ :4  . ""      ReTuRning CONteNt )   aT LOCAl     ** xmLqUERy ( â¨± PASSiNG By vaLUE â¨±  ï¼Œ â¨± as dEPTh  ( distInct :#   =>  â¨±  , â¨± "ð®”œ" @ OPeRATions       ï¼‰   ( + )    ReTurniNG Content )      /  caSe WHeN â¨± tHEn â¨±  eLsE â¨±   eND  At TIMe zONE DBtIMezONE    muLtiSeT UNiOn All  tRaIling  @ "ð¤ˆ‡"  ( â¨± AS "Ú¾"     ï¼‰   ( + )  oVer ï¼ˆ orDer sIBlinGs BY â¨± aSc  NUlls last     RANGE bETwEEN CuRreNt RoW  And â¨±  fOLLOWing    )     ** nChR ( â¨± )   MultISEt INTERsECt  TreAt ï¼ˆ â¨± as UNlimiTED     ï¼‰  . "" @ "" . :26    ( FOrMAt  ( ï¼‰   =>  DefAULt    ï¼‰      AT lOCaL          ï¼Œ *    )    ** cOnNeCT_BY_RooT - â¨± at tIme zone SesSIoNTiMezonE                 , ""  =>  CurrENT OF  à¿€Úƒ  ï¼ˆ uNIQuE ï¼‰   ( + )    AND noT CasT ï¼ˆ MULTisEt ï¼ˆ â¨± )  As VARchAR    )  AT loCAL       +  "ð›ƒ¸" @ :22  @ :âº‡7    ( dIsTincT DefaULT   , FoRaLl  @ "" @ ""  ï¼ˆ ï¼‰   =>  defauLT  As "ð­‡°" @ nchr       ï¼‰    AT tImE zoNe SessiONtiMEzonE     ** - XmlcAsT ( â¨± As DOublE precIsIon ï¼ˆ â¨±  , â¨± :#      ï¼‰    ï¼‰   AT LoCaL    mULTiSet iNtersECt  "á„„"  ( + )  OvER ï¼ˆ paRTITiON BY "Ü©" ï¼ˆ AlL )   =>  DeFAULt  "" @ ã³      ï¼Œ DEFaulT     )         NOt  IN  *         as ArCHiVE       iNtO cAScADE  @ "âµˆ" @ "ð¦«£"  ï¼ˆ aLL "ð¨¶" @ fORalL    =>  not ï¼ˆ "â…œ" @ "" . "ð›€¨"   =>  defAUlT    )  oveRlaPs ( â¨± AS "â¥›" @ :6  . :5      , rOWID  ï¼ˆ )   =>  â¨±   )      aND EXTRacT ï¼ˆ sEcOnd FROM â¨±  ï¼‰  at local    MuLtIset EXCEPT ALl  cURsoR ï¼ˆ â¨± ï¼‰        NOt  In  ( â¨± ï¼‰         )   .  *   ï¼Œ ISopEN   ï¼ˆ DistiNCT )   ( + )    frOM jsoN_table ï¼ˆ not *     ANd ExIstS  ( â¨± ï¼‰     oR *   BEtWEeN  "" @ :60   ( â¨± EvaLuAtE     , LoB  @ "á’¤" @ :_   ï¼ˆ ALL ï¼‰   =>  dEfAUlt    )   ï¼ˆ + ï¼‰  WithiN Group ï¼ˆ orDeR SiBlINGS BY â¨±    ï¼‰  oVEr ( OrDEr SibLINgS by â¨± nUllS FIRsT   ï¼Œ â¨± Asc     ï¼‰         And  *     anD cURrEnt of  "ê•¨"        NUll on  eRROr  coLUmns ï¼ˆ OUteR  @ "" . "ðª¬¸"   .  "ð¦­‚"   FoR OrDInAliTy   ï¼‰  )   paRTITIoN by ï¼ˆ DEfaULt  as "" @ "ð­›¤"      ï¼‰  inNEr joIn  tABle ï¼ˆ noT eXisTs  ï¼ˆ â¨± )       ï¼‰  versionS PerIod fOr "" @ "" @ ""  ( uniquE sEsSIoNTiMEZOne   =>  DefAuLT    )   .  "ð©„¯" ( nOt *   Is NoT of TYpE ( Only "ð®ª‡"  .  :ÇŽ  @ _á„±  . ""    ï¼‰      oR ï¼ˆ DefAult    ï¼‰  ovErLAps ( :9   =>  â¨± patH      )         "ð§‡"     )    not SYS_CONNECt_By_pAtH ( UNiQUE ï¼‰   AT TIme zONe nULL       ** ?  At TiMe ZoNe ( â¨± ) aT LOcaL       mulTIset InteRsEcT  TrANSlaTE ( â¨± usiNG NChar_Cs ï¼‰        beTWEEn  XMlqUery ï¼ˆ *   PASSIng NchR ( â¨± )     MoD  inTervAl '' MOntH  to hoUR ( tRUe   ï¼Œ 0x9   ï¼‰     AT LOcaL    multiSet UnION DIsTINct  priOR â¨±  aT TimE zONe DBtiMezonE     ** ConneCt_By_ROOT â¨±  AT tiMe zONE â¨±    mULtiSet INteRsect All  - â¨±     -  pRIoR â¨±  At LOcAL     ** + â¨±         rEtUrNIng COntEnT )    mUlTIseT uNION  CUrsoR ï¼ˆ â¨± ï¼‰  At tIme zoNE sEssiOntiMeZONE       -  Sys_ConnECT_bY_pATh ( "" @ cELl_flAsh_cAChE  . :17   ï¼ˆ ï¼‰   =>  dEFault  as :9  @ ""     , à°¦   =>  â¨±   ï¼‰   aT tIMe ZOne dbtiMEZoNe    Multiset eXCept  "ðª±…"  ( + )  At lOcaL      *  :ïº¶9  @ DiREct_LoaD  . JSoN_tABLe   ( aLL ï¼‰   ( + ï¼‰  KeeP ( dEnSe_RaNK FIRST OrDEr sIBliNGs by â¨±  ï¼Œ â¨± nUllS first     )  ovEr ( partiTIon By deFAUlt   ï¼Œ â¨± ""      )    muLtiSET iNterSECT  "" @ wraPPER  @ :88   ( UnIQUE )    % fOUnD    ** xMlcaSt ( MUltIseT ï¼ˆ â¨± ï¼‰  as REF "" @ #á‚°  @ jSON    ï¼ˆ + ï¼‰   % TYpE    ï¼‰   muLTISEt INtERSect  NUlL  AT LOcaL         and  *     And Not curreNt oF  grouPS  ( )       or CurReNt OF  :#$  @ "ðª£½"  ï¼ˆ UnIQUe "" @ ""   =>  â¨± :11     , dEfault    ï¼‰   ( DefAUlt    )   ( + )    aNd *         trAnsLATE ï¼ˆ nOt pRioR â¨±    ** tRIm ( â¨± FROm  â¨± )      +  ( â¨± ) at TiME zONe DbtimEzOne    MulTISeT exCePt All  EXtrAcT ï¼ˆ â¨±   ï¼Œ â¨±  , â¨±  )    ** New inVALiDatioN     aT timE zOne sESSioNTImEZoNE         iS  nOT  nuLl      OR nOT ï¼ˆ â¨± )  aT loCal         < =  *        uSInG ChAR_cS ï¼‰      +  "" @ â¾¿  . iD   ï¼ˆ All ï¼‰    % BulK_eXceptioNS . COUnT   AT LoCaL     ** + deCode ( ( "áµ¬"  =>  DEfAulT  As :6  @ "ð¡”ž" @ "ðª˜…"     , :20  ï¼ˆ mUlTISEt  @ refereNCiNG    =>  DEfaULt  "ð£«‘" @ fiPsflAg       )   =>  â¨± As :_  @ "ð˜“ª"      )  ovErLAps ï¼ˆ dEfAULt    ï¼‰         ï¼‰         And uQ'~~'   AT locaL           PivOT xML ( ""  =>  noT *   ^ =  AnY  ï¼ˆ â¨± )    aND CUrrenT OF  nomINvaLue  ï¼ˆ )   .  :1  @ :82  @ ""   ï¼ˆ + )       aS "ð§’"    , Not *   is  NOt  nan     ANd ï¼ˆ  "" @ "" @ Date    =>  deFAULT   , â¨±   ï¼‰  NoT  IN  ( â¨± )      or nOt :ã‡  ï¼ˆ all "" @ "ð£–ƒ"   =>  â¨± "ðŸ˜" @ BasIc      , â¨± As CoNtext      )   ï¼ˆ + ï¼‰  % BULk_rowCoUNT ( â¨± ï¼‰               ""     fOr "" @ "" @ "âˆ“"  ï¼ˆ all )      IN ï¼ˆ ANY   ï¼‰   ï¼‰      pArtitIoN bY ( "" @ :3   ï¼ˆ DEFaULT    ï¼‰   =>  DeFAuLT    )   uSINg ( :_ï¹œ  ( ALL TreaT ( â¨± AS rEf LoB  @ ""     ï¼‰   At tIme zOne DbTIMEzonE      *  ?  At lOCAl     ** TRIM ( trailiNg â¨± fRoM  â¨± ï¼‰   MULTISeT unioN  "ð¯¢œ"  ï¼ˆ + ï¼‰  kEeP ï¼ˆ DeNSE_rank LASt ORDer SIBlINgS by â¨± deSC  nuLlS LasT     )         Is OF ( ""  .  :57  @ "àº°"    ï¼Œ noorDeR  @ á‹¾     )     AND exiSts  ( â¨± )     or NOt ï¼ˆ  daY  @ UNLIMItED    =>  DefAuLt   ï¼Œ :2   =>  â¨± As MULTisEt  @ ""      )  in  ( â¨± )     aNd not EXIsts  ( â¨± )         )   .  *  ï¼ˆ + ï¼‰  ï¼‰     cONneCT BY nocycLe nOT (  defaUlt  as "ð§•"    , ï®–3  ï¼ˆ DeFaUlt  "ð‘š®"     )   =>  â¨± "" @ "ð¬½¤" . SuPpLEmeNtAl       ï¼‰  ! =  ï¼ˆ â¨±   ï¼‰         HAVinG *   LiKe  *   esCape â¨±     oR NoT *   IS nOT empTy     and - exTraCt ï¼ˆ yEAR From DATe  â¨±  ï¼‰  AT tIMe ZoNE DBTiMEzOnE    aT LoCAL    mUltISEt UNIOn DIsTInCT  eXtRacTVAlUE ï¼ˆ #  @ "" @ "ð¯¦²"  ï¼ˆ )   =>  dEFAuLt    ï¼Œ cASE â¨± WheN â¨± thEn â¨±  ElsE â¨±   eND   MultiSEt INTErSect DIsTiNcT  dEcodE ï¼ˆ â¨± , â¨± )  At tIME ZoNE SeSsIONTImEZONE     ** xMLaGG ï¼ˆ â¨± oRder bY â¨± AsC  NuLlS FIRSt     )     /  DatE ''    MULTISEt unIoN aLL  ï¼ˆ â¨± ï¼‰         ï¼Œ *    )  At loCal      MOd  tReAT ( â¨± aS "" @ :â¼³áž³    .  oIDINDEx     ï¼‰  . "ð§»¨" @ :4   ( dIstiNct ï¼‰      AT Time ZONE SessIOnTIMeZOne     ** ""  ï¼ˆ UniqUE )    AT LocAl       -  pRIoR COnNEct_BY_rOot â¨±    aT TiMe ZOne :1  ï¼ˆ "" @ aRRAY  @ "ð¥½œ"   =>  dEFaulT  aS BulK      )   .  "" ( â¨±  , MUltIsET   =>  â¨±   ï¼‰   ( + )  over ï¼ˆ )       muLTiSEt iNTeRSect diSTiNct  NEW "" @ #Ø´   ï¼ˆ uniquE )   ï¼ˆ UNiQue "ð­¿…"  =>  defAuLt  "íŸ¤"    ï¼Œ DefaUlt  As "" @ "ð¢Ÿ”" . cONtEXT       ï¼‰   ( + ï¼‰   At LoCal      /  CUrsOR ( â¨± ï¼‰    ** XmLcAST ï¼ˆ MultISeT ( â¨± )  aS REF :9   .  *     )  At TiMe zOne CHr ( â¨± USING nCHAr_Cs ï¼‰      mULtIset EXCePT  TRiM ï¼ˆ â¨± )  aT TIMe ZonE cASE â¨± wheN â¨± then â¨±   EnD           ! =  nULL   mUlTISet exCePt DIstinCT  :ï¾²  @ "" . ExPirE   ( )    KEep ï¼ˆ deNSE_raNk FIRST oRder SIbLINgS by â¨±  , â¨± asc  nulls LASt     )  OvEr ï¼ˆ oRDEr SIBLIngS by â¨±    ï¼‰     ** ?  At LocAl       ||  NEW _5  @ timestamp    .  *    at tIME zoNe SEssIoNtimEzONE    MULTiset inTersecT DiSTiNcT  ExtRACt ï¼ˆ dAy FRoM date  â¨±  )    ** "" @ "" . "ð­½Ž"   ( â¨± :2  @ Escape       )   ï¼ˆ + ï¼‰  OvER ï¼ˆ pARtItION BY "âµ" @ ""  ( All )   =>  DEFaUlT   ï¼Œ DEFault     OrdeR By â¨± deSc   ï¼Œ â¨± nUlls FIRSt     ï¼‰   aT TIMe ZonE dBTIMEzonE      *  ( â¨± ï¼‰ AT lOcAl    MULTISEt uNioN  cAsT ( â¨± As OpAQUe FIxed ( )  uSInG lIBraRY "" ( â¨±  , :#5  @ sPeCiFIcatiOn  @ :8   ( aLL )   =>  â¨± AS "ð¦ª"     )    ;  % ROWTypE    )              grOUp by ï¼ˆ ï¼ˆ ï¼‰    , ï¼ˆ ï¼ˆ â¨± ï¼Œ â¨± )   ï¼‰   ï¼‰   , ( )         ORDEr sIBLIngs BY EXisTS  ï¼ˆ â¨± ï¼‰    ANd *   nOt  likE4  ?   muLTISEt EXCePt  trEAT ï¼ˆ â¨± AS ReF :19   .  "" @ ""     )   aT Local         eScaPE â¨±     Or noT (  deFAuLT   ï¼Œ "" @ "ð®Ž€" @ "ê’·"  ( SessiONTImEZOnE   =>  â¨± aS arcHiVE     , â¨±   ï¼‰   =>  DEFauLT  á “5  @ "" @ pCTINcrEaSe       )  NoT  In  ï¼ˆ ï¼ˆ :4  ï¼ˆ UnIQue ï¼‰   =>  â¨± "" @ pOLYMORPHIc  . ""      )  )     aNd NoT CurReNT of  _   ( UNiquE DeFAULt   , DeFAUlt    )         DeSC     for upDATE  WIth cHeCk optIoN  coNStraINt :84      ï¼‰  miNus  ( SeleCt uNiqUe "ð”’ˆ" @ maxvAlUE    =>  DEFaUlT     BULk COlLeCt InTO "" @ "ð¨œµ"  ( uNIque ï¼‰   .  vErSIons   ï¼ˆ + ï¼‰    fROm TabLe ï¼ˆ â¨± )  aS oF PeriOD for "ð˜·" @ _ï¶ˆ   ( deFault  aS ""     )   ( alL )   ( + ï¼‰  bEtwEEN    uNPivOt EXcluDe NulLs ( ( ""    ï¼‰   for ï¼ˆ "" @ "ð˜ˆ†"  ï¼ˆ all )   ( oRGaNIZATIon  @ "ð—¬œ" @ :àµ·áˆ‹    =>  *   MEMber oF tREAT ( â¨± aS ""    )   At LOcaL     ** PraGmA  ( AlLoW   =>  â¨± :9  @ :95       )    % nOTfOUnd   multiseT EXcepT disTincT  DEcODe ï¼ˆ â¨± ï¼Œ â¨± )  aT Time zoNe SESSIONtimezonE      /  ï¼ˆ â¨± ï¼‰  aT locAl     ** xMLagg ï¼ˆ â¨± oRDer bY â¨± NUlls laSt   ï¼Œ â¨± ASC     ï¼‰   mULtiSet UnIOn  CurSor ( â¨± )      ||  xmLQueRY ( :50  @ Out   ï¼ˆ "" ï¼ˆ ï¼‰   =>  â¨± gLOBalLY  @ "ðªœ£"      ï¼‰   ï¼ˆ + )  wIthiN group ( ORDeR By â¨±    ï¼‰   at Time ZoNE â¨±     ** transLaTe ( â¨± uSinG ChAr_cS ï¼‰  aT timE zoNe sEssiontimEzOne    mULTISeT EXCePT ALL  XmLAGg ( â¨± orDeR By â¨± dESc  nuLlS Last     )      +  "ð¬‚€" @ sKip  @ "ð ¡"   .  *   % NotfOUND   MUltiseT eXCEPT  xMlcaSt ï¼ˆ â¨± AS rEf :72  @ "ð®¨«" @ ""  ï¼ˆ ï¼‰   ( aLl DEFaUlT   ï¼Œ ""  =>  â¨±   )   ï¼ˆ + ï¼‰    ï¼‰  aT LocAl      MoD  CurSoR ï¼ˆ â¨± )  AT lOcal         pAssing by value *   AS "" @ :àºª4  @ excEPtIon_inIT    ( + )    reTurnINg CoNTENt ï¼‰     ** dEcOdE ï¼ˆ â¨± , â¨± )     mOD  - CAse WHeN â¨± ThEn â¨±   End   At time ZoNe DbtImeZonE             aNd *   LikE2  *      Or NOT ExISTS  ï¼ˆ â¨± )        , ExIsTs  ï¼ˆ â¨± ï¼‰    aNd sys_cONNeCT_BY_PatH ï¼ˆ DiSTinCT ï¼‰    mulTisET eXcEpt  YeaR  @ ""  ( dIStiNct dEFauLt  as _áœ²     ï¼Œ "ð¨»ƒ"  =>  DEFaUlt    )    wItHiN gROup ï¼ˆ orDEr SIblINgS By â¨± DESc  nULLs LAST     )  OVer ï¼ˆ pARtitION By â¨± as lEfT     , "" ï¼ˆ â¨± aS "" @ :#á¿²       )   =>  dEfAULt     Order By â¨±    Rows â¨±  pREcEdING    )     ** RetURNING   .  "" ï¼ˆ )   ( + ï¼‰  At Time ZonE DbtImEzoNe      /  :4  @ "ð«¶„" . "ð¥ˆ®"  ï¼ˆ alL )    oVer ï¼ˆ )   at tiME ZOne deCode  â¨± ï¼‰         -  SyS_COnNecT_By_Path ( ALL OrGaniZAtIOn  @ :á¥Œ    =>  â¨± AS sEcOnd      ï¼‰   aT loCaL     ** :2   UNiquE DeFaUlt   ï¼Œ DEfAUlt  "ðª‰¹" @ "ð ·£" . ""      )   .  *   % buLk_eXCePtIonS  â¨± )  . erRor_InDEx      *  + coNNeCT_By_rOoT â¨±   At LoCal    MuLtIsET inTERSEct DISTIncT  + casT  mUlTiset  â¨± ï¼‰  As DoubLE pReCisiON  raNgE â¨± ..  â¨±    )  at lOCaL    AT tIMe zONE sessIONtImezonE         Is empTY        ""     )    +        In  :2  @ Ö‰  @ SEsSIon    All ï¼‰        +    As  ''   , U''        ,  "" @ "" . BOtH     ï¼Œ "ð¡“"   +       aS 9             #8  @ PAsSWORd  @ :5      JoIN  "ð«®•"  .  eXTernALLY  @ :16       ON NoT CURrEnT OF  "ð§²" @ "ð‘…ƒ"   ""  SEts   =>  â¨± ""    ï¼Œ â¨±      =>  deFAuLT        +          PIVoT xmL  eLEMENt  @ ""   =>  dEFAULt  As ""     FOr ""     in  NOT cURREnT OF  :2  @ :Ò†    DisTINCT ""  =>  â¨± ReSult_cAcHE  @ oRgaNIZAtioN      , dEfAULt               or nOt tRIM  â¨±    mULtiSET inTERseCT  OnLy  @ "ð¡†¶" . ""   aLl    .  :7   all     +   KEep  DeNSe_RaNK fiRSt ORDeR bY â¨± NulLs LaST           *   â¨±   MULtiSet InteRSecT DIstInCT  eXTRAcT  defaULt    ï¼Œ *      AT LoCAL     ** nULL  AT tIme zone SEssIOnTiMeZone    MULTiseT excePT  "â«¤" @ :80     DBtiMezoNe   =>  â¨± As :_Æ¤  @ ï®‡ãƒ¼           KeEP  denSE_raNk fiRsT ORdEr bY â¨± dEsC            -   â¨±   At TImE zoNe DBTiMeZoNe     ** nULl  at tIMe ZonE dbTiMEzOnE         IS  iNfinITe          ,   â¨±     /  XmlquErY  xMLqUEry  â¨± PaSSINg â¨± AS "ð§‡ " @ ""    +     RetURnInG contENT    At Time ZONE â¨±     ** "ð«ž"  UNIQUE â¨±       +    multiSET iNTErSEct DIStInCT  :#0  @ ""   DIstINct    .  a       % Bulk_roWcOUNT  â¨±           PassING *   As "" @ ""    +     ReTurNIng coNTenT    At LocaL    MULTisET EXCEPT All  TrAnSLatE  â¨± UsiNG ncHAr_Cs   AT tIME ZonE dBtiMeZonE     ** "" @ :3    .  *   % bULK_exCepTiONs . COUNT   aT LocAl       ||  nchr  â¨±      /  dEBUg  @ LonG    .  *   +    mULtiset inteRsEct  prIoR ExTraCTValuE  ""  UnIqUE :#   â¨± , â¨±     =>  deFauLt       =>  â¨± As "" @ "ä·ž"      ï¼Œ â¨±             ** cURsor  â¨±   At LocAL    muLtIsET UNIOn  CAST  â¨± As OPaquE fixeD  â¨±  , DEFaulT      UsINg libRArY "ð«‚›" @ "ð›ƒ " @ "ðŸ¢‡"        ;  CharaCteR sET â¨± % chARSet             iS not oF  OnLY cOntiNUe   .  àµº_  @ AftER     ï¼Œ "ðŸ‘¶"  .  ""        aND NOt *   BetwEEn  EXTRaCt  mOnth FROm â¨±    AT LOcAl      /  eXTRaCTVAlUe  "ê«±"     =>  dEfAult  EnAblE  @ :40  @ FInAL       ï¼Œ *    ï¼Œ *      aT lOCAl       ||  :27   ALL exTENT  @ #$  . nOcopY    =>  â¨± :á¤›  @ "ð˜•¥"     , deFaUlt        uNiqUE     +   % iSOPEN  AT tIme zOnE ""   % buLK_roWcounT  â¨±         MULtIsEt INtErSEct  inCLUDE  @ "ð§¯"   AlL â¨± As ""    , ""  UNiquE    =>  â¨±       WITHIN GRoup  OrDer sIblINGS bY â¨±      OVER  pArTiTioN By DefAuLT  as "ð¤¼½" @ "ð£±Š" @ "ð“‚¯"     , dEfAUlT        AT local     ** sYs_cOnNeCT_bY_pATH        mOd  + dEcode  â¨± ï¼Œ â¨±   at lOcAl          ANd   â¨±    mULTiseT ExCePt alL  - ?  at TIme zoNe SesSIONTIMEZONE    aT tIMe zoNE ïµ¯à·¬  @ "ð¨°‘" @ "ãŒ“"   .  :3  @ noNsCHeMa  . eXcePT     +   OvEr  parTITIoN By ""  =>  defaULt  :9     ï¼Œ â½‡   â¨±      =>  DeFaUlt  uSE          at TiMe ZonE â¨±         /  extRacT  timezoNE_MINUTe FrOM â¨±      ** "" @ "ï¾’"       keeP  deNSe_rAnk fiRst oRDeR SiblINgs BY â¨± aSc  NulLS LaST   , â¨± nULls fiRST       oVer  ParTItiOn by ForALL   =>  â¨±  , :23  @ :22  . NAtUraL    DIstINcT    =>  deFAult  "" @ :72  . ""       ORder BY â¨± deSC  nULLS fIRSt   ï¼Œ â¨±           ||  ConNECt_BY_rOot CHr  â¨± USIng NchAr_cS   aT LOCaL      MUlTisET iNtErsECT dISTINCt  TRANSLAtE  â¨± UsIng Nchar_cS   AT tImE zoNe SEssIoNTimEZONe            oR  â¨± as :_Ü•  @ rElIeS_ON  @ oveRrIdINg      , DEFAUlT  aS "ð§§§" @ "ðª”¡" @ ""        OVerLApS  "ð¬Ž†" @ "" . "ð£»±"   UNIqUe :#   =>  â¨±  ï¼Œ DEFAulT       =>  DeFAUlT   ï¼Œ ""  =>  deFAUlt          ANd   â¨± As áž»9     , "" @ :7  @ MaX    â¨±      =>  â¨± ""       ~ =   "ð˜§"  â¨± As ""        =>  DEFaUlT  "ð¢" @ "â¢€"     ï¼Œ baSIc  @ loGoFf  @ fIPSFlag    =>  dEfault             , noT nEW "ð¨‹¶"   all     +      ** - prIOr â¨±  aT LOCaL     MULtiset exCePT  caSE â¨± wHeN â¨± Then â¨±   EnD     *  :37  @ ""   stAtistIcs   =>  defAuLt  NOnE     , ï¶  @ :#    ALl    =>  â¨±       +   OVeR  ORdEr siBLinGs By â¨± DeSC  NuLLs laSt   ï¼Œ â¨± nuLLs fIrSt     RaNGE UnbounDeD precEDinG       at TIME zOnE dbTIMEZONe    mulTisET InTersECT all  CasE WheN â¨± theN â¨±   End  at LocAl     ** Trim  â¨±   AT Local    mulTIsEt eXcepT ALl  Trim  â¨± FROM  â¨±         < >  *        aS :Ö  @ :77  . "ð¡¥®"         DEFiNEr  @ mEMBeR              , XMLTaBle  n''   pASSInG cURrEnT Of  ""  .  *         ï¼Œ NOT exIstS   â¨±      Or 0X     ** ""  DiStiNct deFAulT  aS "" @ "ð­ª"     , :76  @ buiLtiN       =>  deFAULt        +   kEEP  denSe_ranK First ORder sibLiNgS bY â¨± asC        At tIMe ZONe  â¨±          ||  ?  AT TiME zOnE sESsionTImEzonE      *  prIOR xMLcast  mUltISeT  â¨±   As rEf COUNt  @ ""    DIStiNCT "" @ "" @ "âº±"   =>  dEFAULT  as :12                 mulTIsEt inTerseCT  "ð§®„" @ ""    % NotFoUND  At LOcAl         iS oF tyPe  OnlY "ð§˜…"   ï¼Œ seCOnd            AS "ð¤ƒº" @ NosCAlE        cOlumnS   _  @ :3       =>  â¨±  ï¼Œ â¨±     > =   â¨±         foR ordiNAlItY      PARTITiON By  dEFAULt  "à¶¥"        UnPiVOT ExcLUdE NUlLS   "ð¬™€"  distiNcT     +       FOr ""  .  veRSIons   NoT *   Not  IN    Ø‰   =>  DEfAuLt  :#                     IN   "" @ "" @ ""   Not TRaNslaTE  â¨± usiNg CHAr_Cs   AT tIme zONe CONneCt_By_rooT â¨±       ** XMLAGg  â¨±         iS  naN        As "" @ HoUr           +                 group by GRoupINg sEts              hAvInG exiSts   â¨±              FoR UPdatE of  "ð£–" @ "ð¢££"   uNIQUe     +    SKip LoCkED   oRDEr siBlInGS BY Not *   iS Not A sET        DESc     WitH reAd ONly      sEARCh dePTH firST BY Not xMLAgG  â¨± ORDeR siblingS BY â¨±                 dESC  nulls FiRSt    sEt "ð¦’“" @ ""      cYCLE "ð¡°…"   +    set #6  @ direCT_LOaD      to FALSe    DefaUlt TRUE        WITh nOPAraLleL    as  selEcT OPtimal      =>  dEFauLT     frOm XmlTAble  xMLNamESPaces  DeFault  :55  @ :5         ï¼Œ 1E5d   ColUMnS cUrReNT Of  ""        NATiONAL chaR  DiSTinct :84  @ ""   =>  Not currEnt Of  diSaSSociaTE  @ PAreNT    UnIqUe :â¶’   =>  dEfaulT  ""                      cOLlATe ""      Path 0x       UNpivOt   "" @ "á…‡"   DIStINCt DEFAULt  as PaRTItiON          +       FoR "ðªŠ¸" @ "ð— ‚"      iN  :9  @ #        uniqUE               ANaLyzE  @ :à­Ÿï»œ         wHerE  ""  edition  @ ""   =>  â¨±      =>  â¨± As #        OVErLaPS  deFaUlt              StART wITH *   in   â¨±         conNecT by nOCYcLE NoT NulL  At lOcaL     ** XMlcasT  muLTisET  â¨±   As tIMe  wITh  time     zONE  unIqUe     RAnGe â¨± ..  â¨±      aT TIME ZOne dbtiMeZOne         > =  ANY     â¨±             GrOup bY   CubE   NOt ExISts   â¨±                         HAviNG nOt  â¨±     OverLAPS  deFaUlt                ORdER BY *   nOt  in    ""     =>  DEfAULt  ""            nuLLs First     wiTh chEcK opTIOn      CyCLE "ð­¹Š"  .  shArDeD  @ "à£–"    +    Set "ð¢—±" @ :3      tO Q'"ð§–"'    DEFAult DaTe ''       SelEcT uniQUE noT *   IN  *            BulK cOllEcT INTo RETeNTIon   c   uniQUE "ð—›³"  =>  eXISTs   WITH "ð­¿¢"   aS  â¨±      â¨±           aS :3  @ :82          =>  defAUlt        +     FRom XmLtAbLE  inTervAl 'ðŸ¶' MONTH  TiMesTaMp ''           PIVOT  :áº¬_  @ ""   =>  exIsTs    â¨±   ORdER By â¨± Asc     for UpdATE of  "â´‹" @ CaSt    uNique               "" @ "ð——Ÿ"      FOR decODE   .  ""  "" @ cONVerT    ALL DeFAult       .  StATemenT  @ "ð­ œ"    +   At lOCAL         not  bETWeeN  'ð¢®°'   AT lOcAl     ** CUrsOR  seLEcT diStInCt :8  @ sTORE    =>  dEFauLt     into "ð¡ª¯"  ALl DEfAulT  "" @ ""                fROM   â¨±    croSS joIn  â¨±     PArtiTIOn BY  #  @ :áƒµ9    =>  â¨± aS unlIMitED  @ ""         PIvOt  â¨±   fOR  ""  :32   uNIQue    =>  â¨± AS ""         DiSTINct â¨± as OUT          +        IN  â¨±          WHeRE â¨±  stArT WITH â¨±  conNECT by â¨±    FOR upDatE Of  ""  .  *    NoWAiT            ANd  extract  timEZoNE_ABbR FroM DaTE  â¨±      ** triM  boTh â¨± fRoM  â¨±                    +     in   dEFAuLt       ""            :#ïµœ  @ "á¯°"     pARtItIoN BY  :2  @ "ð¬‡“"      =>  *   < =  TrEAt  â¨± as rEf fuLL       . "ð—±ˆ"   aLL       aT tIMe ZoNe sesSIoNTimEzONE              "" @ :81          unPIVOT   meTAdATA  @ ""   deFauLt  :â¼ˆ              FOR "" @ :8     +     iN  ""  UnUsed   =>  DeFAULt       .  *    as  n''                 GRouP bY  RolluP   NoT *   is NoT of  MeMbeR  @ "ð«š¾"                            FOr UpDaTE waIt 6    ORDer SIblINgs by Not *        asC        wIth READ only  constRAInT sYstem  @ ""                  aT loCaL         NoT  lIKEc  XmLquERy  EXtrACt  TIMezOnE_aBbR FrOM dAtE  cUrrENt Of  :24  @ #Ô±     +             ** xMlCAsT  not   ""  =>  deFAULT  as "áœ«" @ à½ªá¡†         In   SEleCT cUrrENT of  "" @ á¸„     alL             Bulk cOlLect INTo "áº™"      +     fROM ""   PaRTiTIOn  NChR  @ disAlLow     +     UNpiVOt excLuDe NUlls  ""  uNique "ð­Ÿ¶" @ ""   DiStinct    =>  NOT cUrSOr  wITh DeFINER  @ :78      tIMeZOne_MInuTE  @ ""       as   â¨±   fOr uPDAte sKip LoCKeD   wiTh READ onLY        SElecT DIStinCt DEFauLt  ""      fROm "" @ PctVeRsioN     unPIvOT iNcLuDE nulLs   :â´”    +       FoR  ""  uNiQUe          In   :90   DefAulT        "" @ "à¨¸"   ALL â¨± as PubliC         =>  â¨±       +               versions bETwEen scN  â¨± AnD â¨±     pArTITIon BY  tIme  @ âºƒ8    =>  DefAuLt  :5  @ SyNoNYm          PIvOt XML  â¨± AS ""     FOr :_â¾²  @ ""   .  "" @ ""         In  WITH "" @ ""    As  â¨±   seArCH BREaDth fiRsT BY â¨± NUlLS fiRST    sEt trEAT         â¨±             CONnEcT By NOCYCLe â¨±  sTArT wITH â¨±  haVING â¨±    For UPdaTe Of  "ð˜‚¢"  UniQUe     +     WiTh Read oNLY      aT TIme Zone SeSsioNtImezone     ** nEw ""          sUBMulTiSEt OF *                 fOR  instANtiaBlE  @ :12     +        iN  FIRSt   dIstiNcT "ð¬°¼"  dEfAUlT       =>  NOt EXIsTs    witH :75    aS  â¨±   SEArCH DEpth FiRSt By â¨± ASc    set "" @ ""      cYcle cOlumn_vAluE     seT :99     to 9f    defAult TiMEstAmp ''        â¨±   wITH chECk oPTion  CoNsTRAInt #7  @ dAtAFile         ordEr BY â¨± NulLS LaST     wiTh chEck optION  coNsTRAint "ð¬¢" @ :_                   .  *   +    As TrUE                    foR upDAte oF  YEAR  @ :5    unique ""  =>  DefauLT  "" @ "ð¦©²"          +    sKIP loCKeD   order SIblINgs BY *   nOT  Like2  cHR  â¨± USiNg nCHaR_CS         eSCapE â¨±                   as _  @ "ð–§—"    dISTIncT        At TIMe Zone DBtimEzOne         PassiNG cAsT  mULTisET   WIth eDITIOnS  @ ""     "ð’‡³"      DEfAuLt  ""            as  wItH "ð˜ˆ•"    PctvERSIoN   unIquE "â³“" @ VErsioNs    =>  CurrEnt of  :7  @ ""   DEfAUlt        uniQUe          As :9  @ "ð¡–›"          +      AS  â¨±   CycLe "ðž€˜"  noT *   nOt MeMbeR oF *               .  *   +    set :â¶º     tO DAte ''''    deFauLt 0X       SeLeCT ""  DIStINCt  "" @ ReBUiLd    =>  DEFAULT      OVErlaPs  DEfaULt  AS "ðªš‘"              "ð¥—”" @ paRENt          =>  *   IN    #  @ ""   =>  NoT currENt of  ""  .  *   +                    iNTo seArcH  @ :48    ALl       frOm  â¨±     PivoT  dEfAULT  TrUstED  @ sECoNd       fOR LIke4      .  ""   +     in  â¨±          wHerE  â¨±     ** extRacTvALUE  :13  @ "ð’Œ§"   "" @ áŒ©    =>  NoT  :_1   â¨±     =>  DEfaUlt  As É†5        oVerlaPs  â¨±            aS "ðŸ·" @ ""         =>  deFAULt    , â¨±    aT LoCaL         lIKe4   noT â¨± NoT  BeTwEEN  â¨± anD  â¨±             EScaPE Not eXIsTS   â¨±               sTaRt wITh   gROuPing   =>  *   is  Not  nuLL            =   â¨±          cOnNect by NOT "ð¨„¶" @ DIreCt_LOAd    AlL     diStiNcT     wITHin GROup  ORdeR By â¨±      aSc  NuLls fiRsT        At loCaL     ** ?        Is  nULL         GrouP BY nOT VaRchAR2  @ ""    oVeR  orDer siBLinGs By not CurreNt of  :53   .  "" @ "ð§›‰"   distiNct     +           rOws BeTWeen EXIstS   â¨±         FoLlOwInG  And unbOUNded fOLlOWiNG             BEtweEn  *   And  *               ordEr bY nOt syS_coNNECt_BY_PATh     AT tIME zONe dbTimezOne     ** + â¨± At LOCal         noT member Of NuLl               asC     fOr UpDaTe     SEArcH DePth FIRsT By cUrrENT of  ""  *   IS noT Of  "" @ ""            PaCKage               DesC  nulls lAsT    set "ð–¡™" @ :á¥Ü¿         SeleCT dEfAULt     iNTO ""      UnIquE ""  =>  NOt exISts   seLeCT nOt *        AS iSOLATioN       bULK COlLeCt inTO :2  @ ""   uniQuE         +     FROM  Json_taBle  nOt *   NOT SUbMultISeT oF *          fORMAt jsoN ï¼Œ :#8  @ :9      CoLuMNs  NesTeD Path iNteRVal '''' DaY  U''''         COluMNs  PeRCENtILE_dIsC    "ð¤”­" @ bLock    .  *   % tYPE    ExiSts           aS ""    pARTItIOn BY  DeFault  _Èˆ  @ ""            partITION BY  :77   Map  @ "ð®—¼"   =>  DEfauLt  as "ð«¤ƒ" @ nONScHEMA          =>  DEFAUlT         WHERE cUrREnT Of  "ðª”"  disTiNCT :12  @ á…‚    =>  DeFaUlT  "ðª€º" @ "ð£¸“"          +         cONNect By   deFAuLT      Not  In   â¨±            gRouP By   mod   =>  â¨± as saVePoiNt        oVerLApS  â¨±                    haVInG nOT xmlagg  â¨±   aT TIME zONe â¨±     ** - â¨± At LOcal         ~ =  SOME   â¨±           wITH rEAd ONlY                 +     frOm  sEleCt aLL DEfauLT  aS "ð¢’‚"      bUlK COLLecT INto "ð£´¡"  UNIque fULl   =>  NOT EXIsts   â¨±              aLL "ð¥—“" @ accoUNT    =>  dEFAuLT  ""           FRom :áº–  @ "ð¡…Ž"    sAmPlE  dECode  â¨± IS eMPTY                iS nOT of TYPe  "ð¥”«" @ :4               SEED  nOT eXisTs   â¨±            aS Of sCN  nEw dAY  @ :_á†•         AT timE ZoNE SeSSioNTiMezOne     ** PRIor â¨±  at lOcaL         bETwEEn  XmLAGG  NOt cuRrEnt oF  scoPe  @ "ð¡’"   All    .  "ð®Ž˜"   +                And  *               pivoT  "" @ :3       =>  DeFAuLt    fOR  "ð¦»‹" @ loCaL    unique :67   =>   DEfAULt  :1        OvErlapS  nOT *   in   â¨±                   aS "â¬°" @ "ð£ª¥"              +        IN  AnY              ORDeR SibLinGS bY  "ð¦©¶"  dEfAulT  ReName         =>  nOt currENT OF  groUPS   .  *   +        AS sAvePoInt        ovERLApS  :6  @ "ð«–‚"      =>  DeFault  as "ï±¯" @ ""                      NatuRaL INNER Join  THe  WiTh ""   as  â¨±   SEaRcH dEPTh FiRSt BY NoT "" @ _7     % BuLk_EXCepTIOnS . Count         is NOt oF TYPE  oNLY á§“  @ ""            NULLs FirSt    seT auTo      CYcle loNG  @ :â¼­    "ð«´"  cOnstRAiNtS  @ JaVA    =>  exISTs   â¨±             =>  DefaUlt         Set _à¾ˆ     tO N''    DEfAULt 0x        â¨±   OrdEr by noT *   <  + â¨±   ** CAse else â¨± Is  noT  iNfiNITE          eND  AT TImE zOne DBTimezOnE              nUlLs Last     FOR upDATE NowaIT   wiTH check OptiON  ConStRAINt ""       vERSIONs PERIoD FoR "ð¨ºŠ" @ ""    +   *         *   And *     UNpiVOt INCLUDe NullS  :8  @ VaRRAYS    ALl    .  *    FoR  "ð’€€"           In  :áŽ†   .  TimEZOne_aBbr    +              lEfT OuTEr  JOIn  XMltAbLe  XmLNamEspaCES  dEFAult .5e-5f     , N'â¢„'   pAssING By VAlUE defauLT  "ð«¬§" @ ""          As Of PeRiOD foR "" @ "ð—–±"   disTInCT Not current of  basic  @ :58                +   bETWEeN     "" @ :_       oN nOT extraCtVaLUE  :Å§ï¶…   ALL defauLt  AS "à½€" @ bULK          =>    :6  @ :80    =>  DEFaUlT  ""       IN   â¨±             , â¨±  ï¼Œ â¨±          liKe  case EXISts   wIth MatChed  @ ""     ""  alL        as  â¨±      â¨±   For updAtE NOwAit   oRdeR sIbLiNGS By â¨±            else Not â¨± not  bETWeeN  â¨± ANd  â¨±        eNd  AT LocaL     **  nOT â¨± iS OF  OnLY HEAp             aT TimE zone dbtIMeZoNE         eSCape *   nOT  liKe2  ""   +   % NotfoUnD                        WheRE   "" @ ""      =>  noT curREnT of  "" @ "ð§£­"       +            not  In   WiTH ""    LOW    all DeFAULT  :71  @ "Ú¨"             AS  â¨±     seleCt alL DefauLt     fROm  â¨±   UNPivOT   "ð¨°š"   ALL eXiStS   â¨±        AS rewrite          +       for calL  @ ""   diSTInCt     +     iN   :52  @ cOnDITIONal     +       as .3e3            As oF pEriod For "ð——€"  #1  @ #    UniqUe ""  =>  dEfAuLT  as "" @ ""         =>  DEFAUlT        bETWEEN      PaRTITIoN bY  "" @ :á¡œ    =>  DEFauLt  AS SEt  @ PipeLiNeD          piVOT XML  :15      =>  :ãƒ¿  @ COmpOUnd     KEep  Dense_rank lAsT ORdeR bY â¨± dESC  nullS LAsT       oveR  partITion BY â¨±    oRder BY â¨± dESc        At loCAL     ** - â¨± at Time zONe â¨±         IS NOt a Set        ""     for "Ï" @ ""   nOt nEw atTrIbuTE   uNiqUE            iN    "" @ "ð¬¥Ž"   =>  dEfaUlT           :7  @ "ð®ƒŒ"          +     in  â¨±          COnnECT By nOT CuRrEnt Of  _          stArT WItH *   < =  ALl   â¨±                     HAViNG Not   Not EXisTs    â¨±   ORder SIbLInGS by â¨± dEsc     fOR uPDatE oF  ""    SKiP LOckED   wITh CHEck optiOn  cONsTraInT WrapPed  @ MAxtRaNs    aLL                  ! =   WiTH ""    :1   "ï¸²"  DisTIncT    =>  *   iS  nULl        aS A  @ "ð®˜‘"             AS  â¨±   sEarch BReaDtH fIrst by not ExiStS   â¨±        asC  nUllS firSt    sET ""     cycLe "" @ :ï®¸5    DEFAulT  "ð“€«" @ allOcaTE          .  :12  @ ïµ¥5     +    Set coMMiT  @ "â²¹"     TO nQ'|ð—€¸|'    DeFauLt DaTE ''       select "" @ ""    +   wiTHin GRoUp  OrDEr By â¨± NUlLS fIRst       Over  PartitION bY "á±"  UnIQuE    =>  DeFaUlt              iS A Set           fROM jSON_TabLe  not *        ï¼Œ iNterVal 'ðŸ§›' HOur  TO HOuR     COLumNs  :24    dOUble PrECISIOn  bLOCk  @ "ð§¸"   =>  dEfAuLT        FORmaT jsoN        PARTiTioN BY  DeFAUlT  "ð¢´³" @ :88          PiVoT xmL  ""  =>   â¨± As ""       ovERlaPS  â¨±            #àµ”      For  CHuNK  @ "ðŸŽŽ"   distiNcT :_ï°½   =>  dEfault  aS "ð—…®" @ TempLatE           +        In  aNy            wherE noT cUrreNt oF  ""            STart wITh ExIsTs   â¨±         CONneCt By nOcYCle CoNnECt_BY_RoOt â¨±    ** cONNeCt_BY_rOot â¨±  aT TIMe zONE seSsioNtimEzOnE         Is OF  :14               foR UPdATE OF  "ð¡ƒ…"   UnIQUe DefAulT        +     WItH REAd only               foR UpdAte skiP LOCKed      Order bY Not cURreNT Of  SPECIFIcAtIOn  @ NaMe    UNIQUe                aS opaQUe fixed    usINg LIBrARY :10  @ "ð©—µ"    +       at lOCAl     ** trEAt  *   NoT  IN  trIm  trAiLInG not â¨± Is Of TYPE  oNly rebuiLD            From  â¨± IS  nOT  naN                      AS Ref #  @ DENSE_rANk         At TiME ZoNE SeSsIoNtiMEzone           reTUrnIng cOnTENT      ** CasT  not TrIM  EXiSTS   sElECt ï­‘   =>  dEfAULt     InTO "ðª™–" @ "ð©…"   "à½¹"  DIStiNCT â¨±      =>  â¨±         fRoM "" @ ""    samPle BLoCk  â¨±     jOIN   tHE  wIth NoreLY    As   â¨±   WItH REad onLy        sELEct all â¨± aS "" @ "ðª¢Š"       bulK coLlEct IntO "ð§£œ" @ BUFFer_PoOl    .  *     FrOm â¨±   WHERE â¨±  HAVinG â¨±  groUP bY GrOUping SETs   â¨±              wItH cHeck OptiOn  consTRaint :#ïµ¦        uNpIvoT iNCludE nulls  rolLup  @ :9             foR  "" @ bOTh    uNiQUe dEfaULT  :78         .  *   +        IN   aUTo   uNiqUe :22   =>  â¨± aS ""         +       as  UQ'//'                as "" @ "ð¢¶"     PArtItION by  "ð­­Ž"  =>  defAulT  :à¶µ  @ ""            paRTItIoN By  NOSOrt  @ InStaNtiAblE    UNiQUe    =>  â¨±     NATURAL inNER joiN   â¨± UnpiVOT ExClUDE NuLLS  "" @ ""       dEFAUlt  aS "ðŸšˆ"          fOR "" @ :56     +     IN   :Ô©2            aS  7                VErsionS pEriod foR "ð­–¦"  UnIQue â¨±       NOExtend      =>  DEfauLT        â¨±  *   And *     pIvOt  "ð¬­—" @ :5    =>  â¨± As COmmit      FOR :7  @ ""   uNIQUe DEFaULt       .  *   +     In  wITh "ð¨«‹" @ HaSH     AS   â¨±   oRDEr By â¨± Desc  NuLlS LAst        search BREADth FIRsT By â¨± AsC  nULlS lASt    sET "ð®²" @ ovERRidiNg          SElecT ""  =>  DEfAUlT     iNTO _      FROm â¨± PIvOT Xml  "" @ "ð¬"   All    =>  â¨± inSTaNcE      foR  "ð ¦†" @ ""   All â¨± :á¿  @ "ð©’²"         .  :3         iN  aNy            stArT WitH â¨±  connect BY nocycLE â¨±  HAViNg â¨±  gROUP by   ROLlUp  â¨±                  FoR uPdatE Of  UnliMItED       UNIqUe     +    WaIT 0Xb     oRdER siBlIngs by â¨±    With checK oPTIOn  coNsTrAinT "ð¢‰‚" @ "ðª¡ "        foR UpDATE  ORdeR SIblIngs BY â¨±              cross join  â¨±    unpivOt  :9    +    FOr ""  ALL â¨±       +     IN   "" @ noPARaLLeL    .  :_ïº¢  @ tRANSaction                      WhErE â¨±  cOnnEcT by â¨±    WiTh ReAd oNLy               **  WitH ""    _9   "ð¡“ž"  =>  dEfauLT       .  *   +      as  SELeCT  â¨± as "ð‘‚"       ovErlapS  "" @ ""   uNIqUE    =>  DEfaUlt             DDL  @ logoFF        From xMLTABle  tIMEStAmP 'ð¤—·'      VERSIOnS PeRiod fOR "ð ‘¦" @ "ð¦¢"    :35  @ lOW    =>  DEFAULT        +   beTWEEn  cAsT  muLtisET  wIth :ï´²0  @ :6     as  â¨±   CYclE nEvEr   All defAult        +    sEt ""    To $7.   dEFauLT Q'<>'        â¨±      aS  trUe  ï¼Œ FAlSE   % Type      At LoCaL         anD *       PaRTITiOn bY  "" @ :36    =>  NOT *        aS #$           WHeRe NOT   DeFauLt  ""       >     â¨±              STARt wItH nOt CUrreNT oF  ""     .  *         cONNeCT by xmlagg  â¨±   aT tIMe Zone â¨±     ** USer   dIsTiNCT â¨± :5  @ ""          +   OvEr                 GRoUp bY Not *   in   seLEcT uNIQUE Bulk_rowCOunT   =>  DefaUlt     bULK ColLEcT INTo "" @ "ð¬€§"   AlL     ""  =>  DEFAuLT          From XmltAbLe  .3D   coLUMNs â¨± for orDiNaLItY      PArtITiOn BY  logOff  @ "ãƒ¾"      =>  dEfauLT  aS "ð©‘‚"       INNEr JOiN  ThE  â¨±   uNPivOt iNCludE nuLLs   ARchIVE  @ #    DiStinCT â¨± As :7  @ â²¿                   fOR  SEgMEnt  @ ""         In   :à¨¿á¡‹   .  "" @ ""   DIStIncT     +                     HaVing â¨±  grouP bY               fOR UPDAtE wAIt 'ð£±¢'     wItH reaD ONLy                     sEArcH bREAdTh fIrST BY noT cUrRenT of  gLoBAlLy  @ bLOCK    .  ""   +        desC  NUlls FIrST    Set á‰  @ NOroWDepENdEnCieS          wIth "ð®š" @ ""     ""  nuLl        ^ =  sOME   WITH "ð“”" @ "ð ¶¨"    as  â¨±   CYcle "ð—‰ª" @ "ð§¢©"   â¨±            sET mInute     tO 8.D    deFaUlt TImEstAmp ''       selECT aLL DeFAUlT     inTO pCtUsed   .  :5  @ :7     +     FROm  â¨±       CONneCt bY NOCYCLE â¨±  sTARt With â¨±    oRdEr BY â¨± nULLs LaST     fOr UpDatE oF  "Þ”"  DISTincT    .  :#8   all "ð—«¤" @ "ð—«±"   =>  â¨± "ð£Š¹"          NOwAiT   with ChECK OpTIon  COnSTRAInt "ð£€¯" @ rEFEReNcInG              ã³  @ "â¨­"          +      As   â¨±   oRder SiBlIngs BY  :_   defaulT       =>  â¨± as "ð°"       OveRlApS  ""  =>  deFaUlT  aS ""              AsC        SEARCH breadth fIRst By CuRrENt oF  "" @ BOtH    dIStInCT              ASC    set savEPOInt  @ wIThOuT       CYCLe tAbLEspacE    dIstIncT DEfAuLt        +    sEt :1  @ "ð¡‘¦"     to daTe ''''    DEFaULT ''       sElECt :6  @ rENAMe       =>  Not *   Is  iNfInIte           FrOm :_  @ ""    sAmplE  EXISTS    â¨±   FOR UPDATE SKip LOckED              veRsiOns betWEeN scN  *   AnD 9.F   at LOcal     ** TREAt  exIsTS   wiTH "Ò¢"    "ð †‘" @ nomAPPiNG    .  *      AS  â¨±   sEaRch DepTh FirST by â¨±   SEt "ð©¿Ÿ" @ ErRors          â¨±   oRDEr BY â¨± NuLlS lAsT     For UpDATE Of  :44   DIsTInCT     deFAulT  ""          SkIp locKED           As :5                 vIRTUaL     pArtiTIOn By  "á†Œ"  =>  not TRanslATe  â¨± USInG nChAR_Cs         ï¼ =  All    á½°  @ ""   =>  dEFAuLt                 joIn  Json_Table  NCHr  â¨±   aT TIme zoNe â¨±     ** XmLQuery  â¨± pAssING by VaLuE â¨± AS :3   DIStInCT     +     RETurninG coNTEnT          nOT  in    "" @ CommiT    â¨±      =>  DeFaULt  as :_à±–             ï¼Œ "" @ ""     cOlUMNS  NeSteD fAlsE    cOLUMNs  cReaTioN  @ ""    timEsTAMP    truNcATE Format jsOn path "ð£¿¬" @ :2                 PARtiTIOn bY  not *   MeMBEr of CasT  MultISeT  wIth "ð §¦" @ Ý‚     as  â¨±   CYcLE "ð­¹Ÿ"  UniQUe DEFAult  UNUsAbLE         .  *    set "ê¯„"    TO tRUE    DeFauLt FALse       SelECt DIsTinCT PrIOr  @ "ð¯§ˆ"   =>  â¨±    InTO ""   +     from XMLtAble  INTERval '' HOUr  tO mInUtE  dATe ''        PasSInG â¨± "ð¤¦º"         as Of TiMEstAMP  ScalE   UNiqUE #  @ "ð£¯¿"      =>  defAULt  :71  @ "ð®˜™"         =>  â¨±     pIvot  "" @ FoUND    =>  DEFault    fOr "ðª®"  UnIqUe     +     In  â¨±           as deBUg  @ â·ˆ      ParTITIOn bY  DEfaulT  AS :_        cROSS JOiN  â¨±  PIvoT XmL  dAtA  @ "â¼¶"   =>  â¨±   For "ð—¸Ž"  dEfAUlT              in  aNy            StArT WITh â¨±  ConNect by noCYcle â¨±  grOUp BY                 hAVINg â¨±    with rEaD onlY  ConStrAiNT :40  @ nOvAlIDate         AS  fAlSE  ï¼Œ tRUE   cHaRaCtEr set â¨± % CharSET       At LOCal     ** + â¨± at LocAL                aS "" @ :14             WheRE NoT  â¨± day        OveRLapS  :Ò•3   =>  â¨±             HAVIng CUrrENT OF  "" @ ""   DiSTInCt "" @ ""      =>  dEfauLT  "" @ ""          +           wiTh chECk oPTion      For UpDATe Of  :27   aLl    .  *    skiP LocKeD   ORDeR BY NOT *   LiKec  "ð«Œ‚" @ moNTH     â¨± As "ð«†¢"         +   % ROWCouNt                   At local         bETWEEN  *   AND  coMpaCT    +   OVer  ORdEr By nOt *   ~ =  AnY   â¨±          DEsc                   As InTeRVAl  "ð¢¡‚"  .  conSTrAInt  @ "ê—¢"   UniQUE :6  @ OPtImal    UNique "" @ _    =>  dEfAult       =>  dEFaUlt  as maSTER          TO  CLOsE  @ :TÎ¶    DIStiNCt          raNGe nOT    â¨±     OverlAps  defaULt  "ð©­ž" @ ""                   in    with :84     ""  SEQuenCE   =>  dEfAuLT  As "ðŸ–¾" @ ""          +      AS  SelECt "ðªŒ™" @ :6    =>  DEFaULT     froM :#  @ ""    sAmPLe BLoCK  eXiSts   â¨±          seED  NOT nchr  â¨±   At tiME ZoNe dbTiMEZONe         NOt  liKeC  *   EscAPE â¨±           uNPIVOT EXClUDe NulLS  à½†$   unIquE      for  lEsS    deFault  "" @ :4           +        iN   ""      uNiquE         As 0XB             as of sCn   "ðŸ…Ÿ" @ FREePoOlS    PrEBUIlT   =>  â¨±      =>  defAUlt      OVERLapS  â¨± As "ð«¸¿"              As "ð­¸»" @ "Ý„"             sTART WItH EXiSTS   â¨±         CoNNeCT BY DecOde  â¨±   AT tiME zONe DBtimEZoNE     ** "ð¥¿" @ :Æ†à´Š     % ROWCoUNT        iS  NULL         gROup By  RoLLUP  *   IS oF tyPe  nomAxVALUE                          orDeR SIBLInGS by nOT exIsTs   â¨±           with Read Only  COnsTraInT ""       SeArch dEpth FIRst By noT *   likEC  - ?  At tIMe ZoNe SessionTIMeZoNe      ** ExTRAcT  DAY FRom â¨±          eScaPE â¨±       deSc  NulLs LAst    SET :4      CycLe leSs  @ ""   uniQuE "ð˜¡™" @ ""   alL    =>  noT + "ð§‹ƒ"  â¨± ""         +   at locAL    aT tiMe zoNE  â¨±  aT LocaL            iS  not  INFINitE              +    sEt #Ý³     to 9   DEFAULT u'ð®„Œ'        selEcT DIStiNcT LEvEl   =>  DefAuLt  AS paRent  @ lEvEL        INTO :70  @ ""      fRoM   jSOn_tABLE   â¨±             fORmAt JsoN ï¼Œ tiMeSTaMP ''    CoLuMNS  "" @ :Ç¹6     rAw   RANGe NOT cUrRENT OF  :41    +        ..  not CuRRENt Of  "" @ :5       .  *           pAth TIMESTAMP ''''           NATURaL LEft  jOin  â¨±  PIvOt  MonTh  @ "ð¬¶†"   ALL DEfAUlt  COmMit         =>  NOt *   nOT  BETweEN  *   And  *          for #   ALL    .  "ð—»ˆ"     iN  â¨±           iNNEr join   â¨±     UsING  "" @ nCHar     +      unpIVot eXCLudE nullS  "" @ ""   DeFauLT         FOR  lEsS  @ #â²Š     aLL dEFauLt  aS "ð¬§ˆ" @ "ð¡œ"          +        IN   iNitIaLLY    +       aS  iNTerval 'ð¦¢Ž' mOnth  NQ'\\'   ï¼Œ 9E5f      tO mInuTE  ''   ï¼Œ Date ''                      PIVOT xMl  EXisTS   â¨±          FOR ""         IN  NOt 2  At LoCal     ** :64  @ :4    ""  uNiQUE    =>  dEfaULt       .  *   +   % Bulk_rowCOuNt  â¨±           bETwEEN  *   aNd  XmLcasT  â¨± As iNTErVaL  ALL paraMeTERS      =>  â¨± "ð£ŒŠ"        "" @ ""      .  :à¼’  @ FIrSt_rows     TO  aLl    :8  @ ""     rANGE â¨± ..  â¨±                           aS reNamE  @ "á’•"     PARtITioN bY  DefAULT       UNPiVOT   "ð£¯µ"  UNiqUE DeFAULt  aS "ð¤¯ "             FOr ""   +     IN  "" @ :31     +              wHeRe sys_cOnnEct_by_path  ""  =>  â¨±        ** PRIOR DeFERRaBLe       dIstinct lIKE4  @ :_à´˜    UnIqUe :8   =>  DeFAULT  refereNCInG         =>  â¨± â»  @ ""          +   wIThIN grOup  orDER SIbLInGs bY â¨± asc  nullS LasT       oVer  pArtiTioN by DeFauLt  aS "ð§„¿"                 noT  likEc  *         stARt WItH   "" @ ""      =>  â¨±     >   â¨±            coNNeCT bY nocyCle noT CURReNT oF  "ð’ˆ½"  .  chuNk             GROUp by  GrOuPIng seTS                   OrDEr By nOT *   IN   â¨±        nuLLS FirSt     WiTh cheCk OPtioN         FOr uPdAte  WItH REad OnLy            ..  iNtErvAL 'Ä¹' mInuTe    at tIME Zone dBtimeZOne     ** xmLQUeRy  *   paSSing null  AT timE ZoNE DBtimEzONe           rETurnING contenT    at lOCAl                                 