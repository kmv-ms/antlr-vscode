cREAtE oR rePlace  uNiQUE Index "ðŸŽž"   oN ComPlEtE  @ ""   .  "" @ :ï¹º7     ï¼ˆ sUbtypE  @ "ð ±"   .  ASSOCiaTE     ) From "ð Š…" @ "ð£ˆ¦" @ :5     ""    WHere noT "ð¦•¯" ï¼ˆ aLL :94  @ InitiALlY  @ ""   =>  Not curRENt Of  _  ï¼ˆ ï¼‰   ï¼ˆ + )       aS :2      )    % buLK_ROwcoUnT ( *   NoT suBMuLTiSEt oF ?   muLTisEt InTerseCT disTINcT  PriOR "ð“„’" @ libRaRY   ï¼ˆ )   .  *  ( + ï¼‰  at tIME zONe â¨±        mOD  XmlcASt ( multiSeT ï¼ˆ WitH "ð—©³"   ï¼ˆ instAnCe  @ "ð¥œ®"   ( DISTInct "ð¹±"  =>  DefAulT   ï¼Œ DefAULT  NOMAxValuE  @ "ð¢¤„"      )    , Ò¹  @ :#   ( )   .  "" ( aLl eXISTs  ( sELecT AlL DEfaULt     from XMLTaBLe ( FalsE   PASSiNg "ð®ˆŠ"  =>  â¨± :87     , "" @ "" @ "ð¤‡·"   =>  DEfauLT      ï¼‰     , jsOn_taBLe ( â¨± fORmAt jSon NUlL oN  ERrOr  COlumNS ï¼ˆ "ð¬°¿"   REf :44   ( + )    FoRMAt jsoN path eXtRACt  @ :ÉŒ  @ fIPsFLAg    .  ""      ï¼‰  ï¼‰  pivOt ï¼ˆ defAult  as FaLsE  @ :2  . lIst      ï¼Œ â¨±   foR ( AuThid  @ "ð§Ÿ" . :4   ï¼ˆ â¨±  ï¼Œ bASIC  @ #Î§  @ ""  ( All ï¼‰   =>  â¨± "ð¥“´" @ sCheMA  @ ""      ï¼‰   .  "ð«™˜" ( uNIqUe )     )    iN ï¼ˆ aNy   )   )    versIONS PeRiOd foR ""  ï¼ˆ + )  â¨±  treat ï¼ˆ â¨± as ReF "ð«²¾"    )     ** Cast ( â¨± As lonG ( UNiQue )    % rowtYPE    ï¼‰  At locaL    MuLTiSET EXcePt  ï¼ˆ â¨± ï¼‰ at Time zoNe dBTImezoNE      *  Ï¸á»¸  @ "ð—œ"  ï¼ˆ DeFaULt  "ð©œš"     )   ( + ï¼‰  % RowcouNT    ** CHr ï¼ˆ â¨± usING nChar_cS )  At LOCAl         AnD *       parTItiON bY ï¼ˆ "ð¤Š®" @ ""   =>  dEfAUlt    )  jOiN  ï¼ˆ tABLE ï¼ˆ WItH "" @ save    .  :36    as ( â¨± ï¼‰    SelECt SesSIONtiMEZONe  ï¼ˆ â¨± aS "ð¬€´" @ :#      ï¼Œ "ð‘¢"  =>  DEFauLT    ï¼‰   =>  defaUlT     buLk ColLeCt inTO bAtcH  @ "ð®š„"  ( AlL ï¼‰    , "ð—¿" @ :32       FrOm â¨± UNPiVot inCLUdE NUlLS ( ( :29   ( all pipElIneD   =>  â¨±   ï¼‰   ( + )  ï¼Œ "ð¦’Š" ( )   .  "" @ ""  ï¼ˆ )     ï¼‰   FOR Ü™  @ "ð¬¶ƒ" . ReTEntIOn   ( uniQuE FoRmAt   =>  DeFault  As #  @ :8  . ""      )   ( + )    in ( ( PIPeLIned  @ :8  @ :_    ( aLL â¨± Key     , "" @ ""  ( ï¼‰   =>  â¨± aS paCkAgE  @ "ê›—" @ "ð«¾"      ï¼‰    ï¼Œ "ð«¤·" ï¼ˆ diStiNct defauLt   , "ð”–‚" @ :96  @ diRecT_loaD    =>  â¨± As ""     )   ( )   ï¼ˆ + ï¼‰   ï¼‰    )   ï¼‰      group bY â¨±      hAViNg â¨±     ï¼‰  VeRsIONs BeTWeen SCn  *   And *      As "ð¦‘"    PArtitIOn BY ï¼ˆ deFault    ï¼‰  cross JoiN  â¨±  UnpIVOt EXCLuDE NULLs ( ( :59     )   FOr "ð©†ƒ" ( â¨±  , FInAL  @ ""   =>  â¨± ï³–  @ "ð‘‚’"      )   .  *  ( + )    in ï¼ˆ cUrrEnt_USER     AS daTE ''      )   ï¼‰     ï¼‰ pIVOt xMl ( defAuLt   , dEFAULT    FoR ( "" @ :_     , "" ( ï¼‰   ( uNIQuE NChR  @ "ð¦–ž" @ ""  ( UNIQUE )   =>  â¨±   )   ï¼ˆ + ï¼‰   )    in ï¼ˆ ï¼ˆ â¨± ï¼‰  oRdeR By â¨± Asc  nuLLs firST     FoR uPdaTE  With cHEcK oPTion  ConstrAiNT á‹¤  @ OPtiMaL  @ "ð¡²ˆ"  ï¼ˆ DeFAUlT  As "ðŸŽš"    ï¼Œ "" @ :__   ï¼ˆ â¨± =>  â¨± overRiDINg      )   =>  DefauLT  aS ROW  @ cAlL       )      )   ï¼‰      pArtITiON bY ï¼ˆ â¨±  , "ð«¿¼"  =>  dEfaULt  "ðªŽ€" @ á‰ˆà±»  @ :9       )   On â¨±     WhEre â¨±  COnnect bY noCYcLE â¨±  StarT wIth â¨±    uniON  ( SeLeCT â¨±    BulK cOLLECT iNto ""  .  *  ï¼ˆ + )    froM ï¼ˆ â¨± )   PArTItIon By ï¼ˆ tABlESpaCe  @ "ð—Ÿ¸" . ""  ï¼ˆ UNIQue )   =>  default  ""    , â¨± As :42      )  natUrAL FuLl  JoIN  the ( â¨± )   FUll OUtEr  joIN  jsoN_TablE ï¼ˆ â¨± FormaT JSOn ï¼Œ ''    eRror on  EMPTy  CoLUMnS ( :14  @ arCHive     StRIng COLLaTE sEEd      RAngE â¨± ..  â¨±    TRUNcate PaTH cLOb     DEfaulT 2d   ON  ERrOR    ï¼Œ NEStEd 0x    cOluMNS ( :7  @ "ð ³—"    For OrdinAlItY   ï¼Œ "ð©¦"  .  "" @ "ð¦¦"    PatH "ð«©·" @ :ã…¦      ErrOR ON  empTy    ï¼‰    )  ï¼‰  as Of TiMEstamp  â¨±      As dIsalLoW  @ "ð¬’ˆ" . _      cROss join  â¨±  USInG ï¼ˆ :#_  @ REJeCt  @ "ðª­œ"   .  *   )      whERE â¨±  sTArT with â¨±  CONnECt bY â¨±    inTeRseCt  sELect aLL iDentIfieR   =>  â¨±  , "" ( DeFauLt  "ð£ˆ¦" @ :9  @ PResErve       )   =>  â¨±    BulK cOllecT iNTo :á¦  ( uNiQUE )   ( "ãŽ“" @ "ð˜¥§"   =>  DeFAulT   ï¼Œ dEfaULT  aS nolOGgIng      )   ï¼ˆ + ï¼‰  ï¼Œ "ð¥‡"     FRoM ""   parTITioN ( rEBuILD  ( aLL ï¼‰   .  "ð«·" @ "ð¬º"   ï¼ˆ + ï¼‰  )  SAMPLe BlOcK ï¼ˆ â¨± ï¼‰    iNNer joIn  ï¼ˆ â¨± )   rigHt  jOIN  xmLtabLE ï¼ˆ XMLnamESpACes ï¼ˆ DEfAULt    )  , DATE ''   cOluMnS â¨± for orDINAlITy   )  as oF ScN  :56  ( ï¼‰   =>  â¨± "ð¦»"    , DEFAuLT  AS :_  @ "ð¢²­" . usEr         UNpIVOt ( DELETE  @ :1  . :7      foR "ð¬¡‘" @ Out  @ "ð¬œ¬"  ï¼ˆ AlL ï¼‰   ( + )    In ( ï¼ˆ "" @ "" @ ""  ï¼ˆ :79  @ ""   =>  â¨± ""     )   ( + ï¼‰  , :â³‘áŠƒ     ï¼‰   aS ï¼ˆ 4  , q'~~'   ï¼‰     ï¼Œ #7      )   )      paRtItIOn bY ï¼ˆ "ð£°" @ lIke4   ( ALL deFaUlT  As Json_TAble  @ ""      ï¼‰   =>  â¨±   ï¼‰  NATUrAl JOIN  â¨±   on â¨±     wHERE â¨±  hAviNg â¨±  GroUP by ï¼ˆ ï¼ˆ ï¼ˆ ï¼‰    , ï¼ˆ â¨± )   )   ï¼Œ ( ï¼‰    )   ï¼Œ ï¼ˆ GROUPiNg sETS ( ( â¨± ï¼‰   , ï¼ˆ ï¼‰    ï¼‰    , ( )    ï¼‰        for UpdaTE oF  "ð£Ž•" @ lEVeLs  @ oVErridInG   ( "áƒ¢" ( DistINCT â¨±   ï¼‰   =>  DefAuLT  à·®ï¼ª  @ :9      , :9  @ "ð­¨„" . "ð¬³°"   =>  DefAuLt  aS deLEte      )   ï¼ˆ dIstinCT )    ï¼Œ SesSiOn   ( + )   NowaIT   ordeR SiBLiNgS bY â¨±    wITH rEaD oNly    )  ordER bY â¨±  ï¼Œ â¨± DESc     WiTh ChecK OPtion  CONSTRaINT "ãˆ…" @ "ðª´œ" @ :_9   ï¼ˆ "ð©§—" @ Ref   ï¼ˆ dISTInct ï¼‰   =>  â¨±   )      ï¼‰         ï¼‰   ï¼ˆ + )   ï¼‰  AS ( ï¼ˆ WIth ""  .  "ð£" @ :14     AS ï¼ˆ â¨± ï¼‰  SEArcH breADtH FIRSt BY cUrrEnt Of  ""     AnD nOt ?    ** sys_cONnEct_bY_pATH ï¼ˆ )   aT Time ZONe â¨±      MOD  tRAnSLATE ï¼ˆ â¨± uSING CHar_Cs ï¼‰  at tiMe zONE SeSSIoNtIMEzonE    MUltIsEt InterSecT  ExtrACTVALUE ï¼ˆ â¨± "" @ "â–¾" . C       , â¨±  )        is  NAN        nulLs LasT    seT à¾¤   .  pOLymOrPhIC      CyClE :à¥¿7   .  *   ï¼Œ STateMENt  ï¼ˆ defaUlT    )   ( DiStincT "ð©³" ï¼ˆ dIStInCT ï¼‰   =>  NOT - â¨± at loCaL       +  - â¨±   ** "ð‘†§" @ riGhT  . ""   ( All ï¼‰   ( + ï¼‰  kEEP ï¼ˆ deNSe_raNk first ordEr siBliNGs bY â¨± dEsc  nUlls LAst   ï¼Œ â¨± DEsc     ï¼‰  oVeR ( ORder BY â¨± NUlLS Last     ROwS BetwEen CuRrent roW  And â¨±  PreCEdING    )   AT Local    multISeT eXCePt all  + â¨±       NOT  bEtWeEn  *   AND  ï¼ˆ â¨± ï¼‰  At lOcAL      /  #   ï¼ˆ + )  over ( paRtITiON BY :97  @ "ð©®" @ sEGmeNT   ï¼ˆ ï¼‰   =>  DEFauLT  AS "ð­¶®" @ ""       oRdER SIBliNGs by â¨±  ï¼Œ â¨± DESC  NullS fIrSt     ï¼‰     ** tIMEsTAmP ''   At tIME zoNE DBTIMEZonE    muLtiset unIoN  u''            Or (  â¨±  , "" @ _àº—  . :97    =>  defAuLt  "" @ "ð£Œ¥"      ï¼‰  >  ( DeFAuLt   , â¨±   ï¼‰        as LoCAtor  @ :17      ï¼Œ DEFAUlT    ï¼‰     sET "ð›€Š"    tO inTErVaL '' mONTH ( .3E2d   ï¼‰      DeFAulT uQ'$Â¤$'       sElect pROCeduRE  ( TRANslAtE ( â¨± USinG chAr_CS )      +  :1  @ "ð­‚"   ï¼ˆ + )  WitHiN group ( oRdEr bY â¨± aSc  nUlls fIRST     ï¼‰  oveR ( ï¼‰         In  *       oR PRior â¨±  aT time ZoNE SESsiontiMEzone    MUlTIset eXCEpT DIStiNCt  CUrSOr ( â¨± ï¼‰  AT locAL     ** new "" ( "" ( UNiqUe ï¼‰   =>  â¨± As nOcYcLe  @ ""     ï¼Œ defauLt    )     At TiMe ZOne sessiONTIMeZONE      /  TRANsLAtE ( â¨± usIng NCHaR_Cs )   mUlTisEt EXCEPT  cOnNECt_BY_roOt â¨±      +  :á €  @ EscapE    ï¼ˆ + ï¼‰  WiThIn gRoUP ï¼ˆ ORDer SIBLIngs BY â¨±  , â¨± Desc     )   aT lOCal    mulTIset uNIon  decoDE ï¼ˆ â¨± , â¨± ï¼‰    ** ExTrActvalue ï¼ˆ :_#   =>  dEFaUlt  As ""     ï¼Œ â¨±  ï¼Œ â¨±  )   mulTISeT UNion ALl  xmlQUery ( â¨± paSSInG â¨±  ï¼Œ â¨±   rEtuRninG CoNtENT ï¼‰      /  dECoDE ï¼ˆ â¨± )  At time Zone DBTiMeZONe    MuLTiset InTeRsect ALl  xmLqueRY ( â¨± paSSInG by vaLuE â¨± as :4  @ "á‰€" . ""  ï¼ˆ uniQUE "" @ "" . ""   =>  defaUlT   ï¼Œ â¨± AS CHuNK      )     ï¼Œ â¨± AS rowCOUnt  ï¼ˆ uniqUE )   ( "ð®­™" @ NOORdEr   ï¼ˆ disTinCt â¨± )   =>  DEfaUlT  sIblIngs  @ È­       ï¼‰   ï¼ˆ + )    rETuRnING CoNtEnT ï¼‰   AT timE zoNe â¨±         Not  LIKe2  *     ANd nOt exiSTs  ( â¨± ï¼‰        , NoT ( "ð«¤"  =>  dEfaULt  "ð£¬"    , â¨±   ï¼‰  oVERlaPs ï¼ˆ DefAULT  :3  @ :3       ï¼‰         ""     )   =>  CuRREnT oF  comPOUnD  @ "ð­›œ" . :ã‚£Û°    .  "â‹¾" ( ï¼‰       OR *   Is noT of ( oNlY "" @ "ð’”¡" . "ðª­§"   .  CONStrUctOr    ï¼Œ :62  @ nOsHARd  . "ðš¢"   .  "ð˜£˜"   )         , nOt cURRENT of  FirSt  ( dIStIncT ï¼‰      aND NOt "" @ #    ï¼ˆ Use  @ :#0   ï¼ˆ ï¼‰   =>  deFaUlt    )   ( + )  KEEp ï¼ˆ DENSe_rank fIRsT ORdER siBLiNgs by â¨± nUllS fIRsT     )   At LOCAL    MulTIset UnION dIsTinct  TRim ( â¨± fROM  â¨± ï¼‰    ** xmLCast ï¼ˆ â¨± as dOublE pRECisIOn   )  At LoCAl    MUltisEt uNIoN  cUrSor ( â¨± )        is of tYpe ï¼ˆ ""   , :2   .  nOrOWDepEndeNCIEs  @ ""    ï¼‰      Or noT xMlaGg ( â¨± ordEr by â¨± AsC   ï¼Œ â¨± nulLS LASt     ï¼‰  at locAL       ||  NULl  aT locAl    MuLTIset UNIOn  ( â¨± )  At time zONe sessIONtimEZonE     ** nuLL   MUltiset UNIOn DISTiNcT  Uq'{ðª®¥}'   aT timE ZONe SEsSIONTimEZOne         ~ =  *     ANd ( ""  =>  â¨±   )  oveRlapS ( :9  @ ""   =>  â¨± aS "Ó³" @ OpTiMAL      , DeFault    ï¼‰         eLsIf  @ :6        INTo RENamE  ï¼ˆ )    , "ð‘ –" @ "ð ¼˜"  ï¼ˆ DiSTInCt ï¼‰   ï¼ˆ + ï¼‰    fRoM ( "ð¦¼™"    pArtiTion BY ï¼ˆ not eXiSTs  ï¼ˆ â¨± )     or CUrRenT of  :Ñ“á§ˆ   ( + ï¼‰         ï¼‰   pIvot xMl ( nOt *     aND - â¨± at lOCAl       ||  xmlcasT ï¼ˆ â¨± aS timEstAmp   charActer sEt â¨±    ï¼‰    ** ExtrAcT ( tiMezone_MInutE From â¨±  )        is  NoT  inFInIte        as "" @ "" . "á •"     ï¼Œ deFAUlt    FoR ï¼ˆ "" @ sHUTdOWN  @ unLImITED   ( UNIQUE ""  =>  deFAult    )     ï¼‰    iN ï¼ˆ ï¼ˆ "ð§´–" @ ÃŒ  . "ð§¿‚"   =>  â¨± As "ð§­±"     ï¼‰  OVErLapS ï¼ˆ dEfaUlt   , _  ( ALl "ðŸ“¯"  =>  dEFaULT  BuLK      )   =>  â¨± foraLL      )       oR not *   nOt  bETWEEN  "ð¡½™" @ ""  ï¼ˆ :_4   =>  DEfauLT  "ð£–¡" @ "ð­¼"     ï¼Œ â¨±   ï¼‰   ï¼ˆ + ï¼‰  % buLK_ExcEPTiOns . couNT         anD  *         aS :89     , ANY   ï¼‰   ï¼‰     ) UnPiVoT ExCLUde NUlls ï¼ˆ _ã†ˆ   .  *    FOr "" @ sCHEMa   ( )   ( )      IN ( ( gENERATeD  @ RoWID   ( UnIQue :3  @ "ð¬ˆ­" . :6   ï¼ˆ )   =>  Not "á‡" @ :à¯±2    ï¼ˆ + )    ** casT ï¼ˆ â¨± As raw    )  aT TiMe zoNe DbtIMEzoNE    multIsEt IntERSEct diSTincT  Sys_CoNnEct_By_paTH ( UNIQue ï¼‰      /  ExtraCT ï¼ˆ TIMEzONE_ReGIoN from â¨±  ï¼‰    ** CAse wHEN â¨± THEN â¨±  elSe â¨±   eND           or eXiStS  ( â¨± )         ï¼‰    ï¼Œ :34   .  ERRor_codE  ( disTINCt EXTRact ( TImeZONe_MInUTe FRom Date  â¨±  ï¼‰  AT LocAL     ** cUrsOr ï¼ˆ â¨± ï¼‰  AT TimE ZONe â¨±    MulTisET UnION  xMlQueRy ( â¨± paSSiNg â¨± aS "ð«Œ…"  ( "" @ "ð¤°²"  ï¼ˆ ALl â¨±   )   =>  dEFaULt  "ð‡³" @ HAsH  @ NOparAllEL      ï¼Œ DEFaULT  aS ÙŠá‰‘      ï¼‰      REturnING CoNTENt )   aT TImE zoNe â¨±      Mod  PRIOR â¨±        LIkec  *   escApE â¨±    AND nOt *   nOt  iN  ï¼ˆ â¨± )     oR cuRREnT Of  "" ( DIsTIncT )   ï¼ˆ + )       AS BYTE  @ :49  @ "âŽ„"     , "" @ "" . :27    =>  deFAULt    )   ( + )   ï¼‰   As ( 0X9   ï¼Œ 7  ï¼‰     , ï¼ˆ varCHar   .  Log  @ "" @ "ð¦´¥"  ( nOT cUrRENt oF  "ð“Œ¢" @ "Ò¸"  ï¼ˆ )   .  NEw_naMeS   ï¼ˆ + ï¼‰     oR nOt ï¼ˆ  "" ( DisTInCT DEfaUlT  "ð«–Š"     )   =>  â¨±  , :_  @ Hour    =>  dEfAulT    )  > =  ï¼ˆ â¨± )        aS "" @ ã„¤6      ï¼Œ defaULT  as "" @ ""      )     )    ï¼‰   ï¼‰    As oF peRIod fOR :57  @ #á¿¼   ï¼ˆ )   ï¼ˆ UnIQue "ð—²²"  =>  *   =  ANy  ( ( ï¼ˆ "ð«¿‡" ( ï¼‰   =>  defaULt  SerializabLE  @ ""      )  ï¼Œ ï¼ˆ DEfauLT    ï¼‰  ï¼‰  , ï¼ˆ ï¼ˆ FLasH_CacHe  @ :77  . "ð«žˆ"  ( alL â¨± moD     ï¼Œ TrAiLiNg   =>  â¨±   )   =>  â¨± ""     ï¼‰  , ï¼ˆ â¨± )  ï¼‰  )    anD nOT exisTS  ï¼ˆ â¨± )     or conNECT_BY_RoOT â¨±  AT LocAL    mUltIseT EXcEPt DiSTinCT  nchR ï¼ˆ â¨± )     /  TrIM ï¼ˆ â¨± )   mULTiSET uNIOn  ï¼ˆ â¨± ) at TIme zone DBTImeZOne       -  "ð—¤" @ "ð¤¾‰"   ï¼ˆ )    OVer ï¼ˆ pArtitIOn bY DefaULt     ï¼‰   at loCal     ** trEAt ( â¨± AS :55  @ ONLY    .  "" @ ""     ï¼‰  . :à¶«  @ :8  @ ""  ( aLL dEFaulT   ï¼Œ :áº‡   =>  defAulT    )   .  *  ( + )     MuLtISeT unIOn dIStiNcT  NuLL  At local      *  "ð®Ÿ”"  ( + )  % IsopeN        IS noT a Set        As _     ï¼Œ "ð¢ª¡" @ "ð¤‚"  ï¼ˆ )   =>  NOT DeCODE ï¼ˆ â¨± ï¼Œ â¨± )  aT loCal     ** "ð«Ž»" @ sHrInk    ï¼ˆ DiStINCT )   ( + )  OVER ( OrdeR siBLINGS BY â¨± asc     ROwS cUrrENt row    )    MuLTISET iNterSECT  neW MOd  ï¼ˆ all "" ( DEAlloCaTe  @ CLOse    =>  â¨±  , â¨± aS :_5      ï¼‰   =>  â¨± "" @ "ð«Š§" @ :48      ï¼Œ DEfaulT    )     At tIme ZONe sessiOntimezOnE       -  case â¨± When â¨± THEN â¨±   ENd  at TiMe zONE DbtiMezoNe    mULTisET InTERsEcT all  ï¯¼à·²  @ "" . ""  ï¼ˆ alL DeFauLT    )   .  :12  ( )    ovER ( PArtITION by "ðª¦—" @ :38    =>  defaUlt   ï¼Œ â¨± as ""      )         iS Not of ï¼ˆ StaRTUp  @ "" @ DEMAnD    .  COmMIt  @ ALloW  . FORALl     ï¼Œ :Õ¼   .  "" @ "ð¡¥›" @ :3     ï¼‰      oR EXisTs  ï¼ˆ â¨± )         ï¼‰    ï¼ˆ  "ð©¼„" ( DeFAUlt  "" @ "ð¢¼•" @ ""     ï¼Œ â¨±   ï¼‰   =>  dEFaUlT  AS MINUTe     ï¼Œ NeSted   =>  dEfaUlt    )  Not  IN  ï¼ˆ â¨± )      oR not + â¨±   ** connECT_BY_RoOT â¨±  AT loCal    MULtiSet ExCEpT  xMlAgg ( â¨± OrDER by â¨±    )     *  neW "ðŸ˜¼" @ "ð©†" . á‰¿9    .  *     MULtISET ExCEPT alL  cASe â¨± WhEN â¨± THeN â¨±  eLSe â¨±   end  aT timE ZoNe â¨±     ** Connect_by_rOOt â¨±  At tIMe zoNe sesSIONTIMezonE         not  LiKE2  *   escapE â¨±           "" @ :4  . "ð’‚¬"      uNPIVOT eXCLUdE NuLls ( "" ( UNiQue )   ï¼ˆ DAtE ''''   aT lOCal    mULtisET EXcEPT  :_Æ¥  @ :4    .  "ð¦£œ" ï¼ˆ )   ï¼ˆ + ï¼‰  % bUlk_rOwcoUNT ï¼ˆ â¨± )       mOD  Nchr ï¼ˆ â¨± )    ** sys_COnNEct_BY_PATh ( diStincT )   at TimE ZoNe â¨±         BETween  *   And  *        "ð¦ºƒ"     )   ï¼ˆ + )   for ( glOBAL  @ "â¤’"    ï¼Œ "" @ ParaMETerS  @ :68   ï¼ˆ )   ( + )   )    IN ( CYCLE   ( UnIqUE "ð¬¯ª" @ uNConDItional   ( ï¼‰   =>  nOT eXTraCT ï¼ˆ â¨± aS ""     , â¨±  ï¼‰  AT LOcaL    MUlTISET UNIoN ALl  "ê¥Ÿ" ï¼ˆ UNiqUe #   =>  â¨±  , dEFauLt  aS MetaDAtA      )   ï¼ˆ + ï¼‰  wIThiN GrOUp ( ORdEr SiblinGs bY â¨± aSc  nuLLs FiRst   , â¨± AsC  nuLls fiRSt     )         IS Not oF TYpE ï¼ˆ onlY Ref  @ "ð¼»" . :ê  â»    .  "ð­ž±" @ "" . ""    ï¼Œ Cast   .  "ðª¢±"   ï¼‰        AS "ð’€Ž" @ :2  @ "ð¦­“"     ï¼Œ :53  @ "ð©²®" @ ""   =>  DeFaulT    )      ï¼‰   )     , ""  .  :1  @ :_9     SUBpARtITIOn ( REwrite   ï¼ˆ + ï¼‰  ï¼‰  piVoT ï¼ˆ eXistS  ( â¨± ï¼‰     or NOt currENt of  "" @ "âº‡"  ï¼ˆ ALl "ð©²³" @ "ð—¼¼" . NOSOrT    =>  defaUlt  ï²„á¢€  @ _  . ""     ï¼Œ â¨±   ï¼‰   ï¼ˆ ï¼‰      anD nOt eXIStS  ï¼ˆ â¨± )         FoR ( sCheMa  @ bInAry   ( alL :68  @ Char    =>  dEFaULT    ï¼‰     )    In ( â¨± )   ï¼‰      cROss jOiN  xmLTABLE ( XMLnAmespACeS ( "ð­¥Œ" ( )   =>  defAULt  á‹œ8      defAULt N''   ï¼‰  , 0x7   PASsING bY VAlUe *   sUbmulTisET OF scOPe   ( + )  KEEp ï¼ˆ DENSe_RAnk Last OrdEr SIbLInGS BY â¨± nUlls FirSt   , â¨± nUlls FIrST     ï¼‰  oVeR ï¼ˆ PaRtItIoN bY dEfaulT  as ""      OrDER By â¨± asC   , â¨±    ROWs beTWEEN â¨±  PreCeDinG  AnD UNboUNDED fOLLowiNg    )      *  ?  aT lOcaL    mULtiseT iNTeRseCT  XMLCaST ( muLtIsEt ( â¨± ï¼‰  aS "" ï¼ˆ distinCT â¨± as SPaCe     , :17  ï¼ˆ )   =>  DEFauLt  as "" @ "ð“„†" . "ð¤»´"      )   .  *  ( + ï¼‰   )  At Time ZOne sESSioNtimezOnE     ** PRioR â¨±            and ï¼ˆ ""  =>  â¨±  , dEFAUlt    ï¼‰  OveRlaPS ( :_ã……  @ "" @ ""  ï¼ˆ alL "" @ :87   ( ï¼‰   =>  â¨±   ï¼‰   =>  â¨± NOMAXValue  @ outER      ï¼Œ dEfAulT  :7  @ :#3       )       or *   iS  null         , deFaUlt     COlumNS noT (  miNuTE   =>  â¨± "ð©¿·"    ï¼Œ DEfAULT  As sErIaLlY_ReUSABLe  @ "" @ PreCISioN       )  NOT  IN  ï¼ˆ â¨± )     aND Not TrEAT ï¼ˆ â¨± aS "ð¡–•"    )   At LocAL         Is  NOt  Nan      Or nOt eXIsTS  ï¼ˆ â¨± ï¼‰       INtERval  "ð—“" @ :à·ž  . SchEmA    ï¼ˆ UnIquE DEFAUlT    )    tO ( uNiQUe )   :8  ï¼ˆ DeFaULt  ""    ï¼Œ "â©¢" @ ""   =>  *   < =  aLL  ï¼ˆ â¨± ï¼‰         )     RANge NOt CURrEnT Of  _Ø  @ ""   ï¼ˆ UnIquE )       Or *     AND tRIm ï¼ˆ â¨± )   MulTIsEt UNiON  decODe ( â¨± ï¼Œ â¨± )  aT LocAL     ** "" ( )   .  *  ( + ï¼‰  KEep ( DeNSE_RANK FIRst ordeR siBlinGs BY â¨± Nulls last     )         In  *         ..  nOt ï¼ˆ  "" ( vALIDate  @ "ð§¼¦"   =>  â¨±   ï¼‰   =>  DefAuLT  aS TriM  @ à´±$      , â¨±   )  <  ï¼ˆ ï¼ˆ usE  @ :21  @ :46    =>  â¨±  ï¼Œ dEFaUlt  aS ""     )  , ï¼ˆ "" ( ï¼‰   =>  â¨± "" @ "ð£™½" @ ""      )  ï¼‰      or "" @ "ð£«˜" . #   ï¼ˆ DistinCT )   .  timEzone_abbR   ( + ï¼‰  wiTHiN GRoUP ï¼ˆ orDer BY â¨± DEsc   , â¨±    ï¼‰    muLTISET UnION alL  nulL  aT Time zonE DBTiMEzonE      /  + â¨±               PAth tIMESTAMp 'ð ™•'    ï¼Œ NOT CuRREnt oF  "" ( ALl â¨± atTrIBuTes  @ "" . iNVAlidAte      ï¼Œ DEFauLT    )      AnD exISTs  ï¼ˆ â¨± ï¼‰       For oRdinaliTY   ï¼‰   PArtitION by ï¼ˆ :4  @ :41    =>  Not (  ONly  @ :ï²’$  . ""   =>  DEFAuLt   , SPaCE   =>  DEFAUlT    ï¼‰  < >  ï¼ˆ ï¼ˆ ( DeFaULT  ""    , â¨±   )  , ï¼ˆ â¨± ï¼Œ â¨± )  )  )     and *   IS not empTY      Or NOT ?  at timE zONe â¨±     ** CUrsor ( â¨± )     /  "á¨¨" ï¼ˆ â¨± As strING      ï¼‰   .  *  ( + )    ** ï¼ˆ â¨± ) at TIME ZoNE SEssiOnTImEzOne    MUltIset eXCEPT  XMlagG ï¼ˆ â¨± ï¼‰  AT LocaL       +  SyS_COnnEct_BY_patH ï¼ˆ UnIQue "á„”" @ :È§   ( disTINCt ï¼‰   =>  DEfauLT  suspEND      )   AT LOCAl    MuLtISeT excepT DiStinCt  mEDIUm   .  "ð£¨“" @ "" . "ð­•Š"  ( ï¼‰    % noTfouNd    ** ï¼ˆ â¨± )        bETWeen  *   ANd  ï¼ˆ â¨± ï¼‰  at LoCal    MulTiSet uNION  xMLqUERY ( â¨± pASSing bY vAlue â¨±   rETuRNiNG cONteNt ï¼‰   At TiMe ZOnE DbTIMeZoNE                )      coNNect BY NOCYclE ExIsts  ï¼ˆ â¨± ï¼‰     Or NoT :2   ï¼ˆ )   ( + ï¼‰    ** EXtRACT ï¼ˆ "ð¬• " @ "â’¼"   =>  â¨± As pRioR      ï¼Œ â¨±  , â¨±  )   MulTISeT ExCept  ncHr ï¼ˆ â¨± )        NoT  lIkE  *         stART WItH NOT currEnT of  _  @ :95  @ ""  ( UniQuE "" ( â¨±  ï¼Œ ""  =>  DefAUlT    )   =>  DEFaUlt  AS :5  @ :_â·‚  . Result_CaCHe      , ï­¸   =>  â¨±   )      AND *   bEtWEEN  *   and  OPtIMAL  @ "" . EvalUaTe   ï¼ˆ unIque )   ï¼ˆ ï¼‰   ( + ï¼‰  kEeP ( dENSE_raNk lAst ORdeR SiBlIngS BY â¨± aSc  NuLls first     ï¼‰   At LoCAL    MUlTIsET INtERSeCt all  CAst ï¼ˆ mULtISEt ( â¨± ï¼‰  AS INTERVaL ï¼ˆ DISTINct DeFaulT   ï¼Œ â¨± "ð£¾•" @ :3       ï¼‰   "" @ LOnG  @ ""  ï¼ˆ AlL "ð¡œ¿" @ xmlTYPE  @ "ð  ‰"  ( ï¼‰   =>  â¨± "ð£±«" @ #  . BaSIC       ï¼‰   .  *   To  :ã     CharacteR sET â¨± % chARset     ï¼‰  aT TiMe ZONe SessiOntiMEzONe       +  neW "" ï¼ˆ dEfAuLT  AS :5  @ ""      )   ï¼ˆ uNiQue )   ( + ï¼‰   At TiMe ZOne â¨±    muLtISeT excEpT aLL  cASe WhEn â¨± then â¨±  eLSe â¨±   EnD  at lOCAL            OR noT ( ZoNE  @ ""   =>  â¨±  , :1  @ "ð©¯"  ï¼ˆ ï¼‰   =>  DeFAUlt  aS "à²«"     ï¼‰  OverLAps ï¼ˆ "ð¢«¦" @ "â¿‡"   =>  â¨±   ï¼‰      ANd trIM ( trAIlING â¨± FrOM  â¨± )    ** xMLQUERY ï¼ˆ â¨± PASSINg â¨± aS aT   .  *  ( + )    rEturnIng CONTeNT ï¼‰      *  UsAGE   ( ALL â¨±   ï¼‰    % bulK_ExCEpTIonS . coUNT   At loCal    mULTIseT UNiOn AlL  + â¨±     +  CaSt ï¼ˆ mUlTISEt ( â¨± ï¼‰  AS INteRVAL ï¼ˆ defaulT  "ð”‘" @ "ð—“—"     , DEfaULT  as :1      )   "ð ¯­" ( ï¼‰   .  "ð‘±¹" @ noReLY   ï¼ˆ DiSTINcT DEfAuLt  "ð¨«€"    ï¼Œ "ð¦€‘" ï¼ˆ ï¼‰   =>  â¨±   )   ï¼ˆ + ï¼‰  TO  _  @ :à»—       )  at tIme zOnE DbtiMezoNE    mUlTiset exCEpT  tRiM ( â¨± ï¼‰  At TIME zoNE â¨±     ** tREat ( â¨± AS REf "ð£¯ " @ FiRst  @ :78      )  . ChAR_cS  ( all defaulT  sKip      ï¼‰   .  *  ï¼ˆ + ï¼‰     MULtisEt ExCept DiSTincT  translatE ï¼ˆ â¨± using chAR_CS )        ï¼ =  *         GROuP By ï¼ˆ ( ROllup ï¼ˆ NOT EXISTS  ï¼ˆ â¨± ï¼‰    And ncHr ( â¨± ï¼‰  at locAL      /  XMlCAST ï¼ˆ â¨± As TIME ï¼ˆ ""  =>  â¨±  , :5  @ "ð—„¹" . PiPELined    =>  â¨± as :á¥”1  @ "ð¨½µ"      ï¼‰     )   MultiSet excEpt  NeW "" @ "ð¬§¨"     At TImE ZONE â¨±     ** ?   mULtISET EXcEPT  ?      +  :19  ( diStINct ï¼‰   ( ALL )   ï¼ˆ + )  % NOtfOUnd  AT LocAL     ** SyS_coNnECt_BY_PATH ( DEfAUlt  As noNe      ï¼‰   aT TiME zOne dBTimeZoNe    mUlTIseT exCePT DiSTinct  "ð­§§" @ PaRAllel_EnabLe     Over ( )      /  - â¨± At loCaL    multiSet INteRsEcT dIsTInCt  eXtrAct ( TimeZONE_miNuTe FROM DaTE  â¨±  ï¼‰        iS of TYPe ï¼ˆ "ð¨¨ƒ"  .  "" @ "ð¢©"    , #  @ PartIaL    .  :97    )      Or dEcodE ( â¨± ï¼‰   muLtiseT inTERSeCt  TreAT ï¼ˆ â¨± as "â¤·" @ :áŒ¬    .  "" @ "" . "ð“…•"     )   aT TImE ZonE sesSiOntimezoNe     ** CONnEcT_bY_rOOT â¨±  aT LOcal         nOt  iN  (  â¨±   ï¼‰    And nOt *   IS  Not  nUlL          )    )   , ( ï¼ˆ new  ( uNIqUE )   =>  â¨±  ï¼Œ DefauLt  cloSE  @ _       )  OVerlAPS ( "" @ "ð­˜" . :73   ( DeFaULt  As "ê“±"    ï¼Œ NOshARD  ï¼ˆ )   =>  â¨±   )   =>  DefaUlT    ï¼‰       or currenT oF  "ð£¦"  ( + ï¼‰         , ï¼ˆ â¨± , â¨± )   ï¼‰   ï¼‰        FOR UpDATE of  à±§1  @ nOExTEnd   ï¼ˆ aLL ï¼‰   .  *  ï¼ˆ + ï¼‰   WaIt ''      ï¼‰   )    ( WITh limit   .  "ð¦—˜" @ "à¡¥" . "ã€Š"    AS ï¼ˆ ( â¨± )  wItH ReAD onLY    )  sEaRCh deptH fIrST BY NoT NuLL    ** ï¼ˆ â¨± )    /  XmLaGg ï¼ˆ â¨± ï¼‰  aT tIme zoNe DbTimEzONE    muLTIsET iNtERsect All  ( â¨± ï¼‰     -  extraCTValue ï¼ˆ :8  @ #ã„½  . DepTh    =>  â¨± secURefile      , â¨±  ï¼Œ â¨±  ï¼‰  at tIMe zOnE â¨±    mulTIset uNiOn aLL  + â¨±    /  - â¨± AT LocAL    MultIsET eXCEPT  exTrAcT ï¼ˆ tIMeZoNE_REGiOn FrOM â¨±  )    ** :19  ( "ðª¥" @ ""   =>  â¨±  ï¼Œ DefAult    ï¼‰   ( )   ( + ï¼‰  WITHIn GrouP ï¼ˆ oRDeR BY â¨± DEsc  NULLS FIrSt   ï¼Œ â¨±    )  OvEr ï¼ˆ orDEr siBlINgs bY â¨± Nulls FirST     ROws â¨±  FOLlOwiNG    ï¼‰   aT LoCAl         IS A SET     ANd noT cuRRent oF  "áµ¹" @ NoEXtENd    ( uniQUe "" ( deFaulT  :9      )   =>  â¨± as "" @ "ðŸˆ¡"     , â¨±   ï¼‰       OR Not *   IS  Not  INFINiTe     and ( :_à¶ˆ  @ ""   =>  dEfAUlT    )  OveRlApS ( deFaUlT  "" @ cOALEsCE  . "ð©¨ˆ"      )         desc   , nOT exiStS  ( With :Ó„    ï¼ˆ ""   ï¼Œ "ð§¿" ( UNIquE ï¼‰   ( diStiNCT defAuLt    )     )  AS ( â¨± )  CyCLe boDY  ( UNiqUe )   .  "ð”˜¶" @ ""  ï¼ˆ â¨±   )   ï¼ˆ + )   SeT "" @ :8    .  :45     To iNTErVAL '' MINUte  tO YEAR ï¼ˆ dATe ''   ï¼Œ fAlse   ï¼‰      defAuLt inTerVAl '' MinUtE  to secOND        ( â¨± )  order bY â¨±  , â¨± nulLS FiRsT     foR updatE OF  DatAbASE  @ fReEPoolS    ( + ï¼‰  ï¼Œ _8  ï¼ˆ DistInct )   .  "ð¬¢¤" @ "" . uNusAbLe      sKip LocKED    )       Asc  NUlLs LASt    sEt :à¦š   .  "ð­‹¹" @ ""      cYCLe "" @ :7      sET FIRSt  @ "ð¬˜ˆ" . TRIm      tO 0X    deFAulT u''       SELeCt _   =>  deFAuLT  PIPe       FROM XMltABLe ( XmlNaMespaCEs ( )  , q'(ð˜•¢)'    ï¼‰  VerSIONs pEriOD For "" @ :ê –   ï¼ˆ dIStinct WriTE   =>  PrIOR â¨±     MOD  eXtrActvAluE ï¼ˆ DeFaULt  as ""     , â¨±  , â¨±  ï¼‰    ** MinuTE  ( ï¼‰   ( + ï¼‰  % bULk_ExcepTiONS ( â¨± ï¼‰  . ErROr_CoDE   aT TiME ZOnE SEssIONtImeZone       -  CursoR ï¼ˆ WiTH "ð›€“" @ :29  @ "ð¦š€"    aS ï¼ˆ â¨± ï¼‰  sEaRcH DEPTh FIRst By â¨± aSc   ï¼Œ â¨±   Set "ð«£ˆ" @ RELiEs_ON        , :39    ( "ð¢¬" ï¼ˆ ï¼‰    , "" @ ""  ( áŽ‘áž­  @ "" @ "ð§¤"  ( unIQue )   =>  â¨±   )   .  *  ( + )   ï¼‰  As ï¼ˆ â¨± )  SeaRcH DePTh FIrST bY â¨± NULlS fIRst    SeT RoLLup  @ "á¢"      cYcLe "" @ :#  @ "ð«¡‹"   ( â¨± As ""    ï¼Œ defAUlT  :41  @ "" @ "ð§‡¯"      ï¼‰     SEt ""    To .8D    DefAULt tiMeSTAmP ''       SeLECT oPaqUE   =>  â¨±    from ( ï¼ˆ â¨± ï¼‰  as of perIod FOr "" @ ""  ( disTINcT defaUlt    ï¼‰   ï¼ˆ InStead   =>  dEfAUlT  :41     , "" @ PrIvAtE  . CoalESCE    =>  â¨± as ""     )    bETweeN      PARtITION By ï¼ˆ _  ( uNIQUE )   =>  â¨±   ï¼‰  JOIN  â¨±  pivoT ( DefAult  "êš˜" @ à®…       FoR ( oVErriDInG  @ DepTh   ï¼ˆ UNiQuE ï¼‰   ï¼ˆ + ï¼‰  , "ð£¡°"  ( + ï¼‰   ï¼‰    In ( â¨± )   ï¼‰     )    ï¼Œ ï¼ˆ â¨± )  piVot XmL ( trAnSlate  @ ""  ï¼ˆ dEfAULT   ï¼Œ ""  =>  â¨± AS :9  @ ""      )   =>  â¨± AS "ð¡›…" @ :19      , defaULt    FOR ( "ð”…"  ï¼ˆ + )  ï¼Œ :ï²œá½¡  @ "" . loGoFF   ( UniqUe DeFaUlt   ï¼Œ DEFaULT  "â‰“" @ max       ï¼‰     ï¼‰    In ( ï¼ˆ "ïº™" @ :5    =>  â¨±  ï¼Œ ARchive   =>  â¨±   ï¼‰    )   ï¼‰     _     parTiTiON bY ï¼ˆ :83  @ ""  ( ï¼‰   =>  â¨± As :28      )  JOIN  jSON_tAbLe ï¼ˆ â¨± ï¼Œ ROWdePEndEnciES     nuLL On  erROr  cOLumnS ï¼ˆ NeStEd PAtH 6   COlUmNs ( "" @ INITRaNS    .  nOExTEnd    TrunCAte foRmAT jsoN   )    )  ï¼‰  "" @ ""     INNeR JOIn  â¨± using ï¼ˆ "ð˜˜’" ( uNIQUE ï¼‰    , ""  .  :ï»‘  @ aLloW  . :#3     )   UsINg ï¼ˆ "" @ "ð ´¦" @ ""  ( UNIQUE defaULT  As zonE  @ "ð¬·"      ï¼‰   ï¼ˆ "ð§™Š" ( )   =>  DEfAulT   , deFAULt    )   ( + ï¼‰  , :58  @ :6    .  *   ï¼‰   pIvOT ( #  ï¼ˆ )   =>  â¨±   fOr AsSOciATE  @ "" @ ""      in ( Any   )   ï¼‰      StART wiTh â¨±  conNect BY â¨±  haVing â¨±    FOR updatE  OrDER sIbLinGS bY â¨± Asc  NuLLs fIrST   , â¨± aSC     with cHEck optIoN    )   MULTIsEt ExCEpT  caSE â¨± When â¨± tHEn â¨±   END  AT LoCaL      /  "ð§žž" ï¼ˆ â¨± AS "ð«¼•"     )   ( + )  AT TiMe ZonE DbtiMEZONE     ** decoDE ( â¨± , â¨± ï¼‰  at time zONe â¨±         is of ( OnlY VarchAr  @ :á¿’  @ TemPLATE    .  ""   , :15    )        As "ð£•" @ SHUTdowN       ï¼‰   ï¼ˆ + ï¼‰  BeTWeen  *   and *     UnPiVOT InCLuDE nuLlS ( "ðŸ•¨" @ "ð®ž…"   .  *    for ï¼ˆ áŠ‘áž¾  @ "" @ "ð¨‰™"  ï¼ˆ UniQUE ï¼‰   ( + ï¼‰  ï¼Œ "ð¬Š" ( uNIqUE DEFaULT    )   ( + ï¼‰   ï¼‰    IN ï¼ˆ ï¼ˆ :95   ï¼ˆ + ï¼‰   ï¼‰   aS True      ï¼‰   ï¼‰       uNPiVoT iNcLuDe nuLlS ï¼ˆ TiMe   ( + ï¼‰   for "" ï¼ˆ unIqUe ï¼‰   ( ï¼‰      In ï¼ˆ "ð¨ˆ€" @ :6       ï¼Œ pCtthreShoLD  @ "á…¯" @ Levels   ( :_Ú¦   =>  noT ï¼ˆ  "ð©œ±" ï¼ˆ alL dEfAULT  deCodE      ï¼‰   =>  â¨±  ï¼Œ DefAult  "ð¦¯¦" @ "" @ :2       )  IN  ï¼ˆ ï¼ˆ â¨± )  mInUS  ï¼ˆ â¨± ï¼‰  ORdEr by â¨± dESc  NulLs lAst   , â¨±     )     And #  @ oPTIMaL   ( "" @ :_7  . ""  ï¼ˆ DIStINCT )   =>  â¨± JSON  @ zONE  . GRouping       )    % NotfouNd   muLtIseT eXcEPT  "ð®žŠ" @ "" . ""    oVer ï¼ˆ parTitioN bY :20   =>  DEfAuLT     )         LIKEC  *   escaPE â¨±     Or ExisTs  ( WitH "ð¨³†"   ï¼ˆ :38   ( + )  , "ð–¦˜" @ ""  ( â¨±  ï¼Œ â¨± AS Æœ      )     )  aS ( â¨± )   ï¼Œ "" @ intERvAL  . "ð£Ž°"   .  :Ý­áŸ•  @ leADIng  . DeLete     aS ( â¨± ï¼‰    seLeCt DisTiNCT DecRYPt  ï¼ˆ dIStInct )   =>  DefaulT   , "ð¨²¨"  =>  â¨± "ðª £"      intO "áª²" ( ï¼‰   .  :99  @ :5  . aUTO    ( + ï¼‰  ï¼Œ fIleSystEm_Like_lOggIng  @ "ð¥¸½" . ""  ( ALl DEfaUlt  As "ð¨ª©" @ "ð ´¥"     ï¼Œ â¨±   ï¼‰   ( + ï¼‰    FrOM jsOn_Table ï¼ˆ â¨± , ''''    erRor On  EMpty  COlUmnS ( _    exiSTs tRUe On  eRrOr    ï¼Œ :38  @ pUrge     eXISts faLsE On  EmPtY    ï¼‰  ï¼‰  uNPivOT ï¼ˆ NoshARD  @ "ð§¡¸"     foR  TRaNsACtiON  ( "" @ :_Ð›  @ ""   =>  DefAUlT    ï¼‰    + ï¼‰   ï¼‰    iN   "ï¸³" @ "ð£™²" @ :7    ï¼‰    diSTinCT "ð«¦µ"  =>  dEfauLt  aS disabLE  @ "" @ ISOpen       )    + )  , mINeXtentS  @ :3  @ â´“4      ï¼‰   AS 'ðŸ¸'      )   ï¼‰    vERsiOns betWEEN ScN   â¨±   At tIME zone â¨±    mUltIset uNIon alL  "ð­Ž›"  UNiQue â¨±   ï¼‰   .  :á½¢   defAUlt  ""         +   % buLk_ExcEptIoNs  â¨±   . eRroR_Index       ||  XMlaGG  â¨± OrdEr siBLIngs BY â¨± NuLlS fIRst       At lOcaL    MuLTiSET unION  null    ** TRim  â¨± fROm  â¨±    mULTiSET EXCEpt alL  TRAnSlaTe  â¨± USING NCHAr_Cs   At lOCAL      /  CHr  â¨± UsiNg Nchar_CS   at loCAl     ** CaST  MULtISEt  â¨±   AS nVaRchAR2  DiStInct     % rOwtyPe      AT Time ZOnE sESsiONTimezONE    MULTiSeT unION  TRAnsLate  â¨± usInG ChAR_Cs         anD *       PartitIOn by  â¨± "ð¡¶¬"    , DeFault      NaTuraL InNeR Join  tABLe  â¨±   AS shUTdOwN  @ ãˆ4  @ ""     pArTitioN by  "" @ "ð§¸¤" . RaiSe       =>  â¨±     NATurAL rIGhT oUTER  JoIN  THe  â¨±    fuLl  JOIn  â¨±      WHERE â¨±  ConNEct bY nOcYcLE â¨±  GROuP By GRouPIng SEtS  â¨±           haviNG â¨±    unIon ALL  sELEct DIStINct :##   =>  â¨± As "ð—³¦"    , :3  @ vARchaR2  @ "ð«°¤"   =>  DeFAULt     iNto "ð©˜" @ CONveRt  @ "ðž²€"      fRom JsOn_tAblE  â¨± FOrmat jSon nuLl On  eRRoR  COLumnS  "ð£¸"   for oRDiNAlIty   ï¼Œ :70   .  "ðŸ€œ"   TrUnCATe formaT JSoN wITH CONdITIONaL aRRAY WRapPer         PArTiTioN by  SEGMEnt   =>  â¨± :34  @ ""     , dEFaUlt      INnER joiN  :à«£3  @ PArAlLel  @ "ðœ‰"    SampLe  â¨±   SEeD  â¨±     vERSioNS perIoD for "ðž¹µ"      +   BeTwEeN  coNNECT_By_rOoT â¨±   mulTISET UnIon DIsTINcT  "" @ "ð§€¹" @ DUPliCatED    uniqUe :15   all    =>  DeFaULT  as ""         % noTfOUnd  AT tIme Zone DBtImEZONe       -  .4  at locaL    MulTIsET UnIoN diStiNct  XMlCaST  â¨± As dOuble PRecISION  uniQUE    % RowtypE         *  "ðŸŒ¶" @ _ïµ©  . ""    KEEp  DenSE_RANk FIRsT OrDeR BY â¨± AsC  nULls LAsT   , â¨±      OvER  partItION BY "" @ "" . "ï½©"   â¨±      =>  â¨± baSIcfILe  @ "" @ #        orDEr BY â¨± DESC  nulLs laST          ** TRIm  leadINg FRoM  â¨±   At lOCal    muLTiSeT exCepT All  + â¨± At timE zoNe â¨±         AnD XmlagG  â¨± oRDeR sIBLingS By â¨± ASC        mUltISeT ExCEpt all  PrIor â¨±  at LoCal     ** dATe ''''      /  RecOrd    % foUnd    ** EXtRACT  yeAr fRoM dATe  â¨±            pivOT  â¨±   FOR  vIrTUal   uNIQue :25  @ :6  @ LoCAL    =>  DEfAULt  as "" @ ReSult_cAcHE      ï¼Œ â¨± :à¶½          +        iN  â¨±           oN â¨±   piVoT Xml  "ðŠ§"  =>  â¨±   FoR "ð£„¡" @ ""         In  â¨±            wHErE â¨±  STaRT wiTH â¨±  connECT by â¨±    for UPDatE of  :à¬–   aLl DEFauLt        uNIQUe "" @ "" . GlobAL    =>  DefaULt   ï¼Œ defAulT  "ð˜Ž°" @ _  . "ð¥š¦"          +   ï¼Œ ""  ALL dEfAULT  VaRrayS  @ ""          all      waIt 9.5e+0f          AND *   <  sYs_COnnEcT_BY_paTH     At lOCAL      *  + â¨± aT TImE zONe DbtimEZoNe     ** CURRENt_useR  @ "à²¼"   .  *   +   % BuLk_roWCOUNt  â¨±      multisET ExCEPt  XmlaGG  â¨±              aS "ð­¤²"         +                iNTErsecT    â¨±   UnIon  selEct "ð¦ƒ‡"  =>  not ExiSTS   â¨±     AND not  â¨±  At TiMe zONe SeSsIoNTiMezOnE      /  case WhEN â¨± THen â¨±   eND  at tIMe ZONE SEssiontiMeZone    MulTISeT INTeRsEct  XmlQuery  â¨± pAssInG by VALuE â¨±   rEturNINg COnTent    AT locAl         is NOT A sET         ï¼Œ DeFauLT  AS "ð¬Œ„" @ StOraGe  . ""       buLk coLLeCt intO :10  @ "ðž’"   ""  =>  CURrENT oF  "" @ :63     +      or nOt *   noT MemBeR oF  â¨±      mOd  - â¨± at Time ZONe DbTIMeZonE    MULTisEt iNterSecT  sYS_CoNnect_by_PATH  distiNcT      ** TrAnSlatE  â¨± using ChaR_cS   at TIme ZoNe SeSSionTImEZOne    MULTiSeT uNiOn aLl  PrioR â¨±  AT LocAl       ||  cAst  â¨± aS opAqUE FixeD    uSiNG LibrArY lOcaTor      .  *        MULtisET ExcepT  cUrsor  â¨±     ** chR  â¨± UsING nCHaR_cS             AND cURReNT Of  :2  @ "ð¡…•" . "ó „‘"    "ð§…§"  â¨±  , "ð¬¬" @ "ð" @ :ã„»7   â¨±  =>  â¨±      =>  DEFAuLt  as ""               , NoT exisTS   â¨±        roWDEPEnDENCieS          ALl       FROm  â¨±      , #  @ inDIcaTor  @ eLSIf    .  :46  @ TRuSTEd  @ "ð¥‰²"    SAmple  *   LikE2  *           uNPiVot ExCLUde NULls   Grouping       DIsTincT :9   =>  defAuLT   ï¼Œ DefaULt  "ð¢£´"         +   , "" @ ""      .  :81  @ "ð£·Ž" @ #         For execuTE  @ edItIOn  @ ï²½à¸ˆ     +     In   ""  uNiQue DEfauLT  as "ðª¼"    ï¼Œ "" @ "" @ "ð«´¸"   =>  not caST  MUltISEt  â¨±   as  truE  , falSe   chArACtER sEt â¨±      at LOCAL    MuLtIseT uniON aLl  - â¨± AT lOCal      *  NEw vArRAy   aLL â¨±  ï¼Œ "ð¦—£"  =>  defAUlt       .  :9  @ :Ý‘     +        +  DECode  â¨± ï¼Œ â¨±   at TIME ZOnE â¨±     ** "ð©®¨"     .  *   +   OVer      MuLtiSEt ExcePT  null  At lOCAL      /  + â¨±       nOT  beTwEEn  *   AND   â¨±    mULtIset uniON diSTiNCT  RAISe  @ :45  . stATIstiCS    diStiNCt â¨± LocKed     , "ð«¡‰" @ "ï¾" . ""      =>  DefauLT  aS "" @ _àµ«  . ""          aT lOcaL     ** treaT  â¨± As Ref _  @ "" . REstricT_rEFEReNCES    .  :72  @ UsInG        . DeTErmiNIstiC    DISTiNct :Ä‡  @ ""   =>  â¨±       +      mulTiset ExcEPt aLl  "ð—¾…" @ "" @ "ð§€®"   UNiQuE     OvEr     at TImE zonE dbTIMEZoNE           anD CUrREnt of  ReCyCLE                   aS  faLSE               as of PeRiOD fOR ""      +   nOT *   iS  NUlL      oR NoT  dEfAUlT  :8     ï¼Œ â¨± AS ""       OVErlAPs  "ð¨º–"  SHard  @ :_ã…Š    UNIquE â¨±      =>  dEFAULt   ï¼Œ DUPliCatEd   =>  â¨± as :á‚´  @ PrIMaRY  . fOraLL          =>  dEfaULt                  CROss joiN  XMltABlE  INTERvAl '' MinutE  ''   ï¼Œ iNTervaL 'ð­¹Ÿ' sECONd  U''''           To month    PAsSiNG bY vAluE  "ð«¦“" @ :4  . ErroR       =>  DefaulT  "" @ "" . :76      ï¼Œ "" @ ""   =>  â¨± aS à¿„        oVERlAPs  dEfAUlt  "á¯¢" @ :4  @ "ðªµ³"            and *         , dEfAUlt         pArtITION BY  "ð—Ÿ«"  =>  Not currENT oF  :8  @ ""    dIsTinCt     +      oR IDENTITY   aLL "ð¡““"  =>  DefauLT       .  "" @ "" @ "ð”“™"       +   witHIN gRouP  orDER by â¨± nuLls fiRst   ï¼Œ â¨± desc        at tImE zOnE DBtIMEZONe    mulTiSET ExCepT DIsTINct  cUrsOr  â¨±   At tImE zOne â¨±       ||  NEw CAsCADE  @ lAST      at loCal         lIke2   â¨±   MuLtiset inTeRSecT  xMLCast  MULtISET  â¨±   As :#_        +        ** TrAnsLATe  â¨± UsiNg NchAr_cS    MUlTISeT IntErSEcT  PRioR â¨±  aT lOcal      *  - â¨±   ** cHAr_CS   UnIqUe â¨± ""    , "ð¨€‰" @ :ãƒ¹5    DefaulT  "Õ·" @ "ð—¶Œ" . ""         =>  â¨±       Keep  dEnse_RAnK LasT oRdER By â¨± asc   , â¨±       AT tiME zOnE seSsiontiMEZoNe                  NaTurAL iNnEr joIN   â¨± uNPIvOt  PctVERsion    +    FOr "" @ :_    .  "ð¶"  AlL       IN   :21  @ REcord    unIqUE DeFAuLt            +       As  tImEstamp ''                 As oF sCN  ""  =>  dEFaulT  as sPLiT         wRApPeD  @ "ð˜¸"     paRtItIon By  NOT eXiSts   â¨±            INNEr JoiN  â¨± ON not   ""  =>  deFaUlT  â²›4        ^ =   â¨± AS "ð­ª"                 UnPIvot eXCLude NuLLs  :6  @ "à¥»"   MergE  @ "ï­³"   All    =>  not *   not  In    DefaUlt           aS "" @ :5            for  "" @ SEts    *   < >  sOME   â¨±        ""        .  *        IN  fixEd    UNIquE     +              WHERe XMlqUeRy  â¨± paSSinG BY VAlUE â¨±   RetuRnIng COntENt      ** cONNECT_bY_ROOt â¨±              haVING cUrRENt OF  Ó¸  @ "âŸ¥"                foR upDAtE skiP LOCked   Order bY nOt cAST  â¨± as OPaqUE fiXED  ""  =>  â¨±     USInG LiBRArY ""  DIstIncT :31  @ :84       =>  defAult       .  *   +    RANge â¨± ..  â¨±      at LoCal         BETwEeN  *   AND  XMLCAst  mUlTisET  â¨±   aS OpAQuE FIxed  DEfAUlt  aS prebuIlt        UsInG LIBRArY subpaRtItIon    +    rANGe â¨± ..  â¨±      aT TIME zone DbTimEZone     ** CaSe  END  at LocAl              nuLlS fIrSt     WITh Read ONlY  cONstrAInT "ð“‡Š" @ PaRallEl_EnaBLe    aLl  ""  =>  DeFAULt  AS :_  @ ""        oVErLaPs  DefaUlT                       wItH ChEck oPtIOn  conSTRainT :38  @ "ðŸ˜†"        ORDER by NoT *   IN    â¨± "ï¹–" @ ážŸ              asc  NullS LaSt     FOR UpdaTe SKip locKed      AS  FalsE  , FaLSe                         ** DEcODE  Treat  noT eXistS   selEcT uNIQUe hiGh   alL    =>  â¨±    frOM TABLe  â¨±    PaRTItION by  defAUlt  as "ð§‹«"          cONNEct BY â¨±  GrOuP by  CuBe   â¨±                 wItH Read ONLy           AS "ð§²“" @ "ð¢‘¯"       . "ð¥Œ®" @ "ï¸‰"   .  "" @ InTeRFace    dIStiNcT :16   =>  dEfAUlt  :_ã‚¼          +           Is  nOT  nuLl          at TIme zoNe sEssIOntIMezONE         Is EmPTY         STOre iN  cRoSS  @ reFreSh          USablE   