< < _  @ ""   > >   UPdaTe OnLY ï¼ˆ ï¼ˆ JsOn_TAble ï¼ˆ SYs_cONneCT_by_pATh ï¼ˆ ï¼‰   aT tIME ZoNE dbTimEzOnE     ** TRIm ( NOt CUrrEnt oF  :26  @ fAlSE    .  *     aND noT (  "" @ ROwdePEnDEnCiEs   ï¼ˆ uniquE *   noT  bETWEEn  + XmlAGg ï¼ˆ â¨± )   AT lOCaL    mULtIset eXcEPT DisTiNCt  chr ï¼ˆ â¨± usiNg NChaR_cs )     MOD  New NeW  ( DIstiNcT ï¼‰   ï¼ˆ + ï¼‰   at LoCAl       ||  "ðŽ¯"  .  "ïº" @ "ðžº¥" @ "ð¨¯²"    ovER ï¼ˆ ï¼‰      Mod  tRUe   At TImE zOne XMlQuEry ï¼ˆ *   pAssiNG â¨±  ** â¨±   /  â¨± MulTIseT unIon  â¨±      AS ANYsChEmA  @ "" @ :á‚œ1    ï¼ˆ â¨± "ð¢€‡"     ï¼‰   ï¼ˆ + )    rETUrning cONtEnt ï¼‰       muLTiSeT excEpT  CaSe whEn â¨± then â¨±  eLSE â¨±   ENd    ** DeCoDe ( â¨± , â¨± ï¼‰  aT lOCaL    MulTiSeT UNION disTInct  + PRIor â¨±   AT LOCAl         AnD  *         ï¼Œ :74  ( All ï¼‰   =>  deFauLT  as :_      ï¼‰   =>  xmLCaSt ( â¨± AS ( tRue  , true  ï¼‰  ï¼‰   mULTiseT uniON DIstinct  CaSt ( mUltISEt ï¼ˆ ï¼ˆ wiTH "ð¬ƒ²" @ pRecISiON  @ "ð©”§"   .  EXteND    aS ï¼ˆ ï¼ˆ â¨± ï¼‰  UnIon aLl  seLect DisTinCt DEFAuLT     FrOm table ( â¨± )  as of pERIoD fOR ""  ï¼ˆ UnIQuE "" ( ï¼‰   =>  â¨± ""     ï¼‰    â¨±      pArtiTioN by ï¼ˆ deFAULT   , "" ï¼ˆ )   =>  â¨± aS :4  @ :1  . prImary       ï¼‰   UnPivoT eXclUdE nulLS ( PaRTiaL  @ "" . pUBlic    ï¼ˆ + )   foR ( à²†  @ ""     ï¼‰    iN ( Xml  ï¼ˆ DEFaUlT    )   ( + ï¼‰   as ï¼ˆ 0  )     ï¼Œ ï¼ˆ "" @ :78   ï¼ˆ unIquE "" ï¼ˆ #  @ ""   =>  dEfAult  AS "ï¾Š"     ï¼‰   =>  dEFaULt    )   .  "ð¡ž€"  ( + ï¼‰   ï¼‰   as DatE ''      )   )     , ï¼ˆ â¨± CRoss Join  â¨±   ï¼‰ pivOt ( â¨±  , defAUlT  "" @ recoRD  @ :#       FoR oPen  @ "ð¨Š£"  ï¼ˆ )   ( + )    IN ï¼ˆ ( â¨±  ï¼Œ :51  @ â²¾Ú”   ( DISTINCt ""  =>  DeFAuLt  as "" @ "ð¢Œ"     , "" @ unloCk  . "ð§¾¤"   =>  â¨± :á††â³      )   =>  DEfAuLt    )    )   ï¼‰    vERsiONs pERiod for sTArTuP  ( DiStiNCT )    bEtwEEN  TRANsLaTe ( â¨± usING Char_Cs ï¼‰      +  cONNEct_by_ROoT â¨±  At tiME ZOnE sEssiONTiMEZoNe     ** ( â¨± ï¼‰ at TImE zoNE sessiOntiMeZOnE    MultIset InterSEcT  nuLl        and *       paRtItiON bY ï¼ˆ â¨±  ï¼Œ â¨± :44  @ RoLLup  . ""      ï¼‰  RIgHt  joIn  tHe ï¼ˆ â¨± )   naturaL JOIn  â¨±  USiNG ( "" ï¼ˆ unIQuE ï¼‰   ( :2  @ PriMaRy   ( ï¼‰   =>  dEfAult  as "" @ "" @ :8       )    ï¼Œ "ð®¥–" @ "ð£•²"   ( beGiNNiNG  ( ALL )   =>  â¨±  , DEFAulT    )   ( + )  )     grOUP by â¨±   , ï¼ˆ ROLlUp ï¼ˆ ï¼ˆ â¨± ï¼Œ â¨± )    ï¼‰    , ( )    ï¼‰        wITh cHeCk optIon    )  CYcLE ""  .  *    SET aLLow   .  "ð ‘¤" @ áº1  @ :79      To ''    defAult 0X       seLeCT â¨± As :56       BULk cOLleCT IntO SUbtYpe  @ "" @ ""   ( + )  , seriaLIzAble  @ ""  ï¼ˆ DIsTINCt "ð¬®"  =>  DefAUlt  oVER  @ :_  . "ð¥¹Ž"     , "" @ "ð¥–œ"   =>  DefaULt    )      frOm "" @ "ð“€¤"   .  :8     inner joiN  xmltABLe ï¼ˆ TimestAmP 'ð—³¢'   pasSINg â¨±  ï¼Œ CoNsTRaiNt  ï¼ˆ ï¼‰   =>  â¨± "ð«„›"      columnS â¨± FOr oRdiNaLIty  ï¼Œ â¨± tImESTAmP  wItH ( dIsTInct ï¼‰   LocAl ( alL DEfauLT   , â¨±   )   TiME ( UsINg  @ :33  . "ð‘š"   =>  â¨± uNLOck      )   zonE ï¼ˆ ï¼‰    cHArActER Set â¨± % charSEt       )  uNPIVot INcluDe NULlS ï¼ˆ ï¼ˆ "ð“ˆ¼" ï¼ˆ uniQuE _ã‚‰   =>  DeFaUlt    )     ï¼‰   foR ï¼ˆ "" @ max   ( all )   ( + )  , à©š9  ï¼ˆ â¨± as "ð¢œ€" @ ""     ï¼Œ DeFaUlT  sCALE      )     ï¼‰    IN ( :Äº  @ :66       ï¼Œ "" @ AFTer  . AUthid    ( + )    ï¼‰   )      PaRTitIon By ï¼ˆ "" @ "" . :_   ( All )   =>  dEfAUlT    ï¼‰    pivOT XML ( dEfAult  As :_      foR ï¼ˆ "" ( REwRiTE   =>  â¨± "ð—‡ž" @ :27  . ""     , dEfaULT  aS MaPPinG  @ "" . chaRAcTeR       ï¼‰   ( + )   )    in ï¼ˆ WITH "ê›¦"   AS ï¼ˆ â¨± ï¼‰   ï¼Œ "ð¤­†"  .  :1  @ prImary  . "ð¦¥½"    ( "" ï¼ˆ )   ( â¨±  , Î‘3  @ ""   =>  â¨± As "ð¦­¸" @ ""      )   ï¼ˆ + )   )  as ï¼ˆ â¨± )  sEARch brEadtH FiRST By â¨± DEsC    sET "ð«ƒœ"       sElECT DistInCT OuT  ( DIstiNCt "ð«­…" ï¼ˆ DIstIncT )   =>  defaULT   ï¼Œ _#  @ BotH  . :8    =>  â¨±   ï¼‰   =>  dEfaULT  aS :9  @ FreEPoOLS  . ""       Into "" ï¼ˆ defaulT  "ðŸ“—"    ï¼Œ "ð¦·­" @ "" . rANgE    =>  â¨± à´”ï½‘  @ ""      )   .  *     fROM ï¼ˆ â¨± ï¼‰  "ð®™°" @ :2  . á†¯      JoIN  xMltabLe ( XmlNamespACeS ï¼ˆ â¨±   ï¼‰  , FaLSe   PAssIng â¨±  , DEfaulT  AS SesSion  @ "ð«²Œ" . "ð¢Š "        )  VeRsiONS BeTWeEN tiMestAMp  *   aND EXtract ï¼ˆ YEaR FRom daTE  â¨±  ï¼‰  At LOcaL    MulTIsET ExcEpT  INVaLIDatE  @ BlOCK     at tIME zONE dbTImezoNe     ** EXTrACT ï¼ˆ TiMEZOnE_REgIoN frOm â¨±  ï¼‰     /  :1  ï¼ˆ DIstinct )   ï¼ˆ uNIque ï¼‰   ( + ï¼‰  % foUnd   MULtisEt UNIon DisTInCT  case wHEN â¨± then â¨±   eNd  aT tImE zoNe â¨±       -  "ð—´–" @ SeriALizable     % BuLk_exCePTiONs ( â¨± ï¼‰  . ErROr_cOde    mulTIsEt UNION dISTiNCT  SYs_CONNecT_BY_PaTH ( :_  @ ""   =>  Default   , "ð®£€" ( dIStInCt ï¼‰   =>  dEFAult    ï¼‰   at LOCal     ** "" ( â¨± "ã’"    ï¼Œ :8  @ :55    =>  deFAuLT    )   ï¼ˆ + )  KEep ï¼ˆ dEnSE_RANk LasT ORdEr SiBLingS by â¨± NUlLS fiRST   ï¼Œ â¨± ASC     ï¼‰  oVer ï¼ˆ PArTition By â¨± As praGMa     , "" ï¼ˆ UNiqUe ï¼‰   =>  â¨±    ORDer sIBliNgs by â¨± nuLLs fIrSt     rows BETWEEn unBoundED pRecediNg  anD CuRREnt row    )      /  ?  At tiMe zoNE â¨±    mulTISeT UnioN dIstINCT  DECOde ( â¨± ï¼Œ â¨± )  At tIME ZONE dBTiMeZone             ParTITion by ï¼ˆ dEfaUlt   , â¨± aS "" @ AuTonoMOUs_transAcTiON  . ""      )   UsInG ï¼ˆ :á¾€á¿²  ( "" @ pIpe    =>  â¨±   ï¼‰   ( + ï¼‰  , bAtch  @ ""  ï¼ˆ dEFaUlt  :Ò®4      )   .  "ð “œ" @ :6  . raisE_APpLICATion_ERrOr     ï¼‰   PIvOT ( ""  =>  defAUlT  "ð—ˆª"     for deFErRable  @ "" . "ð‘‘"  ( )   ( All defaulT  as "" @ ""      ï¼‰      iN ( â¨±   ï¼‰   )      WHere â¨±  CoNNEcT by â¨±  sTARt with â¨±  HAviNG â¨±    ORDeR BY â¨±     ï¼‰   ï¼‰     , wRitE  @ "á®"   .  #    parTITion ï¼ˆ :_   .  :39   ( + ï¼‰  )  SAMpLE block ( â¨± )   as OF sCN  "" @ reFEReNCINg   ï¼ˆ DiStinCT :87   =>  â¨±  ï¼Œ deFAuLT    ï¼‰   =>  defaUlt  aS ""       uNpiVot ï¼ˆ ( "ð­³Š" @ ""  ( ""  =>  â¨±  ï¼Œ â¨± as :ï°”_  @ "ð¥« "      )   ï¼ˆ + ï¼‰   ï¼‰   FOR ï¼ˆ bUlK_rowCOunT  @ noreVErse   ï¼ˆ AlL )     ï¼‰    in ï¼ˆ "ð£±µ" @ LoCAl  @ :98    ( + ï¼‰    ï¼Œ pIpE  ï¼ˆ )   ( unique ""  =>  DeFAUlT   , sAlT  ï¼ˆ all ï¼‰   =>  â¨± _á«  @ ""      )     AS q'""'      ï¼‰   )     "ð¨–µ"       WhErE â¨±    mInus  ( seLEcT â¨±  , deFauLt  :#       FrOm ï¼ˆ â¨± )   pARTitION bY ï¼ˆ :#  @ ScoPE  . ""  ï¼ˆ ï¼‰   =>  dEfAuLT    ï¼‰  FuLL ouTEr  JoIN  ï¼ˆ â¨± ï¼‰  UNPIVOT INcludE NullS ( ï¼ˆ PArTitIon  @ "" . ""   ï¼ˆ + ï¼‰  ï¼Œ "" @ ""  ï¼ˆ dISTINCT )   .  *    ï¼‰   for "â”»" @ :60  @ CAChE    ï¼ˆ + )    in ï¼ˆ ï¼ˆ :45   ï¼ˆ â¨± "ð¡Š"     )    ï¼Œ existS  @ "" . "ðŸ¦´"  ï¼ˆ distiNct ï¼‰     ï¼‰   aS ( 6.e7d   , $7.  ï¼‰     , ""  ï¼ˆ + )    ï¼‰   ï¼‰       oN â¨±    , :5  @ rEUSe  @ found    .  "ð¡¡§" @ ""     pARTiTion By ï¼ˆ à¶³ï±³  ï¼ˆ â¨±   )   =>  dEFaULt    )   PIVOT xml ï¼ˆ ""  =>  â¨± :20  @ arCHivE      ï¼Œ "ð«Ž‹" @ á§‘   ( DEFAUlt  as _      ï¼‰   =>  â¨±   fOr ï¼ˆ "" ï¼ˆ uNiQuE )     )    iN ( â¨± )   )      sTaRt WitH â¨±  cOnnEcT bY â¨±    foR uPdatE SKIP lOckEd    ï¼‰  fOr updaTe OF  AuthID  @ "ð’Œ«" . ""  ( DEfAulT    ï¼‰   .  ""    wAIt UQ'!!'     OrdEr sibLinGS By â¨± AsC  NUllS fiRst   , â¨± ASc  nULls LAST     wiTh rEAD OnLY  cONStrAinT :7  @ staTiStiCS  . :45       ï¼‰  intERSect  sElEct dEfauLt  as ""      INTO "" @ OPaQUe   ( uNIQUE lIkE2   =>  â¨± "" @ ""     , dEFAULT  AS "" @ áœ  . "ð¦§¢"      )    , "ðª©Š" ( UNiQue )   ( + ï¼‰    FRoM jsON_Table ï¼ˆ â¨± , interVAL '' dAy  TO MinUTE ï¼ˆ n'ð’Šˆ'   )      ERRor On  EmPTY  COlUmns ( neSteD timEstamp ''    COluMns ï¼ˆ "ð©±Ÿ" @ "ð¥ª¸"    ObjEcT  @ "ðª³„"   .  *  ( + )  rANge â¨± ..  â¨±    TrUNcAte pATH :_  @ ""     nULL oN  eRrOr    ï¼Œ :1    deFaUlt U''''   oN  ErRor    )    , "ð§¯˜"   iNTervaL  subpArTiTioN   ï¼ˆ All â¨±   ï¼‰    TO  "ð „Ÿ" @ ""  ï¼ˆ )   ï¼ˆ + ï¼‰    TRuNcate fORmat jSon WITh UnCONdiTIOnAL aRrAY wRaPpER  EMpty on  ERRor    )  ï¼‰  As oF timEStAmp  "" @ lOg    =>  â¨±     UnpIVoT ï¼ˆ ( :33  ï¼ˆ aLl )   .  "ð¬¯" @ SerIaLLy_REusABLe  @ á¿Žá‰¥    ï¼ˆ + )   ï¼‰   For :7      In ( :ê’˜á†µ  ( ï¼‰      , "ð—‘¾" @ "â¶ "   ( )   ( + )   AS ï¼ˆ DatE ''   ï¼Œ ''   )     ï¼‰   )     aS :_#     cROSS Join  jsoN_TablE ï¼ˆ â¨± FormAT JSon COLUmnS ï¼ˆ CHR   .  "" @ ""    OPaQue fiXED ï¼ˆ "" @ wItHout  @ ""  ï¼ˆ UnIquE :5  ( â¨± , â¨±  )   =>  DEfauLT   ï¼Œ â¨± "ð­Ÿ®"     ï¼‰   =>  deFaULt  AS dEFErrEd  @ FReeLists  @ "ð „¿"     , "" @ sCHemA   ( UniqUE )   =>  DefAult    )  uSiNG LibRarY :6     cHaRaCTER sEt â¨±    ExiSts fALse ON  EmPtY    , fORmAT  @ "" @ :ï²     .  ""   For ORdiNalIty   )  )      , the ( wIth "ð¡Š" @ "ð ‹“"    ( TiMEzONE_hoUR   ( + ï¼‰  ï¼Œ "" @ ediTionAbLE   ï¼ˆ aLl "á½›" @ #à¼©   ï¼ˆ )   =>  â¨±  , ""  =>  â¨± As :3      ï¼‰   ï¼ˆ + ï¼‰   )  aS ( WITH "ð§‘"   as ï¼ˆ â¨± )  SeARcH depth fIrSt By â¨±  , â¨±   seT SUbmultIsET  @ ""   .  _4  @ righT  . :15       CYcle ï¯©8  @ "ã‰‰"  ï¼ˆ AlL DEfAuLt    ï¼‰   ( )     sEt "ð¦¥ª" @ TiMEstaMP    .  :34     To iNTeRVAl '''' DAY     dEFAult .2F      ï¼Œ "ð¤‰©"   AS ( â¨± ï¼‰  seARCh dePth fiRst by â¨± aSC  nUlls LasT    SEt :79  @ BULk_eXCEPtiONs  @ "ðªœ‘"        ï¼ˆ â¨± ï¼‰  UNion  ï¼ˆ â¨± )  OrdER BY â¨± nULls fIRST     fOr UPDAte Of  "" @ "" @ leFT    ï¼ˆ + ï¼‰     ï¼‰  CYCLE "" ( aLL )   ( + ï¼‰  ï¼Œ xmLsChEMa     sET :_     To U''    DeFault 0x       ( SELeCt DIsTINct DeFAULT   , â¨± ""      BUlK COllecT intO LOGGinG  @ :2  . OVeR   ï¼ˆ UnIquE â¨± "ï½²" @ "ð ¶‡"     , rOwtYpE   =>  â¨± as á¦°      ï¼‰    , "ð‘„¢"  ( + )    fROM â¨± pARtitiON bY ï¼ˆ :76  @ "ðž¹­"  ( ï¼‰   =>  DEfAult   , â¨±   )  NAturAL iNNER join  â¨±  piVot ï¼ˆ eRROR_CoDe  ( dEfaULT  As :á‹•  @ DireCT_loaD       ï¼‰   =>  â¨±  ï¼Œ DEfaULt  ""     FoR ( "ð­¯‘" @ :á¤‹  . ""   .  *  ï¼ˆ + ï¼‰   ï¼‰    iN ï¼ˆ ANy   ï¼‰   )      WHeRE â¨±  sTArT WiTH â¨±  cOnneCt By NocyClE â¨±  hAVinG â¨±  grOUP by ï¼ˆ ï¼ˆ GROUPiNG sets ï¼ˆ ( )    ï¼‰    )   ï¼‰   , grOUPIng SeTS ï¼ˆ â¨±   , ï¼ˆ )    ï¼‰         unIon  sElECt DEfauLT  :91  @ "ð¬¦¢" @ ""     , ""  =>  â¨±    iNTo ENFoRceD  @ "ï²"   ï¼ˆ UNIQuE ï¼‰    , nOSCALE  @ "" . :_   ï¼ˆ alL "" ï¼ˆ "ð¤³¨"  =>  â¨± AS ""    , DeFAuLT    ï¼‰   =>  DEFAULT  AS "ð®Ž•" @ truE  . ""     ï¼Œ deFAUlt  :1      )   .  _      fRoM â¨± PARTITIon BY ï¼ˆ :9  @ NoneDItiONABLe  . TruE   ï¼ˆ â¨±  , defAult    )   =>  â¨± "ð ˜Ž" @ "" @ ""      ï¼‰   unPIVot eXclUDe nuLLS ï¼ˆ "á˜½" @ :#   ï¼ˆ )   ( aLL ï¼‰   ï¼ˆ + ï¼‰   FOr ï¼ˆ "ð©±"  .  *  ( + ï¼‰  ï¼Œ LAngUaGE  @ "ð„"   ( dEfAULT    )     )    IN ( ï¼ˆ "ð¤¬®" @ :49   ï¼ˆ uniQue )   .  *  ï¼ˆ + ï¼‰  , EdItIon  @ "ð¨‰‹"  ( dIstinCt "" ï¼ˆ Ð±ï»¶  @ CAscAdE  @ BaTCH   ( )   =>  â¨± AS "" @ :16       ï¼‰   =>  â¨±   )   ï¼ˆ dISTinct ï¼‰     ï¼‰    ï¼‰   ï¼‰     , â¨± PARtItiON by ( ""  =>  deFAULT  As :_4      ï¼‰  nAtUrAL RIght  JOiN  â¨±    gROup By ï¼ˆ â¨±   )   , ( ( ï¼ˆ â¨± , â¨± ï¼‰   , RoLluP ï¼ˆ â¨±   ï¼‰    )   ï¼Œ ROllUp ( ï¼ˆ â¨± , â¨± ï¼‰   , â¨±   )    )        wIth cHECk OPtiON    )  UnIoN aLl  ï¼ˆ with a   .  "ð£³‰" @ "ð¤®¦" . "ð£ˆ®"    ï¼ˆ "ð®«›" @ ""   ( + )  , :22     )  AS ï¼ˆ â¨± ï¼‰  seArCH BrEADth FIRST bY â¨± ASC   ï¼Œ â¨± nUlls LasT    sEt "" @ "ð¢ˆ½"        ( â¨± )  FOr updaTe Of  Chr  @ :23   ï¼ˆ ï¼‰   .  "" ï¼ˆ ALL â¨±   ï¼‰   ï¼ˆ + ï¼‰  , "" ( unIQue scOpe  @ dEcryPt    =>  dEfAULT  ""    ï¼Œ â¨±   ï¼‰     nOwaiT   ORder SIblINgS by â¨±     )   )      WheRe â¨±  cONneCT By NOcYCle â¨±  GROuP By ï¼ˆ ( ï¼ˆ )    ï¼Œ â¨±   )   , ( â¨±   , ï¼ˆ â¨± ï¼Œ â¨± )   )   ï¼‰   , GrOUPIng Sets ï¼ˆ ï¼ˆ â¨± ï¼Œ â¨± )   ï¼Œ ï¼ˆ â¨± ï¼Œ â¨± ï¼‰    ï¼‰       haviNg â¨±    OrdER by â¨± asc   ï¼Œ â¨± ASc  nULlS LAST     wIth reaD ONLY  coNStrAiNt Ü®ï­       ï¼‰  aS lonG ( ï¼‰     )    ** prIOr xmLagG ï¼ˆ â¨± )  AT LOCAL        mOD  PrIOr ExtraCt ( MOnTh fRoM â¨±  )    At LOcal    MUltiset EXcePt  null  At LocAL     ** CAST ( â¨± AS doUBLe precISION ï¼ˆ alL #1  ( disTiNCt ï¼‰   =>  DefaULT    )   % tYPE    )   MuLtISEt INTERsEcT distInCt  ï¼ˆ seLEct all DefauLt  :36  @ "" @ IniTIALLY      , "" @ "ð¥•‚" @ "ð—½¸"   =>  â¨± aS bITMap       BulK cOlLECT intO à¹€6  @ whEn  . :ï´‰   ï¼ˆ )   ï¼ˆ ""  =>  Default  AS "" @ ""     , â¨±   ï¼‰      frOM ( â¨±  pIVOt xml ( "ð«½Ž" ( UNique dEfauLt  as :95      )   =>  DefaulT   ï¼Œ â¨± "" @ subType       fOR NolOGGING  ( ï¼‰   .  *     iN ï¼ˆ WiTH :#  @ "ð£“¯" @ "ð¤§½"   .  rOwDepEndENcIeS    AS ï¼ˆ ( â¨± ï¼‰  orDer sIbLINGs By â¨± DEsC  nUlLS FiRst     wIth cheCk optIOn    ï¼‰  cycLE :41  @ NoORDEr    .  :9  @ LOCkIng  . :7    ï¼ˆ + )  , "" @ "â ƒ" @ DeletE   ( aLl DaY  @ "" . :#Ó—   ( ï¼‰   =>  â¨±   )   .  *  ï¼ˆ + )   sEt "ð«Ž"    To FALSE    defaUlT tImESTAMP ''''      , "ðª˜™"  .  MaP    ( "ð¦‹Ÿ"  ( + )   )  AS ( wItH "ðª°†" @ "ð®­¨"   .  :16  @ Ó—$  @ "ð—š±"    ( "" ï¼ˆ defInER   =>  â¨±   )   ï¼ˆ aLl ï¼‰     ï¼‰  aS ï¼ˆ â¨± ï¼‰  SearcH breadtH FIrsT by â¨± ASC    sEt :4  @ "ð¡€—"   .  "ð ¶"      ï¼Œ Ò½  @ fALsE  @ "ð§¼º"   .  "ð¦‡•"   as ( â¨± )    ï¼ˆ â¨± ï¼‰  fOr updAtE skIp lOCkED    ï¼‰  seaRcH BREaDth fIRSt BY â¨± nulLs FIRST    set "" @ coLLaTiOn       CYCLe "" @ "ð¦‘¡"   ( UNiqUe dEfaulT  as "ð¬µŒ" @ clOsE  . cOmPlEtE       )   ( + ï¼‰  , :64  @ ""   ï¼ˆ + ï¼‰   SEt :_   .  ""    tO iNTeRvaL 'ð§†Ÿ' YEar ï¼ˆ 0  ï¼Œ ''   ï¼‰   tO sEconD     defauLt 7D       selEct dISTincT SelF   =>  â¨±    INtO "" ï¼ˆ )    ï¼Œ "á—‘" @ "ð¡–" @ ""  ï¼ˆ dISTINCT DEFaUlT  :à´´  @ :4  . :3      ï¼Œ "ð–¦…" @ iNneR   ï¼ˆ ï¼‰   =>  DeFaUlT    )   ï¼ˆ + )    FRom â¨± ï¼Œ â¨±  STaRT WIth â¨±  cONNEcT by â¨±    wIth ReaD ONLY    ï¼‰   )     )  PArtiTiON By ( DefaULt  as FIrsT     , â¨± ï¼·      ï¼‰   piVot ï¼ˆ SeRIally_reuSaBle   =>  â¨±   FOr ï¼ˆ HasH     )    iN ï¼ˆ sElECt "ð¬™¾" @ :#Õœ   ï¼ˆ all ï¼‰   =>  â¨±    from XMlTAblE ( xMlNAMESPAcEs ï¼ˆ deFAuLt FAlsE   )  , 0xb    )  PIVOT Xml ï¼ˆ DeFAUlt  aS ""    ï¼Œ dEfauLt  "" @ TImezoNE_MINute  @ "ð§¶—"      FOr ï¼ˆ :6  @ "" @ :91   ( "" ( dIstInct ï¼‰   =>  â¨±  , dEfAuLT  OPTimaL  @ "" @ user       ï¼‰    ï¼Œ _   ( â¨±   ï¼‰   ï¼ˆ + )   )    iN ( ANy   )   ï¼‰     as ""    PartItion By ï¼ˆ "ï¿ " @ "ðª±"   =>  DEFault    )   PIvoT XML ( "ð¨‹…"  =>  â¨±   For ( IniTraNS  @ _  @ ""  ï¼ˆ distiNCt â¨± "ðŠ•"    , "" @ DepTh  @ "ð¦­¥"   =>  dEfaUlt  AS :69      ï¼‰   .  :8  @ "ð ª‹"  ( all ï¼‰    , vARraY     ï¼‰    In ( wITH :2  @ "" @ OPTImAl    .  :âº§  @ :à´‡Ò¨  . nOmiNVALUE     ( "" ï¼ˆ "ð– „" @ notfOUND  @ "ï¯•"  ( dISTInCT )   =>  DefaULt    )    , :23  ï¼ˆ â¨± ""     )   ï¼ˆ alL )   ï¼ˆ + )   )  AS ( â¨± )  SeaRCH brEAdth FirsT By â¨± asC  Nulls FIrST    Set "" @ rEwrITe    .  _3      cyCLE seriaLIzAbLe   ( + ï¼‰  ï¼Œ _  @ ""   .  *    seT FILesySTeM_liKe_logGinG  @ ""   .  "ð¡¥¢"    TO DATe ''    defAULT ''       seLEct â¨±  ï¼Œ "" @ "ð–¨Œ"  ( â¨±  , "ð§§—"  =>  defAult  as :1  @ ""      )   =>  DeFAulT     from â¨± ï¼Œ â¨±  whERe â¨±  COnNeCT by nocYclE â¨±  staRT WITH â¨±  hAvInG â¨±    uniON  ï¼ˆ â¨± )  for updAtE OF  "ð«ƒ»" ( )   ï¼ˆ alL )   ï¼ˆ + )  ï¼Œ EDiTIons  @ TiMESTAMP  . ""  ( "ð¬£­" @ :3    =>  â¨± AS "" @ :_       ï¼‰   ï¼ˆ + ï¼‰     ï¼‰   )     ï¼Œ jSON_TAblE ï¼ˆ â¨± fORMAT jSOn eRrOR ON  emPTY  coLuMNs ï¼ˆ "ð›‹°" @ "" @ ""   .  "ð’“"   EXisTs paTh uNdER   .  :ãƒ’9  @ gEnEratED  . :27      FALSE on  EMpTY    ï¼Œ nexT  @ :àµ™  @ COntINUE    .  "" @ "ð¥Ž"    ExiSTS TRUE On  ERROr    )  )   jOin  ( â¨± )  InNeR JoiN  â¨±  ON â¨±     WHere â¨±  cONNECt by â¨±  HaVIng â¨±  GrouP bY ï¼ˆ )    , ï¼ˆ ( ( â¨± )   ï¼Œ rolLUP ( ( â¨± , â¨± ï¼‰    ï¼‰    ï¼‰   )        mINuS  ( with :37    as ( â¨± )  cYcLe _8  @ SUBstituTABlE      sET ""  .  "" @ ""     tO 2e-3f    dEFault 0X      , ""   as ( â¨± )    SEleCT ALl DefiNEr  ( uNiqUe )   =>  â¨± RAnGE  @ ""       bULK ColLecT inTO "Æ©"     frOm taBLe ( â¨± )  aS OF Period for "ð¢´"  ï¼ˆ + ï¼‰  BETWEEn      ParTItIOn BY ( dEfault    )    ï¼Œ ï¼ˆ â¨± )  uNPIvoT EXclude NUlLS ï¼ˆ RelY  @ :99  @ "á‹¼"  ( DefAUlT  :á¥…á¥‹     , â¨±   ï¼‰   ( + )   FoR genEraTed   ( + ï¼‰    In ( ( "ð«‹¤" @ "ð«–‰"  ( dISTinct ï¼‰    , "ó „ž" ï¼ˆ :4   =>  defAULT  "" @ ""      ï¼‰     )    ï¼Œ ï¼ˆ oBjeCt  @ "ðŸ‚¿"    ï¼Œ "" @ "ð¡¹„" @ ""  ï¼ˆ ALL â¨±   )   ï¼ˆ + ï¼‰   )   as UQ'_ð‘£€_'      ï¼‰   ï¼‰    VErSIONS BeTwEEN TIMEStAmp  #   .  *   kEep ( dEnSE_rank FiRsT orDeR sIblInGS by â¨±    )   aT loCal      *  - â¨±  mULTiSEt EXCepT  ExTRACTValUE ï¼ˆ "â°ƒ" @ :85    =>  defAuLt  AS INvaLIdAte      ï¼Œ â¨±  , â¨±  )  aT timE zoNe sessIoNtImEZonE     ** cuRSor ï¼ˆ â¨± )      +  "" ( ï¼‰   .  :4  ï¼ˆ dISTInCt ï¼‰   ( + )  WITHiN GRoUP ( oRdER By â¨±  ï¼Œ â¨± nUlls fIrST     ï¼‰    mUlTIseT IntersecT  ï¼ˆ â¨± ) AT TiME zoNe DbTimEZoNE         And *       joIn  xmLTAble ( TimEsTamP ''   CoLumNs â¨± TIME    PAth inTErVAL '' year ( Q'$$'   ï¼‰     DEFaULt â¨±   )  "ð«µ¹"    PaRTITIoN bY ( â¨±   )  cRoss joiN  â¨±  usIng ï¼ˆ "" @ ROwTYpE  @ à»”Ô    ï¼ˆ uNIQUe staRtup  @ á†»   ï¼ˆ )   =>  DEFaULT   , "" @ ""   =>  defauLt  usAGe  @ "" @ ""      ï¼‰   .  *  ( + ï¼‰  , excEPt    )   piVoT ï¼ˆ â¨± As :47  @ exCLUdE  . :24       FOR ê Š      in ( â¨± )   ï¼‰      GrouP BY ï¼ˆ grOUpiNg SETs ï¼ˆ cube ( ï¼ˆ â¨± )    )     )    , ï¼ˆ ï¼‰    ï¼‰   , ï¼ˆ ( ( â¨± ï¼Œ â¨± ï¼‰   ï¼‰   ï¼Œ ( )    )      HAvINg â¨±    FoR UpdatE oF  "êª‚" @ "ð¡–¾"  ( )   ï¼ˆ + )     )  oRDer siBLINGS BY â¨± desc     fOR uPDATe SKIp locKeD   WIth reaD oNLy  cONStRAINt "" @ SORt  . :#       )   ï¼‰      cOnNect By nocycLE â¨±  StArt witH â¨±    wiTH ChECK OptiON  consTRAInT edITiOns  ( ï¼‰      )      -  extrAct ( DEfAULT    ï¼Œ "ð‘£"  ï¼ˆ uniQUe :2  @ :1   ( "" @ "á¹¢" @ "ê™š"  ( uNIQUe â¨± , â¨±  )   =>  dEfauLt   , â¨± aS :_  @ tEmplate  . "ð¦ ¾"      )   =>  â¨± As ""    ï¼Œ deFAULt    ï¼‰    aT tiME zONe sESSIONTimEzone     ** tRIM ( â¨± ï¼‰     /  LoCAL   ( AlL ""  =>  defaUlt   , "ð£¸»" @ ZONe   ï¼ˆ â¨± ""     ï¼‰   =>  â¨± AS ""     ï¼‰   ï¼ˆ + )  % FoUnD  At lOCal          )  at LocAL         Is Not oF TyPe ï¼ˆ :8  @ "" . celL_fLAsh_CACHE    .  "ðª‚¸" @ :ï»Œ  @ enaBlE     ï¼Œ "ð«¾¹"   )      Or nOt ï¼ˆ  _5   =>  â¨± as COMputaTion  @ :64      ï¼Œ deFaulT  duPLICAtED      ï¼‰  <  ï¼ˆ WItH ReTentioN   .  "ð®†‰"   ( :63  @ "ðª“¾"  ( DIstinCT )    ï¼Œ strinG  @ :6  @ :Æ¸    .  xML  ( )   ï¼ˆ + )   ï¼‰  as ï¼ˆ ( sELECt â¨±  , "ð­˜µ" @ ""   =>  DeFault     BuLK collEcT iNto "ð’µ" ï¼ˆ uniquE ï¼‰   ï¼ˆ )      fROM "" @ "ð¬™µ" @ "ð«¼¹"    sample ( â¨± )  SEed ï¼ˆ â¨± ï¼‰    UNPIvOT ExcLuDE nULLS ( ErROR_COde  ( "" @ "ð«±" . "ð£Š–"  ( â¨± defErRed  @ seArch  . ""      )   =>  DEfauLt    )   ï¼ˆ + )   fOR _2   ï¼ˆ + ï¼‰    In ( "" @ :#ïµ¤    ï¼ˆ ï¼‰     AS 0     ï¼Œ ï¼ˆ "ð¥˜"  ( + ï¼‰  ï¼Œ :81  @ "ð›Š°"  ( AlL â¨± aS "ð«–"    ï¼Œ DEFAulT    )   .  "" @ :11   ï¼ˆ distiNCT )   ï¼ˆ + ï¼‰   )   as ï¼ˆ ''''   ï¼Œ $.  )     )   ï¼‰        , ( â¨± )    UNPIvOt ( ( OverrIdING   .  ã‡¡à¨³  @ COnStRucTOR     ï¼Œ cUBe  ( aLl â¨±  ï¼Œ "" @ "ð¡¢…" . InDiceS    =>  dEFAULt  as :8  @ ""      ï¼‰   ï¼ˆ aLL )   ï¼ˆ + ï¼‰   )   FOr ( "" ( áŠŸ2  ( uniquE ï¼‰   =>  DeFauLT   , "" @ "ðª·’" . "ð®€"   =>  â¨± ""     )   ï¼ˆ defAULt    ï¼‰    , "ð£" @ XmltypE  @ :ã‡_   ï¼ˆ DIsTinct ï¼‰   .  *    ï¼‰    IN ï¼ˆ :54  @ "ð”‘" @ SesSIoNTIMeZonE    ( â¨±  , _Å‘  ( ï¼‰   =>  â¨± COMMiT  @ tYPE  . "c"      )     As n'ê—‘'      , ï¼ˆ ""  .  *  ( + )  ï¼Œ "ð£ª¡" @ :7  @ oPAqUe   ï¼ˆ UnIqUe DEFauLT  :á¡Šáž‡  @ "" . ""      )   .  "ð¦µ¦" @ SERialLy_rEusabLe      ï¼‰    ï¼‰   )      WHerE â¨±  sTArt wItH â¨±  CoNNect BY â¨±  group BY ( GrOUPinG setS ( rOLlUp ï¼ˆ â¨±   )    ï¼Œ ( â¨± ï¼‰    )    ï¼‰   , ï¼ˆ ï¼‰         witH rEaD oNLY  cOnStrainT :1  ( diStINCt ï¼‰      ï¼‰  mInus  ( sElEcT uNiqUe buFFEr_POoL  ï¼ˆ UniQuE ï¼‰   =>  â¨±    BULk COlLEct IntO "ð¢•ƒ" @ "â®" @ ""   ( DeFaUlt   ï¼Œ lObS  ï¼ˆ "ð¯¥¡"  =>  DefAult  AS ""     )   =>  â¨±   )      FrOM "" @ ""   .  :#    sAMpLe BLOck ( â¨± )  sEED ( â¨± ï¼‰    as of peRioD fOr :61  @ Min  . "ð”’¡"   ï¼ˆ + ï¼‰  â¨±    UnPivOt ï¼ˆ "" ï¼ˆ ï¼‰   .  *  ï¼ˆ + ï¼‰   for ï¼ˆ _  @ "ð¤“´" @ :37      ï¼‰    iN ( mASTER  @ :â»§    ï¼ˆ + )   as ï¼ˆ DATE ''   , 0xc   )     ï¼‰   )      pARtITion bY ï¼ˆ DEfAult  ""     )  cROss JOiN  json_TABlE ( â¨± ï¼Œ q'(ð§´ª)'    ColuMnS ï¼ˆ NeSTed PAtH :72  @ ""   .  reBuiLd  @ maX      CoLUmnS ï¼ˆ :57    fOr orDInALity   )    )  ï¼‰  "ð ­‡" @ "ð©²"           UNIOn ALl  sELect ""  =>  â¨± aS ""    ï¼Œ "ð¥“¿" ï¼ˆ deFault    ï¼‰   =>  â¨±    Into aLLOw  @ COMpuTATioN   ( aLL )      FRom ï¼ˆ â¨± paRTITion by ( "" @ #9  @ ""   =>  DefaulT  "ð  £" @ "ð¡“"     , â¨± As dENsE_RaNk      ï¼‰  INNer JoiN  â¨±  pivOT xml ï¼ˆ defAULt   ï¼Œ :á¹´  ( DisTinCt :8  @ RElIes_on   ï¼ˆ uniQuE â¨± ï¼Œ â¨±  )   =>  â¨±  ï¼Œ â¨± As "ðª³²" @ ""      )   =>  DEfaULT  "" @ nOneDITIOnAbLE       for ï¼ˆ "" ( )   ( + ï¼‰  , Þ”á‚ª  @ DEbuG  . #à¸œ    ï¼ˆ + ï¼‰   ï¼‰    In ( ANy   )   ï¼‰     ï¼‰  PaRtitIoN by ï¼ˆ ""  =>  DeFAulT    ï¼‰  naTurAL right oUter  Join  ( â¨± )  unPIVot incLUDE nuLlS ( RESUlt_CAcHe  @ "ð¤‰½" @ :4      fOr ( "ð‘µ°" ( DistInCt ï¼‰   ï¼ˆ + )   ï¼‰    in ï¼ˆ ComPUTATion  @ "" . :3    ( ï¼‰      ï¼‰   ï¼‰    veRSIoNS pEriOd foR "" ï¼ˆ dIStInCt â¨±   )    BEtween  *   And *      As miNUTe     parTITiON by ï¼ˆ â¨± :39     , "ð¦©¢" @ :à¼‡0    =>  â¨±   ï¼‰      coNnEcT BY â¨±  haVING â¨±  group by â¨±   , â¨±        fOR UpDATe noWaIT   ordER by â¨± nULls LaST   , â¨± aSC      ï¼‰  oRdEr bY â¨± NullS FirST   ï¼Œ â¨± asc  nuLls LaSt     foR UPdATe   ï¼‰  CYClE ByTE  ï¼ˆ diStiNCT DEFauLt  aS A     , :8   =>  DEFaULT  "" @ "ð¡›" . "ð¥«§"      ï¼‰   ï¼ˆ + )   sET "" @ "" . :19    .  oveR     to FalsE    DefAUlt N''''       SeLeCt "ð ‰" ( â¨±  , defAult  as VARCHar2  @ "ðª‰¾"      )   =>  DEFaUlT     fROM thE ( ï¼ˆ wItH #  @ :#8    .  "ð‘†±"   ( MinutE  @ frEeLIsT     ï¼Œ "ð‘‡¢" @ #  @ ""   ( + ï¼‰   ï¼‰  aS ( â¨± )  SEarcH DEpth FiRsT bY â¨±  , â¨± DesC    sET "ð«ŸŸ" @ ""       ï¼Œ eleMEnT    ï¼ˆ "ð¡“—" ï¼ˆ UNIquE ï¼‰    , :2  @ :#    ï¼ˆ )   ( + )   ï¼‰  as ï¼ˆ â¨± )  SEArCH DePTh FIrst by â¨±   Set "ð§›"       ï¼ˆ â¨± ï¼‰  inteRSecT  ï¼ˆ â¨± ï¼‰   ï¼‰  order bY â¨± NUlLs lASt     FoR UPdaTE oF  "" ï¼ˆ )   ( INClUdiNg  @ :78   ï¼ˆ â¨± ""    ï¼Œ â¨±   )   =>  DeFAuLT  AS MiNVAlue  @ ""      )   ï¼ˆ + ï¼‰  ï¼Œ :8  @ "" . CoNStrAiNtS    .  á¾§  ( UniQue ï¼‰   ( + )   WAIT U''     WITh ChEcK OPtiOn    ï¼‰  UnPIvOt ï¼ˆ ""    FoR ( "" @ :5   ï¼ˆ dIsTincT rEJECT  @ "ð¤±‚"   =>  â¨±  , "" ï¼ˆ deFauLt  as ""     ï¼‰   =>  defAUlT  As fOund  @ maxTrAns  @ ""      ï¼‰    ï¼Œ "" ï¼ˆ distiNct ï¼‰   ï¼ˆ + )   )    in ( :áŒ™  @ REfREsH    .  "" ( all "" @ "" @ :#    =>  DEfauLT   ï¼Œ :5   =>  â¨± :60  @ eRrOr       )      )   ï¼‰      PArTITIoN By ( dEFAULt    ï¼‰   PiVOt ï¼ˆ â¨± "ð¥¢–"    , â¨±   foR :52  @ "ð¢§‡" @ ""  ï¼ˆ )      in ï¼ˆ wITh ""   As ( sElECT ""  =>  deFault     From JsoN_TABLe ( â¨± FoRmAt jSON cOluMNS ï¼ˆ neSTed SHaRdeD     cOlumnS ( "" @ ""   .  "" @ NONeDItIonABlE  @ doUbLe     exIsTS PAtH CONVERT   .  à¶¥ã‚¡  @ "ð¦º“" . "ð‘´"     falsE on  ErrOr    ï¼‰    ï¼‰  )  veRsIONS beTweeN TIMESTaMP  *   and ï¼ˆ â¨± )  AT LoCaL    mULTIseT iNTErsECt  :_á‡„  @ "ð˜”£" . muLtisET    ( "ð—³®" @ "âŒ¼"  ï¼ˆ uniQuE ï¼‰   =>  defaulT  Õ€#  @ :16       )    witHIN groUP ( ORdER sIBlINGs by â¨± Asc  NUlLS FiRsT     )  oveR ( oRDeR SIbliNgS By â¨± deSc     )     ** trEat ( â¨± AS rEF ""    )    mULtisEt InTeRsECT DistINcT  NCHr ( â¨± ï¼‰     /  nULl   mulTISeT unIOn DIsTINcT  COnneCT_By_rOOT ï¼ˆ â¨± ï¼‰ At LOcal     AT TIme ZOne New :31  ( â¨±  ï¼Œ SEed  ï¼ˆ uNIqUE )   =>  DeFaUlT    )   .  *  ( + ï¼‰        ** CURSoR  â¨± )  aT timE zonE xmlCaSt  muLTISEt  â¨± ï¼‰  aS cHAR vArYing   ChaRaCTER SEt â¨±    ï¼‰      mUlTiSet exCePT  "" @ ErrOR_cODe    ALl )    + ï¼‰  kEEp  deNSE_rAnk lasT Order BY â¨± Asc   , â¨± DesC     )   aT TIme ZoNE SEsSIONtImEzoNE           PivOT xmL  ISOLATiOn  @ Ý‰6  . "ð«¦°"   â¨± AS "ðª‹œ" @ "ð–¢¥"      )   =>  â¨±  ï¼Œ "ð­—"  =>  DEFault  as :1      FOR  :Ã¸  @ eXIStS     â¨± as matChED  @ heAP  @ "ð§´›"      )     )    iN  â¨±  ""    ï¼Œ ANy           As "ð¥»¦"       wherE â¨±  StART wITH â¨±  CONNeCt BY NocYcle â¨±  GRouP BY    â¨±       , cUbe  â¨±  ï¼Œ  â¨±            , GROUpInG seTS  cUBE  â¨±               HAVInG â¨±    InTeRSeCT   â¨±   wIth chEcK oPTion  ConsTRaINt :65        searcH BrEADTH fIRst by â¨± nulLS LAst    seT byte  @ "" @ :_    .  foRcE      cYClE "ð‘–¢"  dIstiNCT â¨±  , dEfauLT            ï¼Œ "ð¤ƒ²"   +    SEt ""  .  "" @ ""     TO .9F    defAuLT 5     ï¼Œ dDL  @ ""   .  :_    AS  SeLeCt all "ð¬¬ˆ" @ :33  . :8    =>  â¨± As "" @ PrOCEDure        intO _áˆ°   alL    .  FInAL    +   , "" @ "ð«¤¯" @ "ðª¿ª"      fROm :3   .  ""   SAmpLe  â¨±      UNPiVoT INClUdE NULls   "ð­§¡" @ "" @ ""   ALL    .  *   +   ï¼Œ joIN  @ à³„á‹…  . :#à¶¨     +       For "" @ nOne    uNloCk   DistINCT dUPLICAtED   =>  DeFaUlt       =>  DEfAuLT  :1  @ "ð’š" @ pRIvaTE             iN   "á´«" @ "" . "ð­ "       ALl     +       AS 'â„¬'      , "" @ :7  . "ð‘Œ¼"       All â¨±  , exCEpTiONS   =>  â¨±       +             ï¼Œ xMlTABlE  InTerval '' hOuR  daTE ''''   , iNTeRVAl '' mONTH       tO MONTH    PaSsiNg by VALuE DeFault  "ð“‰¦" @ :3               whERe â¨±  staRt wITh â¨±  CoNnect BY nocyCLe â¨±    FOr UPDATe of  "ð©ˆ¶" @ log  . ã¨    .  *   +   , ÓŽ   DiStINCT    .  ""  :_   â¨± "ð¬¬¯" @ dIsABLe  @ CoMpIle          =>  deFaUlT   , :6   =>  DefAuLt  as wRapPeR          +    waiT 0X2        cYclE "ð¤ž»" @ "ð¬ž " . SEttIngs    .  *    set "ð­ž¤"    To dATE ''    DefaulT tIMEstAMp 'ð …'       SELECT UNIQuE DeFAUlt     fROm XMlTAbLe  XMLNAMeSPacES  â¨±  ï¼Œ "" @ "ð…”"   =>  â¨± As coNTAInER  @ ""        ï¼Œ InTErVAl '''' SEcond  tRue   ï¼Œ tIMeStaMp ''        PasSInG BY vaLuE DEfAULT  "ð¯¨’" @ "ð’¯" @ ""     ï¼Œ #  @ :4  . "ð¢·"   =>  DEFault  eRrOR_InDEx       coLUmNS â¨± reF ""  alL â¨±  ï¼Œ dAtaBaSe   =>  â¨± As "ð¤Ÿ·" @ "" . :3             DEFAuLT â¨±     versIONs peRiOd FOR :8  @ logoN    dEFAUlT   ï¼Œ "ð—´¦" @ ""   =>  â¨±       alL     â¨±  "ð›‚‰" @ Ä•  @ :65        Over  OrDeR by â¨±         ** NeW SeLf    sUbpaRTItIOn   all    =>  dEfAuLt  IDEntIFIer     , â¨± AS :_7  @ ""          +    At tImE ZonE SeSsIOntiMEzOnE      *  :ï±®  @ SpeCIfiCaTion    DIStINct "ð¨ " @ :âº   @ "ð£¼¾"      =>  dEFAulT        +   % BUlK_rOWCOUNt  â¨±      MuLTIsET INterseCt dIstINCt  CURSor  WiTH "ð†ƒ"    ""   ï¼Œ "" @ "ð—’š"   .  :97       aS  â¨±    , "" @ aGEnt     AS  â¨±   cyclE "ð§°Ž" @ Nchar     +    seT :9   .  ""    to nQ'??'    dEFAUlT Uq'^ð¨¯Ž^'       seLeCT all â¨± As :2  @ TRAILing  . "ð¢Ž‹"       Bulk collect iNto DefeRrED   uniQUe _      =>  â¨± :52  @ ""            fROM â¨± , â¨±  StarT WiTH â¨±  cONNECt BY â¨±  haViNG â¨±    oRder BY â¨± aSC  NuLls FIRST   , â¨±    with READ oNlY      AT LocAl       -  - "ð‡Ÿ" @ eNCRyPt  . ""    dEFAUlT   ï¼Œ "ð©œˆ" @ "ð–«“" . ""      =>  DEfAUlT  AS ""         WiTHIN GrOUp  ordeR siblinGs by â¨± nUllS fIrSt        AT TiME ZONe dbTimezone     MulTIseT UNiOn  ?        ANd *      _     PArtItION by  â¨±          OrdER SIBLINGs BY â¨± DESc  nUllS LAst   ï¼Œ â¨± nuLls LaST     wiTH CHEcK opTIOn            ï¼Œ  â¨± cRosS jOIN  â¨±  UNpIvOt inclUde nuLLs   "ð©Ÿ£"  UNIqUe    .  *   +   , eXclUdE   UniqUE :â³’#  @ ""   =>  dEfaULT   , â¨±       retUrnInG   dIstInct    =>  DefaULT  "" @ "ð¡ºŸ" @ àº»9           +       for  "" @ rOwTypE  . ""   .  *   +   ï¼Œ :75  @ reCORd  @ cLOB     DIStinCT â¨±  ï¼Œ â¨± "ð¬¶¿"              in  "ð ‘¶"     .  "Ç³" @ "ð¬–¶"   ALL       ï¼Œ "ð¢‹Ÿ"   +    AS  TRue   ï¼Œ dATe ''''                 PivoT  OVerFlOW  @ "ð˜±" . cOnTEXt    =>  defauLt    For :28   "" @ "ð¬¬‡"   =>  â¨± As COLuMn_valUE          DIStincT       IN   â¨±  ï¼Œ DEFAulT       :#  @ _             verSIONs bETWeEn TiMEsTAMP  :3  @ ""       OVEr  PaRTiTIoN by "ð«ª•"  =>  DefAUlT  aS "ð¬–‹"         AT lOCAl    muLTiSET uniOn DIStINCt  TreAt  â¨± AS FrEePOolS  @ "á£”"       . ""  UnIqUE :4  @ :ã…žá¨  @ "â»ˆ"   UnIquE DEFAUlT  "ð¢ª¤" @ :7      ï¼Œ à¦¾0   =>  â¨±      =>  â¨±      .  "ð®®ž"  LoCking  @ TrUnCatE  . cLOse    =>  deFAULT  :#  @ raw           +         -  trANsLATE  â¨± USINg cHAR_CS     ** TRim  â¨±   at tiMe ZoNE dbTiMEZONe      *  xMLaGG  â¨± OrDeR SIbliNGS by â¨± ASC   ï¼Œ â¨±            AND *       pArtITIon bY  DEfAuLT  AS "" @ "ð­†"     , â¨±     FUll OutER  JoiN  Json_taBLE  â¨± COLUmNS  ""   Format JsON wItHOut aRRay wRApPeR  PaTh 0x    NuLL On  EmPty    , :#à´“   .  freepOoLS  @ "Ë" @ USABlE     lOnG RAw    % TypE    tRunCAtE FORmat jSOn PAth TimEstAMP ''           InnER JoIN  â¨± using  :1   â¨± AS ""         +      oN â¨±     wherE â¨±  grOUp BY   RolLup  â¨±  ï¼Œ  â¨±         ï¼Œ  â¨± , â¨±             havING â¨±    UNion ALl   WIth "" @ "ð¬¥š" @ ""     "ð¥­‡" @ :46        aS  WiTh _  @ iNterVAL    .  ENfoRCed     CoNTiNUe  @ ""      .  :18  @ MeMbeR  @ "ðŸŸ˜"    ï¼Œ "áº"  aLl    .  *   +      as  â¨±    ï¼Œ ""   as  â¨±   SEArCh BReadTH First by â¨± ASC  NulLS LaSt    seT "á¯³" @ "" . rOW       cYCLe "âµ" @ "" @ "ð£‹"     SET Ø     TO 1.8e+9D    DeFauLt FaLse        â¨±   for Update NowAit   OrDeR BY â¨±       seArCh dEptH fIrst By â¨± NulLs fIRST   , â¨± DEsc    sEt ""  .  á¼¼  @ LiBrarY  @ "ð›„„"       ï¼Œ cReaTION  @ "" @ :7    .  ""   AS   â¨±   uNION   â¨±      sEaRCH BreADTh fIrsT BY â¨± aSC  NUlls FIRST   ï¼Œ â¨± desc  NUlLs fiRst    seT :â¶¢â¶³  @ moNItOring  . :66       CYcLE TRANsaCtION        +    SET "ðŸ¦"  .  :73  @ sTriNg      TO .7e9D    DefAULT ''       seLeCT "ð¢¯¤"  =>  DEfaUlT   ï¼Œ :#6  @ "ð†—" @ "ð’Ž"   UNIQuE â¨± ""        =>  â¨±    INtO "" @ :_    ALL "ð¥ˆ‡"  =>  DEfauLT   , dEfaulT  as "ð­›¨" @ stOre  @ ouT               ï¼Œ ""  DEFaulT  :80  @ "á’¸" @ "ð¤ª¦"     ï¼Œ lOGgiNg  @ ncHaR  . :#    DIsTinCT    =>  â¨± As "ðªŒ‚"        .  :44       +     froM tablE  selEct UNiQUe "" @ ""   =>  â¨±  ï¼Œ dEfaULt  XmlnameSPaceS       into :97    +     from â¨± pArTiTion By  â¨±      unPiVOT EXcLUDE nulLS   BuLk_rOwCOunt   distiNCT FIxed  @ :92    DeFauLt  AS "ð£¨²"    ï¼Œ á¢œ3   =>  DeFault       =>  â¨± Ø‹     ï¼Œ "" @ "ð’“" . heAp    =>  â¨±       , "ð¬¤"  UNiQUe         fOR  "ê™¶"   "" @ "" @ "ð ¡œ"   =>  â¨± As "á³‡" @ NchAR_Cs  . ""     , dEFauLT        +        In  :59   .  *             , â¨± PArTITioN By  DefAuLt      crOSS joIN  â¨±  PivOt  "" @ "ð¥º" . wITHin    disTiNCT    =>  dEfAult  as "ð¢”…" @ ""      foR :à±¹      IN  â¨±          cOnNECT BY NOcycle â¨±  stArt WItH â¨±  HAVinG â¨±  GrOUp by      , GrouPinG sETS  â¨±             ORDer sIBLinGS by â¨±  , â¨± NulLs LasT     foR UPdaTe sKIp LOCkEd       Join  xmlTAblE  'ð¦±º'   cOlUmnS â¨± For oRdinALity  , â¨± FOr oRdinalIty     As oF sCn  â¨± :80        PIVOt xMl  "" @ _á»ˆ    constrUcTOr  @ ""   =>  â¨±  ï¼Œ DEfAuLt  aS dISAssOciaTe  @ :72          =>  â¨±   FOr  flASh_cAchE  @ "â¿" @ sIBliNgs        +        iN  ANY               , "ð©…" @ :57     subParTItION  "" @ "ð©—Œ" . SPAce    ALL     disTinCT DEFAULT        +      pArTitIoN By  ""     =>  â¨± "ð¥…ƒ"        UNpivOt incluDE nUlls   sAVEpoint    DIStiNCt deFaUlt        , "ð¦¢µ"  .  *   +       FoR  :Ç6  @ :11  . ""         iN  "ðª¡¨"  ALl deFaulT  aS ROWtype           As n''      ï¼Œ  _áŸ“  @ "" @ "ð ¿‘"   miNvalUe  @ ""   uNIQUe    =>  â¨± WaIt     , DEFauLT        dIStiNcT     +   , "ð©ž©"   +       as  0  ï¼Œ datE ''                 WheRe â¨±  sTARt wiTh â¨±  coNneCt BY nOcYcle â¨±       wiTH reAD ONLY  cOnstRaINT "ð—·"             "ð£˜ƒ" @ :4  . #8      , not ncHR  â¨±   aT LOCaL      *  XmlqUEry  *   pAssing by VAlue dEcODE  â¨±     ** ConnecT_BY_rOot â¨±  at lOCal       +  + â¨± At time zone â¨±    mUltISET interSecT  - â¨±   ** TimEsTAMp ''      *  TreaT  â¨± AS rEF :_  @ TrUSTED  @ ""   .  ""       AT tiMe ZOne dbTiMEZone    muLTISet unIon dIsTINct  CursOR  witH compoUND  @ "ð¦ˆŽ" . "ð¢¥µ"     :6  @ UnusEd    "" @ :ï³£á¦¨  . :9    ALl    =>  â¨±  ï¼Œ à«¬   =>  DEFAUlt  aS "" @ "â®"          +      As  with rEwrITE  @ "ð§°"   .  ""   as  With suspEND     :19  @ DDL  @ "ðª ‡"   DEfAult   , â¨± RewRite  @ :73               +      aS  â¨±    ï¼Œ "ð˜™¤"   as  â¨±   sEarCH Depth fIrSt BY â¨± desC  Nulls FIRsT    sET _  @ NeW_NAmeS    .  ""       selEcT ALL "ð–ºš"  =>  â¨±    FroM  â¨±   As :Å©  @ ""     nAtURal JoiN  XmLtaBlE  XmLnAmeSpaceS  buILtin   =>  DEFAuLt      ï¼Œ N''''   PasSInG "ð—¼²"     =>  â¨± as :8           PartITIOn by  defaUlt  "" @ ""          PiVOt XML  "ðªƒ¯" @ "ð¡¤Š"      =>  â¨±   for sAVE  @ "ð¡‘–"   .  *     in   CONvert   =>  DEfaUlt       "ð¢½ƒ"             Connect bY â¨±  StArt WitH â¨±  haVinG â¨±  groUP by    â¨±               FOr uPdaTE  ORdER by â¨±    WITH READ oNLY  coNsTrAINT ""       SEarcH BrEaDtH FiRst by â¨± DeSC    SeT #          â¨±   fOR updATE sKIP lOcKed   OrDEr SiBLIngS by â¨± Asc  nUlLs LASt     WItH cHeCK OPtIOn      ordeR SiBLinGS By â¨± Asc     for uPdAte OF  ""   aLl dEFaULT        +    skip LOcKed      Cycle :ã†  @ PcTThReShOLD    aLl â¨± as "" @ "ð¤"           set :#  @ nExt      to InTervAL 'ð ‰¤' MINutE     deFaulT q';ð˜ƒ”;'       SElEcT â¨± aS "" @ :7        BulK CoLlECT InTo "" @ :9    DIStINct    .  tHAn  @ ""         FRoM "ð­¹œ"   aS OF periOD FoR BulK  @ :59     +   betWeEn    uNPIVOt ExcLuDe nUlLS  "ð¨¥ƒ"    for  YeaR  @ ""   dISTiNCT pArAmETers   ""  =>  â¨±      =>  DEfaulT  aS #          +        in  RewRITE   aLl     +              pARtitIon by  Default  ""       Natural InNer jOIN   â¨±   unpiVot   "" @ ""   "" @ :44    =>  DEFAult       .  *       fOr  lOcATor    dIStINct     +        In  "" @ :á¼½#    DiSTINCt    .  "ð£©˜" @ scale    deFAUlt         aS 0XE                   wHere â¨±  StaRT wIth â¨±  coNNECT BY NOcYcle â¨±  HavinG â¨±    Order SiblinGS by â¨± NULls FiRST     WITh cHECK OPtIoN      At loCAl           REtURninG cONteNt      ** - ?  aT loCAL          betwEEN  *   ANd  *        :55  @ "ð›ƒŽ"        nOt  In    :1   xmLagG  â¨± oRDER bY â¨± NULLs FIRst       AT TIME zOnE Ò‘7    % BULk_exCePtIoNS . cOUnT            iS  nUll        as ""        =>  ExISTs   wItH :Þ£2  @ "ð©¯³"     "ð¡ª¢" @ "ãƒ‹"   .  *   +      AS  seleCT mIN   uNiQUE    =>  â¨±    Into "" @ UnbOUNdEd       FRom  â¨±  piVOT  â¨±   For  librARy   DEfAUlT        +        in   â¨±             aS Of sCN  "" @ ""   DISTiNcT DIsasSOCiAte   =>  DEfaULt  as :85  @ ""         =>  DEFaULt  "ð¦¬¡"         PaRTITION By  â¨± "" @ "ð¨ª„"           GrOUp by â¨±      haVinG â¨±    orDEr bY â¨± deSC     FOR uPDAtE OF  #  @ incLude     +    Wait True     WITH reaD OnlY      sEARcH BreaDth FiRst By â¨±   seT #ã†‘        SEleCt ""     =>  DeFault     BULk CollEct INTo "áƒ¯" @ space     â¨±         From ThE    â¨±   OrdEr SiBlINgS bY â¨± ASC        fOr UPDatE  witH ChECk OPTion  COnsTrAInT "ð¤º†"       ""    LEFt  jOIn  jsON_tABLe  â¨± ï¼Œ .9   CoLUmNs  :82  @ ClOb     ForMAt jSoN       veRSIOns PErIoD FOR rElies_on  @ ""   ALL     "" @ :96    =>  DEFault        BetWeEN  *   AND connEcT_bY_roOT á‡–   dIStINcT    .  :ážª  @ "ð§®µ"   dIStINCT â¨± AS fIxED  @ ""          +   AT tIMe ZONE sESSIoNTImezoNe     aT lOCAl     ** "ð«Ž "       keep  DEnse_rANK LasT OrdEr by â¨±       AT TiMe zone DbTimEZOne             paRtitioN bY  â¨± ""       cROSs JOIN  â¨±  oN â¨±     wHeRe â¨±  sTARt WITh â¨±  conNECt bY â¨±    For UpDate OF  "á†·" @ RESulT    dEfaULt       .  *   +    NOwAit   With reAd onlY  cONstRaiNt :1             as FipsFLAg                FROm  nOT CURReNT Of  GrouPing   disTInCt                  is nOt A set        fOrmat jSON , dEMAND  @ :1      COlUMNs  "" @ :#     truNcAtE       uNpivOt  "ð¦ž¯" @ "ð¦¸»"    ""  =>  Not  DiSABLe  @ ONLinE    dIstinCT    =>  defaUlt  "ð¢µƒ" @ "ð­¸¨"        oVERlAps  :4  @ "ð£ˆ—"   UnIQuE ""   % Bulk_RoWCOunt  Not Exists   wIth :1    As  wiTH "Þ…" @ ""    AS  SeLECT uNIQue â¨±  fROm jSoN_table  â¨± FormAt json , 4.f    COLumnS  :ã‡‹Ð´    fOR orDiNaLIty       "ð’Œƒ"    JOiN  TABLE  â¨±    PartiTion bY  â¨±   FUll Outer  jOIN  â¨± USinG  _á¢        +      On â¨±   UnpIVoT eXcLUDE NuLlS  ""  uNiQuE â¨±     +    FOr "" @ ShARDEd       iN   roWcOUNT  @ tRailinG        +                 WHeRE â¨±  GRoup bY           fOR upDate Of  :4  @ "ð«•²"   All â¨±      SKip LocKed   oRdeR BY â¨± nulLS lAsT     WIth cHeck OptIon      CYcLE ""  .  :ï¾   @ ""   â¨±     +    SEt "ð¥ƒ’"    tO 7   dEfAuLt iNtERVAL 'Ë¤' HOur  Date ''      To daY  ''             sELect dIStInCt â¨±  iNtO ""  .  :1  @ LOG    aLl       FROm xMLTablE  nQ'=ð–¹¹='       INNeR JOIN  TABle  â¨±   PivoT  â¨± For DefERrAble  @ _2    .  *     iN  â¨±        VersIOnS pERIOd FoR "á´½" @ RETURNING        DisTInct â¨±     +   â¨±  *   AND *       PaRTItiOn by  â¨±    USINg  "ð¥º‚" @ "ð§®”"           piVOt XML  â¨± foR  nOmAPpiNG   .  "ðª§‹"   +        iN  â¨±  AS :47  @ _               cOnnECt By â¨±       OrDer sIblinGS bY â¨± Asc     FoR uPdatE skIP loCKEd      CyCle raw   â¨±     UNIque     +    Set :81  @ ""     to N''    defaUlt 5E9d        wIth ""    "ð¨®¡" @ "ð¤‡¹"       +      aS  wITh "ð©©»"    PRaGMA    +      aS  â¨±     SELEct â¨±  bUlK colLect inTo "" @ "ð§²¾"      frOm  â¨±   aS OF PERIOD for "á„°"  â¨±     â¨±    UnPIvot EXClude NUllS   ""  DistiNct â¨±    .  *       FoR  VaRYInG  @ ""         iN  :à¸µï½®   .  *   +    as Q'--'              As :3  @ FiXeD      pARTItiOn By  â¨±    pIvoT xmL  â¨± FOr  "ð…·"  aLL     â¨±          in  ANY            gRoUP bY cube   â¨±            haVINg â¨±       SearCH DePth FIrST bY â¨± aSc    SEt à¤§â·“         selEcT uNiqUE â¨±  FRom  â¨± pArtiTIoN by  â¨±      pIvOt  â¨± FOr rowiD  @ :_9     +     iN  â¨±          NatURaL fulL ouTeR  JOIN  :7  @ "ð¥ªš"    PARTitiOn  PRoCEdUrE   DiSTiNCT    .  "" @ MAx    DIStinCt â¨±     +     VErsioNS BEtWeEn scN  *   ANd *       innER JOin  â¨±   uNPivOt iNCLuDe NUlLs  tIme     FOr  "" @ daY            +        iN  "ð£›¤"  diStINCT â¨±     uNIqUe                wHEre â¨±  gROUp BY  â¨±           wItH ChEck OPTion  coNstRAiNT :79  @ set         fOr UpdATE oF  ""   â¨±     +                    at lOCaL     ** tRanSLaTe  noT #  @ :23    DiSTINCT â¨±     +   % roWcount        not  LiKe  caST  â¨± aS DOubLE PREcIsion     at LOcal     ** eXTRACT  â¨±  ï¼Œ tRanSlAtE  â¨± UsING Char_Cs     ** xmlquERy  â¨± pASsing â¨± aS :#1      reTurnIng cONtEnT           ï¼Œ SYS_CONnect_by_pATh     AT tIME zonE DbTimEZOnE                       USiNG ncHAR_Cs                   =>  DefauLt  aS "" @ "á¶°"                      fOr  ""  LOCKeD  @ ""   =>  *   ~ =  soMe   WitH :ÏŽ    As  wItH InTerFACE     "" @ :3        +      As  wITH "ó †²" @ "ð˜»"    as  â¨±   seARch bREadth FIRsT bY  DefAULT      OvERlaPs  CUrReNt Of  SAVe   diSTiNCt "ð˜ƒŽ"  DiSTInCt    =>  dEFAuLt  "ð§—–" @ â»œÖ‚                           NULLS laST    set "ð­§§" @ "ð¡¿"      cyCLe fiLesySTEM_Like_LOgGInG  @ mIn     +    seT :37     To 0x    defAuLt timEstAmp 'ð«£—'        â¨±   ORDer sIBliNGs bY NoT EXISTS   â¨±        DEsC  NuLls LAsT     wiTH ReAd oNLy      cyClE aRRAy        SEt "ð¬“ "    to ''    deFAUlt intErVaL '' MiNutE  tO sECOnd        seLECT *   In    DEfAULT  ""               inTo "" @ "ðŸˆº"   .  "" @ Ä¾     +     From  â¨± cRoSs Join  â¨±     paRTitiOn by  KeEP  @ "ð¢»"   alL "ð¢¯ª"  =>  Not ExTract  moNtH FrOm  â¨±   OVErLapS  â¨±                   likeC  *   EsCAPE nOt Case â¨± ELse â¨±   EnD  At Local         is not OF  :12                  "ðŸ˜µ"        =>  dEfaUlt  As Json  @ "ð£ £"        CroSs JOIN    â¨±   oRDEr by noT exisTS   â¨±        desC     for UPDAte  WIth chEck OPTion  cONSTraINt :91  @ :7            as STorAge  @ :#      PArTitiON bY  CurRENT OF  iNCLudE   all "ð¡‰¹" @ "ð¢°’"   =>  DeFaULt       .  "ð”‘¹"                ConNeCt bY NOcYcle noT *   LikEC   selEct NOt *   IS  NoT  nan           FROM xMlTaBle  xMLNAMEsPAcES  DefaULT 0x6     ï¼Œ DAtE ''''   coluMnS PRIOR sYs_CONNeCT_bY_paTH  alL "Æœ"  =>  dEfaUlT  aS "" @ ""         AT tIMe ZoNe â¨±     at lOcAl         Is nOT EmPTy        nchaR  DIStInct   cOLLaTE :73      raNgE cuRRent OF  COMPacT  @ "ð ³Ž"   ""  =>  deFAulT  AS "É“" @ :_9          .  errOR_cOde  @ NOnE    pCTvErsion  @ ""   DiSTINct    =>  â¨± as :33               ..  not *   betwEeN  *   aNd  trIM  â¨± FROm  â¨±     ** CasE â¨± ElSe â¨±   End                    UnpivoT InClUDe NulLs   ""   +       For "ð¤‘¾"      uNIQUE     +     In  :âº„à¼‰   defAULt        +              joIN  "" @ á¼¥4     subPArTiTiON  "ðŸ•–" @ "ð¨¢›"   .  *     saMple BloCk  NOT  â¨±   At TimE Zone sESSiontimezone                  ParTitIOn bY  freepoOls  @ :81    =>  defAUlT  "ð˜¥"       InneR joIN  â¨±  ON FOreIGN  @ ""   uniQUE â¨±       AT local     ** deCOde  â¨±         =  *            WHere noT   â¨±     in   â¨±          sTART wItH exiSTS   â¨±         ConnECt by EXistS   â¨±           fOR upDATe Of  ""   +    nOWAiT        ** + DIsable    OVeR     aT TiMe zONe SEssiONtimEzONE    At locAl         EscAPe NOt *   iS  inFiNIte               Having eXTractvALue  "ð©‚˜" @ :31    ï¯ 5  @ wrAPpEd    DisTIncT    =>  DeFaULt  brEADtH  @ :25          =>  nOT cuRRent Of  ""   +        As kEep      , *            In    â¨±   WITh rEAd ONLY                    SelECt DIStiNCT *   iS of  OnLY "ð®‹«" @ "ð‘˜©"               BuLK CoLlEcT iNTo "ð‘±—"  deFAuLT          frOm tabLe  NOT CurREnT Of  _  @ "ð«‰«"              AS :98  @ "ð¥Ÿ¨"     NaTuraL jOIn  JsoN_TABle  NOt XMlCAsT  mUltIsET  wItH XMLtABLe     "ð­¥“"   uNiQUE     +      As  â¨±   SEArCh dePtH FiRST bY eXiStS   â¨±        nuLLS FiRSt    SeT "" @ IndIcaToR         SelECT :#á½‘  @ ã…Š    NeW exIStS   .  *    AT tIme ZonE seSsiONtIMEZone     ** xMlQUERy  7.F   aT TiMe zoNe â¨±     ** NuLl        passING By value *     rETuRNiNG cOnTeNt    AT TImE zOne DbtIMeZonE         >  prIOR tREat  â¨± aS reF ""      . "ã†¤" @ ""   .  :_Î¶   distinct â¨±     +         ** nchR  â¨±              eMpTY         =>  DEfAUlt  aS "â¬" @ ""       fROm â¨± pIVOT  dEfAuLt  AS uNLiMIteD      fOR  LimiT  @ :8     +        In  aNy            WhEre nOt  "" @ "âªŽ"   uNIquE    =>  â¨±     ovERlAPS  ""  =>  â¨± :â»‰7  @ AlWAyS                 CoNnect BY nocycLe eXistS   â¨±         groUP BY  CUBe  exTRACt  deFauLt    , *    , *      aT LOcal         iS  InfINItE                      For UPdatE skIp LoCkED   order bY not currENT oF  "ð¢°ƒ"            NULLs lAst     with ChecK oPtIon  ConstRainT :63   UNIqUe         aS OpAquE FixED  "" @ ""   =>  DEFAUlt  ""       using LIBRArY ""  ALl nOT eXIsTS    â¨±   FOr uPDaTE oF  eNforcED  @ :_       orDER sIBLINgs By â¨± nuLLs LAsT     With Read onLy  coNStRaInT iNdiCAtoR                       AT LOCAL         noT SubmultISET OF CAst  mUltiSeT  wItH ""   As  â¨±   seaRCH BReadTH First by *   noT  IN    defAuLT           DEsC    SET :4  @ ""      cYCle "" @ :5    cHR  @ tEmPoraRY    uniQUe    =>  DEFAulT  ""             +    sEt :_  @ "ð—¦"     to ''    deFAult 5.e-6       â¨±   oRder SIBLIngs by nOt   Õ‡   =>  deFaUlt      ^ =   â¨±           NULLs fiRSt     wiTh reaD oNlY      as nATioNaL cHAr  "" @ excLuDe       =>    dISAlLow  @ ""   =>  DEFauLt  aS "ê ‹" @ :4         in     â¨± as :61                             ** ?               ColUmNS  nestEd BAsiC  @ ""     CoLUMns  ""   fOr ordINaLitY           aS Of sCn  noT *   Not  likE2  n''   aT TIme ZonE sYs_CoNNeCt_By_path  uniqUe *        â¼¸              ** XmLaGg  cURReNt of  ""  mIneXTenTs   =>  dEfauLt        all     +                         PiVoT xmL  :27  @ "ð¤–˜"   disTiNCt deFauLT  as "ð–¡—" @ COllect          =>  Not exIsTs   WiTh :7    AS  â¨±   cycLe "" @ "ð¨•"   DIstiNcT LASt  @ :8    =>  xMlcasT  â¨± as IntErVAL     "ð©½ž"  UNiQue     +   TO  â¨±    ExtENt  @ "ð®¨Ÿ"        AT lOcal              "ð’“ "          seT "" @ "ð¥Ÿ®"     TO InterVal '' Hour  TO MoNth  Uq'!ã¶!'         defAuLT N''       sElECT dIstINcT dEfaUlt     BulK coLlECT into "ó ‡‚"  .  *     FrOM â¨±     For UpdATE SkIp loCKeD   oRDER by nOt curreNt OF  ""  UNiQUE â¨± as #à§ƒ  @ ""          +        deSC             "" @ tRUE       For  ""  unIque         +        in  seLecT DiSTiNct ISoLAtion  @ _0    =>  defaUlT     bulK cOLlEcT intO :ï¬•          frOM â¨± unpiVoT  "" @ SEt    UNiquE    .  ""      +    foR :59  @ ""    DIstINCT wOrK      =>  dEFaulT          iN   "" @ :_ê     .  *       AS  TiMeSTamP ''''                 WHERE NOT *   not  iN    â¨±   aT time zONe "ð¡¿”" @ ""    +   % RowcOunt           Not  beTweEn  *   AnD  exClUDE  @ materialIZED    "" @ :3    â¨±      =>  DEfauLt  aS Log  @ ""         .  *   wiThiN GrouP  oRDer bY â¨± DeSc       OveR  partITIon by â¨± ""      ORDEr sIBlIngS BY â¨± nuLLS fIrSt     rOWs â¨±  FollowiNg       at lOcAl     ** COnNECT_bY_rOoT loCATOr    +   OvER  pArTITioN by Î¶   DisTiNCT â¨±      =>  dEfauLT  As freELIStS          At timE ZoNE sESsionTIMEZoNe                 AT lOcal                sTaRT WiTH nOt  dEFAuLT  :14        oveRlAPs  ""  dIStINct    =>  *   is noT of TYpE  OnLy "ð­¢ž"                       ConNeCT By not *   > =  any    Not   "" @ :áº¸Ó·    =>  DEFAULT  :32  @ ""        Not  in   â¨±                     HaVInG chr  CuRrent OF  ""  .  *   +        USInG ncHaR_cs     ** eXTRAcT  tiMeZonE_AbBR frOM daTe  *   not mEmBeR of *             AT TIme ZoNe DbTImeZonE         Not  bETwEEn  nULl        And  ?  At lOcAL     ** casE  END  at tiMe ZOnE + sequence  @ REjECt        +   kEeP  dEnse_raNk laST ORDEr By nOt eXiSTs   â¨±        dEsc  NulLS last       ovER      aT loCaL                  gROUp By  groUPiNG setS                   oRDer bY loGginG   .  "ð¡…ž" @ :54    movEMent   aLl DEFault       =>  nOT curreNT Of  "ð©ª¦" @ #3     DiStiNCT                  ** SyS_CONneCt_by_paTh  NoT *   < >  *        aS "ð§ œ"        AT tiME ZoNe SesSiONtIMezonE         BetWEeN  :54    ovER  PartITiON by DefaUlt  "" @ "ð†ª"       ORdER by *           rows Not  ""  =>  deFaulT  "ï¯•" @ ""        OVeRLAPs  DEfAuLT              PreCedinG             aND  *        nulLS laSt                   coNNEcT By NOCYCLe exISTS   WITh :#6     SeSSioN   alL     DistincT "" @ "ð„"   "ð¬˜²" @ tiMezonE_mINUte   â¨±  =>  exists   â¨±             =>  Not curSor  â¨±         is  nOt  nan        As #  @ :51           +      As  â¨±   cYclE reuSE   .  :3  @ ""    +    SEt :7     to dATE ''    DEFaUlT FaLSe       SELeCT Not "ð©£Œ" @ LIkE2     DiStIncT     aT LOCAL         Is oF  only ""              inTo :à·¯Ü”        +     from  â¨±    PaRtItIon By  "ð—¤–" @ PraGMA    CUrreNT oF  á¹¯à¶‘   .  *             =>  DEfaUlt  As "" @ ""        NATUrAl JOIN  Json_tABlE  Not  ""  =>  defAuLT      OVerlapS  dEfauLT  invALIdAtion  @ ""               COluMns  :9  @ ""    "" @ ""   UNIQUE     +   % rOWtype    pAth ""          PIvOT  DIsaLlow   uNiqUE EscAPe  @ ""   â¨±    =>  deFauLt       =>  *   Not  liKE  :6   uNiQuE     wIthiN grOup  OrDER siBLINGs By â¨±         ** decOdE  â¨±   at lOCAL         esCAPE â¨±         fOR mOvEmENT  @ #    .  ""   +     iN   ""     =>  NoT TreAt  â¨± aS ""      . SEssIonTImEzoNe  @ vIrtUAl    â¨± as NcHar_cS  @ :#3               +           NoT sUBmULtISeT oF *          as ""                As oF TImeStAmp  DEfauLt          PivoT xML  EXIstS   â¨±        :È‹7      FoR  :5  @ quOta     ALL          IN  *   Not  In   â¨±                   WheRE - NeW :5  @ lESS    distINct ""  â¨± =>  DefAUlt       =>  â¨± ï¼Šà¾­  @ ""         .  *    aT tImE ZOne DbTImEZonE      ** eXTrAcTvaLUe  deFAult    ï¼Œ *      At timE zonE TreaT  â¨± As REF "" @ ""       . ""   DIstinCT defAuLt  As "" @ ""          +                    Having NoT cUrReNt of  ""  .  *   +                    start WIth not current OF  :â¾±ï¹  @ ""      .  "" @ InDeXinG             For update OF  "" @ ""   uniQUe     +    waIT E+    oRDER SiBliNgS bY tRaNSLaTe  NOT   tImezoNe_HOUr   =>  DefaulT  :1        <    â¨±   ORDer bY â¨± deSc     for UPdatE WAiT TimesTAmP ''     WiTH REaD ONLY  conStrAInT ""  all               usInG CHaR_cS         iS  nOT  NAN        aSc        WITh chECk OPTIOn           as SPliT          nOt *   In  TRiM   rebuilD  @ :4    =>  eXIsts   with "" @ _     as    â¨±   oRDer sIblings by â¨± ASc  nullS LAsT     for UPdAte  wITh ReAd onLY      FoR UPdATe oF  "" @ ""             sEarCh dePth FIrsT BY â¨±   sEt ""       sElecT UnIquE _   UNIQuE â¨±    =>  â¨± aS bULk_excePtIONs       FRom  seLECt DeFAUlT     INTo ""  .  :5  @ founD       FrOM â¨± PaRTitIOn By  aUTHiD  @ ""      =>  â¨±      UNpIvOT INcLUDE nuLls   ""  uNiquE DefaUlT  "" @ Ddl               FOR "" @ #    .  STRING   uNiQUE     +     IN  :5  @ ""   :ï­¿6  @ ""   =>  â¨±       +    As  .eF                 WHErE â¨±  STArT With â¨±  COnNeCt By NocYCLe â¨±  hAvINg â¨±    WiTH CHeCk OPTioN  COnsTRAiNT ""  deFaULT  Partition  @ :3               veRSIoNS pERIod foR none  @ ""   .  *   BetweeN  DeCoDe  â¨±     ** XmlQUEry  *   paSsInG "" @ :7     uNique     % isOPen  at local         aS ""  deFAUlt        +     RetUrNiNg ConTEnt          ANd *       parTITiON bY  :Þˆ#   DistincT    =>  â¨±     crosS JOiN  XmLTABlE  trUE   paSSInG BY valUe "" @ ""   =>  â¨±    CoLumns â¨± fOr ORdInaLiTy     UNPiVOT   MEDium   uNIQUE â¨± AS exCludE  @ ""              FOr  :1  @ loGGING            +        iN  ""   ""  =>  dEFAulT  ""         +            as Of perIod fOr "" @ ""   all    .  :#    â¨±      croSs JoIn  â¨±     coNNect by â¨±  gROUP bY  GROUpING seTs                   with CHeCK OPTIOn               OVErlaps  dEFauLt               AT LOCal     **  nOt *   mEmBER of ""      diStincT *   is OF  OnlY sAVe            AS "" @ FOLLOWing           +   OVEr  pARtiTIoN bY :3  @ seCuREfIle    dIStiNCt :3  @ pRIvaTE    =>  DeFAULt       =>  eXiStS   WITh "" @ ""     ""   defaUlt  As á ¨             aS  wiTh OIDiNdex  @ ""     "" @ :Ã‰Þ¯    UNIqUE SeArCH   =>  â¨± ""        .  _    +      aS   â¨±   foR uPDAte SKIp LOCkEd      SEARcH DePtH FirST bY â¨± NuLLs firSt    sEt "" @ :6         SelECT aLL defaULt     FRoM  â¨± jOIN  â¨±     pArtITION bY  "" @ ""      =>  â¨± QUOTA        InNeR JoIN  thE  wITh :á¥žáˆ     COnDitIoNaL       As  â¨±   CYclE CoMPuTATioN  @ ""    +    sET "" @ :1      to Date ''    defaUlt       selECt ALL defAulT     bUlK CoLLeCT IntO "" @ ""   .  *     fROm â¨± PiVOT  DEFAulT    fOR  ""  All     +        iN  aNY            Start With â¨±  coNNEcT BY NoCyCLE â¨±  HAViNg â¨±  gROup by                  aS ""     oN â¨±   unpIVOT ExcLuDE nULLs   "" @ ""   â¨± :á¿®  @ CHArAcTER           +       fOr DeLetE   uniQue       in  "" @ :2      As 0x               HaVinG â¨±  GROup By  gRoUping sETS  rolLup   â¨±                      oRdER SIBliNGS BY â¨± nulLs fiRst     wITh chEcK optioN  COnSTRAint :#1           sEARCh dEpTh FiRst BY â¨± dEsC    Set "" @ couNT       CYClE "" @ ""   ALl ""  =>  â¨± As ""         +    Set LoNg     tO $.   DEFAUlt q'[]'        SeleCt uNiqUe vIRtUAl  @ :4    alL    =>  dEfAULT  aS :7  @ ""       INTO #    +     frOm xmLTaBLe  inTeRvAL '' YeaR        PARtitIoN bY  default      naTUrAl inNER Join   â¨± UNpIVOT eXcLUDe NUlLS  "" @ ""   CoMpLETe   =>  â¨±       uNIQUe DeFaULt  AS fixED           foR  _    +        in  "" @ ""   aLl "" @ ""   =>  â¨±                  UNpIVoT INCLude nULLs   :7   .  *   +       fOr  "" @ coLleCT       .  UNlIMItEd         IN   :9  @ TREAt    DisTINCT â¨± "" @ :ï¶ž               As  f               VERsIons BEtWeEn TiMestAmP  XmLCaST  MULTIsEt  WiTh :9    AS  â¨±   CyCLE ""  .  "" @ ""       +    sEt "" @ vArRAY      to faLSe    DEFAulT EF       SelecT #  @ ""      =>  dEfAULT     INTo ""  DEFaULt  As "" @ COunT           +     FROM â¨±   WHeRE â¨±  start WiTH â¨±  CONNeCt by â¨±  GrOuP bY               for UpDATE OF  _à¿Ž   UniQuE     dISTinct      SkiP loCkeD   wITh read oNLy  CoNstRAINt ncHR        as  trUE  ï¼Œ trUe      AT TimE zOnE DBtimezoNE     ** cAst  mUltIseT  WItH rename     "" @ ""   uNiQuE ddl  @ ""   =>  â¨±          as  â¨±   SeaRCH brEAdTH fIRSt BY â¨± dESc    SET "" @ :2          â¨±   FOr uPDate oF  ""    nowait   OrDER by â¨± aSC  nULlS lasT        as rEf :1   ""  =>  â¨±           +    RAnge â¨± ..  â¨±            anD *       FulL  JoiN  â¨± UsING  :áŠ„à¯«  @ ""        Pivot XMl  â¨±   For "" @ dECoDE    ALL "" @ :6       =>  DEFauLT  batch  @ á¿£#               +     IN   â¨±   ORdeR sIblingS bY â¨± NUllS lasT     fOR upDaTe            WheRe â¨±  cONNeCT BY nOCyClE â¨±  StaRt wiTH â¨±       ORDeR SIBlIngs By â¨± NulLS fiRSt     WITH rEad Only              ORDer siblingS BY not *   liKE  *   eScape â¨±       ASC        At LocaL                 aT TiMe ZonE sEssiOntIMeZone               As ""         +        In  ""  dISTiNCT SaVePoint   =>  default  áž«5                   AS of PeRiOD foR opeN  @ ""    All nOt   deFAUlT      < =     â¨±             AS :4  @ ""          +   not CuRrEnt oF  "" @ eXTRACt               paRtitioN bY  ""     =>  dEfAULt      rigHT  jOIn  ""   SaMple  ""   +   % NOtfOUnD        Not  liKEc  trAnSlAte  triM  cUrReNt of  ï±à¸‰  @ ""    +            ** PriOr ''   aT TIME zOnE sESsIontiMEZOnE           ! =  All   Not nEw InCLuDing   :6  @ tiMEzOnE_REGioN       =>  â¨± ""        .  *   +    At LOCAL         < >  *                 UsinG ChaR_Cs                seed  not xMlAGg  not  ExiSts    WITh :#  @ :2     As   â¨±   oRdeR by â¨± Asc  nULLS FiRSt        CYcle "" @ ""    distInCT      SeT NaTURaL  @ ""     tO 0x    DEFaulT DatE ''''       SELect LockIng  @ ""   uNiquE    =>  deFAUlT  AS ""      InTO ""  uNiQuE DEfAULT       .  *     frOm jSon_tAblE  â¨± FoRmAT JSoN , TImEsTAMp 'ð«½„'    COLUmNs  :8  @ cloSE            paRTITiOn By  withIN   =>  DefAuLt  ""          coNnECT By â¨±  groUp By   â¨±            haVing â¨±    witH rEAd onLy  ConStRaINT ""  :á„¢  @ :8    =>  â¨± JSON  @ _               fOr uPDAtE Of  NOShaRd  @ ""   .  "" @ :_    dISTInct â¨±       +    wAit TimeStAmP ''''     OrDEr bY â¨± NuLLs last     wiTh CHECK OpTION               oVErLApS    â¨± As eDItionS  @ ""        NoT  in   WITH ""   as  With ""    ""             AS  sEleCt DistInCt OVEr  @ ""   aLL DEfauLT  ""        =>  deFault     BuLK collEcT iNTo :3   .  ""     from :à¬ˆ0  @ fiXeD     UnPiVOt   :5        +       fOr  "" @ ""   distInCt    .  *   +        iN  ""  dataBase  @ inStead    =>  DeFAUlt        +    aS  Uq'=='                 JOIn  â¨± On â¨±       FoR UpdATE       selEct â¨± as pOLYMOrphic       buLK coLLect IntO "" @ ""      fRom   â¨±   With CheCK OPtiOn  cOnsTRAinT :6        veRsIOns perIod FOr :2  @ SCOPe    ALL ""  dIsTINCt ï½·áˆ–   =>  DEfAuLT  as "" @ ""         =>  DeFAUlt  As "" @ ""          +   BetWeEN  *   ANd *      AS InDeXING     PArTITion bY  â¨±     NatURAl InnEr JOiN  â¨±  PIVot  ""  aLL    =>  dEFAuLT    for _   â¨± ""           iN  WIth TruStEd  @ ""     "" @ :7        as  â¨±   seArCH bREADth fIRsT bY â¨±   sET "" @ TRIM          â¨±   ordER sIblINgs By â¨± NulLs LASt     fOR uPDATE  witH ReaD OnLy             WhErE â¨±    wITh Read only      sEArch BrEAdTh FIrSt bY â¨± Desc    SET :_0        seleCt ALL "" @ ""      =>  DefaUlT     FRoM   With _  @ reAd      :2   all        As  â¨±   SEArCh BREADTh FirsT by â¨± DESc    Set "" @ ""         â¨±      oRder by â¨± NULLs FiRSt        vERsIOnS BeTwEEn TimEsTaMp  CHr  â¨± UsinG NChAR_cS         AnD elEmenT  @ ReBUilD     â¨± :ï°—          +   % buLk_rOWcoUnT  â¨±     at tiME ZOne "" @ inDIcaTOr    disTInCt    .  :8  @ ""    % BuLk_ROWCOUNt  â¨±     at tiMe ZOne dBTimEzOnE        ** ?  at LOCAL                WheRe â¨±  sTArT wITh â¨±  conneCT BY â¨±    fOr updAte of  "" @ ATtRiBUTE    .  *   +    SkIp locKeD   ORdER sibLiNGs bY â¨± NuLLs laSt                             ** CAst  NOT *   is NOT oF TYpe  ""           As Agent    +   % ROWtYpE      aT LOcal         suBmuLTIsEt Of *               PaRTITIoN bY  :á¹³   =>  CURRenT oF  "" @ :2    dIstincT ""     =>  DefauLt  ""                  cRoss JOIN   â¨± pivoT Xml  defauLT  ""     For  ""  nOt  WiTH pRIOR  @ ""    as  seLECT ""  =>  dEFAUlT     From â¨±   STart wItH exIsTS   SElEct UnIQUE *   Not  BeTwEen  CasT  MulTISet  â¨±   As reF _  @ ""   DEfaUlt  as "" @ DefErrEd           DIsTINcT â¨±       +    RANGE â¨± ..  â¨±      AT local     ** + :_à´€  @ :8     % bULk_ExCePTiOns . cOUNt          AnD  NulL    **  â¨±   at Time ZONe dbTiMEzoNE              AS à¥½  @ noROWDEPEndENciES        INtO USabLE  @ ""       all       fRom â¨±   WhERe noT eXIsTS   â¨±         cONNECT bY nOCYcLE not NULL        BeTwEen  *   aND  *         sTaRT wiTh cuRRENT OF  ""         haVinG ExIStS   â¨±           oRDeR By nOT COnNeCt_By_roOt 'ð¤±»'   At TImE ZOnE SEsSIontimezOne       **  â¨±  aT lOcal         iS  nOT  nULl        desc     FOr UpdAte wait u''              CoNNect by nOCyClE *   IS  infINiTE         groUp By RoLLuP  not   ""  searCh  @ ""   =>  BODy   ALL    .  *   +   wiThiN GrOuP  OrdEr bY â¨± desc  NuLls lASt       oVer  oRder bY â¨± dEsC     ROws beTWEen UNBOunDED PrecEDinG  and cUrRenT row       aT locAl         IS  INFINITe             =>  DEfAulT  :1  @ ""        in   NOT CURrENT of  tRAILINg  @ :5    .  *   +        ï¿‚                       hAVinG nOt *   LikE4  xMLCaST  exiSTS   WITH "" @ ""    As  â¨±   SEARCH BREaDtH FiRst BY â¨±   Set kEEp      CYcLe ""  .  "" @ ""   WRApped   UNIque    =>  defAULT         sEt ""    To FAlsE    DeFAulT TrUE        â¨±   for UpDAtE sKIp LOckED   WiTH cHECk OPtioN  cONSTRaInT "" @ #6                 As  fAlsE  , FalSE                    FoR UPdATe of  :8    +     oRdER siBLInGs bY  defAulT      OVErlApS  "" @ PASSWoRd    =>  caSE â¨±  enD        IS Of tYPE  :1            As "" @ NomInvaluE                dEsC        cyCLE "" @ :#6     aLl dEfaulT  as ""         +    seT :1     tO u''''    DEFAult q'â€ â€ '       sELEcT nOT *   iS a sEt           INto iNteRFAcE   UNIqUE reBuiLd      =>  DEfAULT        +     FROM â¨± UNpivot ExcLUDE NUllS   "" @ ""        FoR ""   unIQue     +     IN  DecOde  @ ""     As INteRVAl '' hour  tIMESTAMP ''   ï¼Œ                    StARt wItH NOt cURRENT oF  :9       UniQUE nOt prIor :â²½à°  @ ""   UNiqUe "" @ ""  â¨±  =>  DEfAUlT        wItHIN GrouP  OrdeR SIblINGS By â¨± NUlLs FIRsT          At tIMe zoNe "" @ ""    +   KEep  dEnsE_RaNK FirSt OrDer By â¨± Asc        AT timE zOne â¨±        ** - xMlqUeRY  *   paSsING by VaLuE *   As ""     .  exiT  @ CacHe     +     rEtURNinG cOnTent     at lOCAL         iN    ""  =>  â¨± "" @ ""             as :#                conNeCt By ExisTS   SElect uNIqUe PresErve   diSTinCT NOT TReAt  â¨± As :4  @ :2           ** xMlCAst  MULtISet  WIth "" @ ï²§Ó§     As  â¨±      â¨±   with Read Only      aS doUbLe pReCisiOn     CHaracTer Set â¨± % Charset       at Time zoNE XmLagg  â¨± oRDeR by â¨± nULLs FirST                          =>  DefAULt  "" @ BAtch        FRom â¨± pIVOT  dEFAult  As bULK_rOWCount      FoR tRansactiOn  @ ""      In  AnY            WHEre noT   "" @ ""   ""  =>  â¨±      =>  DEfAUlT      < >   WiTH :â¼†#  @ ""     :3  @ #    disTiNCt â¨± ""            AS  â¨±   cYClE PEriOd   alL    .  *   +    SEt UNlimITed  @ :5      TO ''''    dEFauLT u''       SElEct uniqUE dEfauLT     bulK COLLect iNTo ""   +     from â¨±   WHEre â¨±  conNect By â¨±    For UpDAtE oF  :#  @ EMPTY        "" @ ""   =>  â¨± AS "" @ ""           NOwAit   WItH CHEcK oPTIoN  CONStRaINt :4   â¨±                  GrOUp bY    â¨±             haviNG noT *           orDeR SiBLiNGS by EXTRACt  mOnth fRom date  â¨±    At LOCAl     ** CURSor   â¨±            nOt  IN  *         nuLlS FIRST              haViNg cuRRENT OF  ""  .  :3  @ Row     +         GrouP bY  deFAuLt      OVerLaps  onLY  @ ""   ALL ""     =>  dEfaulT  aS á‚         =>  nOT   DeFAUlT      ! =    wITh ""    ""  aLl iNCluDINg  @ :ï¾¹    =>  â¨± ""            aS  â¨±   SEarch Breadth fIRSt BY â¨±   Set traNSaCTioN  @ BoTH         SElecT uNiQuE "" @ ""   =>  â¨± As ""      FROM â¨±   GroUp by  gRoUPiNg SeTs                   For uPDaTE of  :2   DEfauLt  :9  @ ""           sKiP LOCkEd   wIth CHeck OpTIOn      ordEr SiBLIngs bY â¨± asc     WitH Read oNLy  constrAINt ""                                  aT TIme zone dbtiMEzoNe         IS nOT Of TypE  oNLy PrebUilT  @ bufFEr_poOl                   +        in  WitH ""   AS  sELECt ElSIF   =>  deFAUlt  AS #       bulK cOllECt INTO "" @ :1    distiNcT       FRom â¨± pIvot Xml  NOT EXtract  DEFAUlt  nULlS  @ ""      , CasT  *   ^ =  :ã††5  @ nCHar_cs    diSTINct ""  =>  deFAuLt        +   % BUlk_ExCEpTiOnS  Not CurrENT oF  "" @ ""    +          . eRroR_CodE     ** xmlqueRY  â¨± pAssiNG â¨±   RETuRNiNg coNTeNt    AT LOcAl              aS INteRvaL  :7  @ _àµ©     TO  ""  AlL         At LOcal              ** EXTRaCtValue  *   noT  lIkE4  *   escape noT :8  @ ""       +   KeEp  DeNSE_rANk FIrSt oRdER BY â¨± dEsc       Over  pArTitIOn By ""  =>  â¨±       At TiME ZOne SessiOnTIMEzonE     ** OnLINE  @ ""       +   WIthin grOup  OrDer BY â¨± nUllS firST       oveR           noT  IN    â¨±   orDER SIBLinGs bY â¨± NuLls FIrST     FOr upDAte NowaiT                 ""     , *      aT LoCal         IS Of  "" @ ROwTypE               FoR  SPACE   ExIsTs    â¨±   foR UpdaTe Of  "" @ ""     SKip lOCkEd   oRDer SibLiNgS BY *   iS a sET        desc                   UnIqUe          iN  wiTh ""   aS  â¨±   cycLe :1   uNiqUE ""  diStinCt DEfaUlT  AS dEtERmiNiSTIC         =>  dEfAULt  aS "" @ ""          +    Set :_  @ StARTUp      tO .EF    deFAuLT dATE 'à®¹'       SELECT exisTs   â¨±           InTO "" @ :5    .  *   +     FRom â¨±  cONnEct by nocycLE noT decoDE  nOt CURrENT of  áŒ¬8  @ ""                     LikE2  *         STaRT wiTH nOT  dEfAuLt  "" @ CLOSE         oVerLAPS  ""     =>  *   Not  BetweEn  *   anD  CuRsoR  â¨±                          HAving NULL  AT TimE zonE DbTimEZOnE         is  nuLL           for UPDAtE  WItH cHEcK opTiOn             staRT WiTh nOt *   BetwEEn  :Ó¸   .  *   +     ** - EXTraCT  hour FRom dAtE  Not  áƒš  @ ""   ""  =>  dEfaULt  aS nooRdER         =>  CUrrEnT OF  ""            ovERlaps  NoT ExisTS   wITH "" @ sCOpe      COMpuTE  @ ""       As  â¨±   searCH depTh fIrst by â¨± desc    sEt :6      cYCLe ScopE       +    SEt ï¾†á¸²  @ bEforE      To 0X    DEFAulT inTERval 'ðª‚‰' mInuTe  0X   ï¼Œ FaLSE      To SeconD        SelEcT deFauLT  ""      BUlk cOLLecT inTO ""  dIsTinct     +     FroM â¨± PivOt  :#   DeFAuLT       =>  â¨±   FOR  "" @ hOuR     UNiqUE _8  @ DaTa       =>  dEFault  As "" @ ""               IN  AnY            WHeRE â¨±  StaRT witH â¨±  coNneCt bY â¨±  GROUp BY â¨±        WItH REaD OnlY           aS :4                  AT Time zonE sessIonTimEzONE    aT locAL         and  *         COnnECt By NocYclE CurSoR   â¨±   OrDEr sIBLinGs By existS   â¨±        nuLLs FIrst     wiTh rEaD ONlY  CoNsTRAiNt :2  @ :1         At lOcal     ** CAsE nOT exIsts   witH nOmiNValUe     ""   DistinCt sESsIon  @ usaGe       =>  traNSLaTe  â¨± uSIng ChAR_cs         < =  SOME   â¨±                 aS  â¨±   SearCH Depth fiRSt bY currEnT OF  ""  .  "" @ ""   DiSTInCT     +        Asc  nulLs fIrST    sEt "" @ ""        sELect aLL inDIceS   =>  nOt tRiM  TRAILING fRom  â¨±     ** UQ'``'                 INTO "" @ ""   UnIQUe defAUlT  "" @ ""              +     FROM â¨±   wheRE nOt   "" @ :5    =>  dEfAULT  :ï®°        ~ =    DEFault               HaviNG NOt *   Is EMPTy           oRder bY CurrEnt oF  SpECifiCatioN  @ DEleTE          NULLS fIRST     FoR update of  :#   uniQuE  â¨±   aT TIME zOnE SesSiOnTImEzonE     ** "" @ _    uNique ""  =>  â¨± aS XMLTaBlE          +   At LoCaL         in    ""     =>  â¨±          "" @ ""           nOwAIT   WiTh chEcK Option            enD                      seLeCT defAUlT     FROM â¨± UnpIVOT  :1  @ ""   .  blOck       +    foR ""  AlL dEFault  "" @ :6             in   :_  @ ""   .  *   +                 ConNECt By NOt NCHR  noT eXIsTs   wItH aLLow    aS  â¨±   CyClE ""  ALL *   iS  not  iNfIniTe               SET SEaRCH  @ ""     tO .e-f    DefAuLt INTeRvAl '' DAy  to HouR  ''             â¨±   FOR uPdAte WAit DaTE ''     orDer BY nOT   defAUlT      in   â¨±         nulLS laST                     NoT sUBmULTiSET OF *           grOup By  cUBe   *   >  :6  @ ""    +   KEEp  Dense_RANk firSt ORdeR siBLIngs by EXIsTS    â¨±   With read ONlY  cOnStRAINt COnteXT   "" @ :4    =>  deFaULt  AS "" @ CrosS                    DESC  nullS lasT       OVEr                              HAViNg NOt cUrSor  With ""    #à¥€  @ à«ˆ            as  â¨±     SeLect :9  @ ""   disTIncT    =>  NOT *           fROM â¨±     ORDEr By  Not  ""  =>  â¨± as IncLUde        OverLApS  ""  DEfAUlt       =>  deFaULT  ErROR_CoDE  @ ""                   overLaPs  deFAULT  ""              Asc     fOR UPdate oF  :ï²¸à¸™    UNiQue                beTWEeN  *   and  "" @ REfeRencing       .  *   +   % iSOpen  aT tiME zOne sesSIONtimEzonE     **  nOt cHr  ""  DIStInCT     +   % iSopeN  At lOcal     ** ?        is NOt Of  ""           USInG NCHar_CS   aT TimE ZoNE DbtIMEzOnE         IS  noT  nULL         AT loCaL                 wITH cHecK optioN  CONstRAINt :7  @ autO         OrdeR SIBLIngs bY *   ï¼ =  All   wiTh PRiOr  @ ""    as  SEleCT dIsTINct LOCKinG  @ ""   :á 7  @ #    uniQuE NOT EXIstS   â¨±             =>  NoT curRenT of  ""             =>  dEfauLt  as       frOM â¨±   WHere cURRent OF  ""   UniqUe           cOnneCT by NocYCle *   beTWEEn  XmlCAsT  NOT neW  @ ""    +    at TImE ZoNE New ""  â¨± "" @          .  ""      +             NoT  in  *         As TimesTamp  dIStinct  @ ""   =>  DEFAULT  aS               ** "" @    UniQUE     +   oVEr  pArTitioN By *   liKE  *   escaPe â¨±       aS "" @        oRDEr bY nOT    =>  â¨±     ovERLAPS  "" @ ""   dEFAUlT       =>  DEFaULT                   At LOcAL         And  - CoNNEcT_BY_rOoT null    aT tiMe ZONe SESsiONtiMEZONe      ** TRANSLaTe  CUrrENT OF  ""        USINg ncHAr_cS   at time zOnE dbTImEzoNe               sTArT WITH nOT TRIM  tRaiLIng     =>  â¨± "" @         > =   "" @ ""   =>  â¨±  @               frOM  + CHr  â¨± UsINg NChar_CS   At tIMe zONe â¨±          is nOt a seT          At lOCAL     ** New  @    UNIqUe DefaulT               iS  NaN         hAvInG noT *           for UpdATe SKIp LOckeD   WItH reAD ONLY  ConstRaINt   All         SearCh DEPTH FiRSt By NOT ExISts   SElect DefAUlT     bUlK COlLecT INTO   "" @ ""   =>  deFaULt  as            FROm â¨± uNPIvOT incLUDE nUlLS   "" @ ""    +       FOR  @ ""         in  ""      ALL *   NOT  LikE4  eXtrACT  MONtH froM â¨±    AT LOcAL              AS "" @           +    AS .              CONnEct bY *   In    ""  =>  â¨±           StARt With not CUrRent Of    uNiquE  @    =>  defaUlt        +           FOr UPDATe of   @ ""   .  ""        oRDer SiBLinGS bY CONNEct_By_ROot - xMLcaSt  â¨± aS raw  dIStinCt ""  =>  â¨±              At loCaL     At TImE ZOne DbtImeZonE         is OF TyPE  Only "" @ ""            ASC     WiTh Read OnlY  cOnStraiNT   uniqUE              NuLLS LAsT    SET ""     cYcLe "" @ ""    +    Set     TO TImesTamP ''    DEFaulT 0X        wITh "" @     as  â¨±   SEArCh dEpTH FIRst BY   DeFaULt  "" @         nOt  iN     @ ""   ""     =>  dEfAUlT       =>  NoT currENt OF   @    dIStINcT â¨± as                           dESc    sET         â¨±      ordEr by NoT ExIStS    â¨±   orDeR bY nOT CasE  end    ** SyS_ConnEcT_bY_PAtH     at tIME zonE eXtrACt  mInUtE FroM dATE  â¨±             =  ANY   â¨±          Desc             nulLS LasT     foR UPdaTe          dESc  NullS LAsT     fOr updAtE OF  "" @      skIP Locked   wiTh READ ONLY                 JoIn  â¨± uSInG   @ ""    aLL     +          pivOT  dEFAult   @       FOr        +        in  WitH ""    ""  DiStiNCT dEfAult  "" @              aS  WitH "" @ ""    As  sElecT dISTincT  @ ""   =>   ""  =>  deFAult      OVERLaps    =>  *   LIke4  *   escApe nOt ExisTs   â¨±              As                  INTo  @       fRom tHE  â¨±    PaRtiTioN bY  xMlqUerY  *   paSSing BY ValuE *     rEtuRnINg CoNTenT      ** deCodE  PRIor SyS_cOnneCt_bY_pATH  ALL "" @ ""      =>  nOT CURREnT Of  ""  DeFaUlt  AS         .  *   +             at LOCAl           =  *          at timE zOne xmLagG  nOt D     **  @    uNIqUE DeFAult        +   oVEr     at LoCal         NOt  BeTweEN  *   AND  sYS_COnNECt_by_PAth                orDeR by   DeFAuLT  as "" @ ""        In     DefAUlT                nulLs lASt       AT TImE zONe DbtiMezonE            is NOT OF TYPe  ""            @         iNNeR Join   @ ""    PArtiTion       SaMPLE bLocK  Not ""   +   % bULK_ExcEpTIONs . COunT     ** DeCoDE  eXiSTS   â¨±          at loCAl         Is  NUlL          SEeD  NOT eXiSts   â¨±             natUral Full  JoIN  XmLTAble  XmLNamespAcES  DEfaULT u''     , tRUE   COLUmNS NoT CURrEnt Of          fOR oRDinAlity     As OF PEriOd FOR "" @        BeTWeeN    uNpIVoT eXCLudE nulLs  "" @    alL     ""  =>  *   NOT meMBER oF *                +    For  @ ""   .  ""  all "" @ ""    @    =>   @ ""    KeEP  dENse_Rank lAST order SiBLIngS By NOT EXisTs   â¨±        DeSc                   As ""        =>  Default  ""           In     diSTINct         +                 nAtural rIGHt  JoIn  â¨±    PivOT xMl  CuRReNT Of    ?  aT tIMe ZONE DBTiMEZOne     ** sys_CONnEct_By_patH  all ""     =>  defAuLt             ~ =  *              +        AS  @ ""      for "" @    .  *   +     IN  â¨±          WhErE nOT exIsTs   â¨±         STarT WiTh nOt *   Not  lIKEC  + U'ð¨¹©'                cOnNect BY NOCycle not *   not  In  treat    NOt *   =  Any    deFAULt             AS "" @ ""        ^ =   â¨±         AS ""       at LoCal     ** XmLAGg  EXiSTS   â¨±        ORder SibLiNGs By NoT    uniquE    =>  XmLcAst  muLTiSeT  â¨±   As OPAQUE FIXed    uSIng LIBRARy "" @    .  *   +    ChAraCTer SET â¨±            IS  Not  nAN            OveRlAps    diSTINct DeFAUlT       =>  NOT tRIM  trAIlinG â¨± From  â¨±   at local     ** "" @     ""  All    =>  DeFAUlT           % fOunD  at TimE zOnE  â¨±  at LocaL            noT  beTWeen  *   aND  *         @ ""                                 hAVINg cUrrenT oF   @ ""   .  ""  UNIqUE  @    =>  xmLqueRY  EXTraCt  deFAULt  "" @ ""      , *    , *      At TiME ZonE SesSIoNTImEZonE     **  NOt CurRENt OF  ""                   pAsSING tRaNSLATE  *   Not  likeC  nEw  @         at TImE zone SESSionTIMezONe              USing CHaR_Cs           RetURNING CoNtEnt          iS nOT EmptY                 +         grOuP by                  CyCLE  @    DIStiNCt nOT  ""  =>  nOT XMLquERY  *   pASsinG *   AS "" @ ""   DiSTINcT DEfAulT        +     reTuRNinG CONTent    AT lOCAL     **   â¨±   fOR UPDAte OF    ""  =>  deFaUlT        DistiNCt      NOwAiT   WIth ChECK oPtiON            noT  in   SeleCt all deFAuLt     bulk COlleCT iNtO  @ ""   .       fRom   â¨± pArTItiON bY  CuRRenT OF  "" @    â¨±              as ""        uNpiVoT incLUDE nULlS   "" @    diSTINct     +       FOR   @ ""    +        in    DiStInct                PivOt XmL  ""  =>   â¨±   ovERlAps  â¨±          As  @       For  ""  disTiNcT  @ ""   =>  DEfAUlt        +        in  â¨±        AS oF SCn  "" @ ""   =>  DEfAUlT  "" @          ""    CrOSS JOin  Json_TABlE  not conNect_By_ROot PrIor ?  at TIme ZonE dBtimezone         ** cAse â¨±  END  aT tIME zone sESsIonTiMezONE         mEmBEr of *          ï¼Œ $.   colUMNs   @     loNg   rAnGe    +   KeEp  densE_rank lAST OrDEr By â¨±      OVEr  parTitIoN By â¨±       at tImE ZONE  â¨±           is Of typE  oNlY            ..   @ ""   UnIqUe ""     =>  defaUlt  as ""         at LoCAL         NOT  LikE4  *   ESCAPe â¨±          FOrmAT jsON        pArtITIoN bY  ""  â¨±    =>  nOT ExIsTS   â¨±                     UNPIvOt   "" @         foR        +        in   @    .  *   +    AS n''               COnnECt by nOCyCLe noT EXIStS   â¨±         grOuP By  Cube  CURrENt Of    unIque â¨±                            hAvInG nOT "" @ ""    dEFAUlt        % BUlK_ROwcOUnt  â¨±       ** + XMlCasT  â¨± As opaquE fIxED  aLl   usInG LIBRary  @    ALL    .  ""   +       at lOCaL    at TImE zOnE PrIOr - â¨±   AT lOCAL                    orDeR by     â¨±     =>  DEFault  aS  @ ""        NoT  iN   â¨±         ASc  NuLLs LAsT             "" @ ""        OVErlAPs  not *   IN   WitH    As  â¨±      â¨±   Order SIbLINGS BY NOT *   >  "" @ ""       +   wITHiN groUP  OrdEr bY â¨±                  asC  nulLs firSt             aS "" @                       set ""    TO $.   dEfAult Q'//'       seLEct DeFAuLt     frOM  @     vERsioNs BEtWEEn SCN  treAt  *   likEc  casT  CuRrEnt of  "" @ ""   .  *   +        AS   .  *   ChARacteR SeT EXIsts   With  @ ""        +      AS  â¨±   cYCLE "" @    aLl   =>  NOt *        ""        .  *    set  @ ""     to .f    dEFaulT Q'@@'        â¨±   foR UpDatE sKIp lOCKeD   WITH CHecK OPTIOn  ConSTraiNt "" @    dISTINCt  @ ""   DeFAULt       =>  NOT     all    =>  â¨± ""       < =    ""  =>  DeFaULT  AS  @                                % ChaRSEt       aT loCal     ** TrIM  NOt CAsT  MuLtiSEt   â¨±      aS InTErvAL  DiSTINcT DEFAULt  As ""        "" @     +   To     ""   all           ** CASE else  â¨± "" @ ""        ovERlApS    â¨±      =>  DEfaULt  AS                 ENd  AT time zONE sESsioNTIMeZone         Is not of   @                          AS rEF ""      .               and *     UNpIvOt   @ ""    +    fOr  "" @    DiStiNCt     ""  =>  DEFaUlt             iN  "" @ ""   .   @ ""   nOT ncHr  *   bETwEen  ""   +   aT lOcAL         aNd  *          AT timE ZoNE TraNSlaTE  NOT exIStS   WItH     "" @ ""       +      as  â¨±   seaRch dePtH FiRst By CURrENT OF     aLl          asC  nuLls lasT    Set  @       CyCle   alL NOt   "" @    All    =>  DefAult      in    @ ""   =>  dEfauLt  ""                  .   @      SEt "" @      To    deFaUlT dATe ''       SElECt AlL *   bEtwEen  ""  ""  =>  dEfaULT  ""         +   witHIn grOuP  OrDeR By â¨± ASC       oVER  parTiTiOn BY â¨± aS "" @        ORDER sIbLInGs By â¨±    roWS bETWEEN â¨±  pRECeDing  and â¨±  FOLlOWinG         **  â¨±         aNd  *           bUlk cOlLECt iNtO "" @ ""   aLl   dIstINCt    =>  *             .   @ ""     =>  nOT  dEFAuLT         OvERLaPS  â¨± AS  @ ""                       FRom TABLE  â¨±   pivOt  DEfAUlT  As      FOR  "" @     +        in  ""      all  @    =>  dEFAUlt        +   OVer  ORDer sIBlIngS BY â¨± NulLS firsT          ** nUll  AT tIme zonE dBTImEzoNe         IS a Set                   pArTitioN By  cuRRENT OF                 where Not cUrrENT OF  ""   @ ""   =>  DefAulT  "" @ ""          DIsTINCT             fOr uPDatE OF  "" @ ""        skip loCKED   oRDER SiblInGS bY NOT ?  aT lOCAl         IN    "" @    DiStINCT   =>  â¨± "" @          =>  DEfAulT              WiTh CheCk opTIoN           USiNG cHar_Cs        ** xmlAgG  not eXIstS   wITH        AlL        AS  â¨±   sEaRch Breadth FiRst bY   dEfAult      > =   â¨±         desc  nUllS laSt    seT "" @         SeLecT +  @ ""   .  *   +   OVer  PaRtiTIon bY deFauLT        AT locaL    AT TIME ZOnE sesSionTimEzONe         Is  NoT  iNfINITe           iNTo "" @ ""     â¨± =>  *   Is OF  ONly  @             ""        =>  dEFaUlT  aS ""           frOM  â¨±        uNPivOT inCLUde nulLS  ""  aLl         +    For  "" @ ""    +        in   @ ""    +              STArt wiTH NOT CUrrenT OF  ""   +         cONNect bY nOT cURRENt Of  "" @       .           GrOuP bY  ROLluP   NOt *   iS EmpTY                        FOR updAte  witH rEad only             aT LOcaL         IS OF  "" @             AS  @ ""           aS  ''''                 ParTitIoN By  xMLqueRy  *   pasSING By vALuE ""  unIqUE DEfaULt       .  *   +   % IsOpen          ReTURniNG CONTeNt          ~ =  SOME   witH     "" @ ""   uNiqUE  @    =>  deFaulT        +      As  â¨±   cYcLE     SEt  @      TO TIMeStamP ''    DEFaULT ''        â¨±   With CHeCK OPTiON  cONsTRaint ""                @ ""           WHERE NOT ExiSTS   SELEcT DIsTInCt *   nOT  In    "" @    EXTraCt  â¨±  ï¼Œ 0X   AT TIME ZOnE dbtimeZOnE     ** -    +    At lOcAL          ï¼Œ *                      =>  dEfAult           AS ""      INTO   diSTINCt       FrOm xmlTAblE  XmLnameSPaCeS    , inTervAL '' YEaR  IntErvAL '''' hOur  TrUe   ï¼Œ 0X           tO SeCONd  tImESTamp ''   ï¼Œ falsE        paSSing "" @    =>  not   deFAUlt  aS ""       < >   â¨±               vErsIons pErIOD For "" @ ""   aLl       dEFAUlT  aS "" @ ""         =>  eXIsts   â¨±              NOT DECOdE  NoT CurrenT oF   @ ""             ** CUrSOR  â¨±   AT TIme ZONe sESSiONtImezoNE         iS  NULl         *   aND exTRACt  TiMEzone_reGiOn FRom *   LiKec  *           AT LOcAL     ** - COnnEcT_BY_ROot  NOT â¨±  ** â¨±      NOT  BetWeEN  â¨±  ** â¨±      anD  â¨±            at lOCAL                fulL Outer  joIN  The  â¨±    paRtItiOn bY   @ ""   =>   DEFAUlT   @         OvERLaPS  not *   not  BETWEEN  *   aNd  ?                               cROss jOin  jSON_tabLe   ""  =>  *               OVErlaps    aLL    =>  NOt eXISTs   â¨±                   forMAT JsoN cOLUMnS  "" @     rEf "" @    alL  @ ""   =>  DefAulT        +    % TYpe    truNCatE paTh "" @            aS ""      On *   Not  iN  *           PiVOt XMl  DEfAULt  aS      foR  @    unIquE     EXISTs   â¨±                 +     IN  â¨±          WheRe noT ""   aLL     +   % bULK_ExCeptioNS  CUrrENT OF  ""    diSTInCt "" @ ""   =>  dEFauLt       =>  DeFAulT               . ERROR_codE   aT tiME zoNe dbTIMeZonE     ** XmlAgG  noT *   mEMBEr OF TRanSLAte  â¨± usINg NCHaR_CS                  at tImE ZOne IntErVAl '' YEAr  tO Year  U'ð¨”'        at LocaL            <  ANY    NoT CurrENt Of   @    .  ""         @                 HaVing prIOr  @ ""       OvER  paRtitION By  @ ""   disTincT DefAULT  As ""        =>    â¨± AS "" @         nOT  iN   â¨±            ORDER SIbLINGs by nOT *   iS  NOT  nan        NuLls Last          AT LOCAl         NOt  lIke  *   esCaPE not eXIStS   â¨±                 fOr uPDaTE WaIT Nq'%%'     ordeR by  dEFauLt      oVERlApS  ""  =>  nOT treAT  â¨± as          ** deCOdE  â¨±   aT Time zone seSsIOntiMEzoNe         IS Of tYPe  oNLy  @ ""                       ASc              GroUp By GrouPING setS      uNiQUe    =>  DeFaULT  aS        ovERLApS  dEFaULt  AS "" @                           hAvinG not  SELecT ""  =>  cuRrent of  "" @    AlL "" @ ""      =>  DEfauLt       .  *   +        ""      BulK coLLecT intO  @ ""    *   IS EMPtY              +     frOm xmLTaBle  .e-f   paSSiNg BY ValUE not +   dEfAuLt       .  ""   +   WItHin GROuP  oRdeR BY exIstS   â¨±        aSC        aT tImE zOne â¨±          is  nuLl        "" @        ColuMnS not *   is nOT oF  "" @             dOUBlE PRecIsIoN     RAnGE NOt   AlL     KEep  Dense_ranK lASt ORDeR By Not exists   â¨±                **  â¨±   at LocAL         < =  AlL   â¨±        ..  cUrRenT oF  "" @ ""   ""  =>  dEfaUlT          .  *           PATh TRUe   DefauLT CuRRENT of   @ ""    +            as of PEriOd FoR  @     +   betWEen    UNPIVOT EXClUde NullS    @ ""   aLL         fOr  ""   +        iN        "" @ ""   =>  defAulT  AS           As  TIMesTAmP 'ð½ˆ'                 PArTITion bY  "" @ ""   aLL    =>  NoT   cUrsOR  â¨±         bEtween  *   anD  *            ! =    Not trEAt  â¨± aS ""      .   .  *       ** + XMLCast  MultISET  â¨±   aS nVArchAR2   % TYPE       aT tiMe zONe DBtiMEZONe         is Not oF Type  OnLy "" @                                COnnEct by NOcYcle ""   @    aLL deFaULt  aS "" @ ""         =>  deFauLT        UnIquE     +   Keep  dENSe_rank fIRST ORdeR SIblInGs bY nOt exiSts   â¨±        desC  nuLLS FiRst        At Local         Not MEMBEr OF neW ""    At TIMe Zone DBtImEZONe     ** trIM  EXiSTS   â¨±                        sTART WiTh *                            OrDEr sIbLINgs By not    @    =>  Not casE nOt  dEfault         OVerLAps  defAuLt  As  @ ""               ELSE CurrEnT oF   @     +          End    ** ""  UniquE       "" @    disTiNCT    =>  *   ï¼ =  some   â¨±         AS "" @ ""         =>  DEfAUlt        kEep  DenSE_RaNK FIrst ordeR By NOt *   iN  *         nULLS LASt       oVEr     aT loCAl         Not  Between  *   ANd  NEW ""  UNIquE exIsts   with  @ ""       .  ""   +      as  â¨±   sEARCH deptH fiRSt bY â¨±   seT ""     CyCle  @         Set     tO dAte 'ð£½º'    DEfaULT q',,'        â¨±                .  *    at Time ZONE SEssIoNTImEzOne     ** nuLL                 > =   selEct uNique "" @    =>  Not SyS_coNNecT_BY_PATh  ALL    AT LOcAL     ** cAST  MuLtiSeT  â¨±   aS rEf  @    ""  =>  DEfauLT   @ ""          +       at tIme ZonE ExTRaCt  HoUR FRoM not CASt  mulTisEt  â¨±   aS opAQuE FIxED  â¨±     USIng LIbRaRY  @    uNiQue     +             in   â¨±                    liKe  *   esCaPE *   >  ""  dEfAuLt            % BUlk_roWcOuNt  â¨±     At LoCaL     ** connect_BY_RooT  â¨±  aT tiMe ZOnE SesSIOntiMezOne                      "" @ ""       intO ""  All  @ ""          Is  nOt  iNFINIte        as ""             +     FROm TaBLe  NOt    =>  NoT CurrENt Of  "" @     dIStiNct     +               OVERlaPs   @ ""   All ""  ALL    =>  defAuLT       =>  curREnt OF  ""       +                     PIvot  DEfAulT  AS "" @ ""      foR  @ ""      IN   "" @    =>  exiSts   â¨±                AS ""           as of sCN  deFAULT   @              wHerE NOt 0X   at lOCAL     ** PRIoR TReAt  *        As  @           at LOcAl         IS  nOt  nAN         START WiTH noT     unIqUE NoT *   SUbmUlTiSeT oF *               =>  deFaulT      nOt  in     EXIstS   â¨±                       CoNNEct by noT    @ ""   =>  Default      in     DEfault  AS ""                  hAVING DECOdE  nOT CUrrEnt Of   @ ""       +          At tiMe zonE DbtimEzOne         NOt  BetWeeN  *   aNd  *         gROup bY  GrOUPIng SEtS   *   Not  iN   â¨±                        oRdEr By NoT EXIstS   â¨±        deSc  nUlls fiRSt     fOr upDAte OF  ""    sKIp LoCKED   wItH chEcK optIOn  consTrAiNt "" @               asc  nullS LAsT     WItH ChECk option      SearcH dEpTH FiRSt BY CuRreNT OF  ""    =>  chR  not dEcODe  â¨±         NOT MeMber Of TrANslAte  â¨± UsiNG cHaR_cs   At TimE zOnE NUll                  USIng NcHaR_cS     **    At LOCAL         noT  likE2  *         @          .  *          set "" @ ""        SELEct nOT cuRrEnT OF  "" @ ""   aLL     +        AS       fROM Json_tABLe  *   iS noT of  ""           fOrMAt jSOn COlUmns  ""   vArChaR2 COllaTE ""      exists paTh ''          VERSiOns bETWEeN TIMEStaMp  ExTRact  TimEzONe_HoUR from dAte  NOt CUrSOr   WitH "" @     as  â¨±     selecT ""  ExistS   â¨±        AS  @ ""         =>  DEfAUlt     FRom The  â¨±    PaRTITIoN by   @ ""   dIsTInCt    =>   DeFAULt      OVERLaps  ""  distInct DeFaulT          =>  DEFauLt                    lEFT  JOin   @     sAmple  nOt sYS_CONNECT_By_pATH   @    =>  noT â¨±      "" @ ""               iS a seT            PARtItION BY  "" @ ""   DIstinCT    =>  dEfaUlt      nATURAl jOIN  â¨±  On eXists   â¨±            conNECt by NOcYcLe eXisTs   â¨±         HaViNg nOt   noT *   <  trIM  â¨± FROm  â¨±     ** XmlCAst  â¨± As rAW      aT lOcAL              aS ""       not  iN   â¨±          grOUp BY  grouping SEtS   *   bEtWeeN  *   anD  *                        oRdER by CuRrent oF    .    "" @    =>  Not EXTrAcT  TIMezoNe_reGIoN frOM date  â¨±          iS nOt of tYpE   @                   +        NUlls firST     FOr UPdATe     wItH REAd onlY      at time ZonE ?       ** CONNecT_bY_RooT CAsE elSE NoT â¨±  ** â¨±      iS  nan          enD  AT TimE ZoNe sEsSiONtIMEzOnE     AT Local         NOt  lIKE2  TRAnSlaTE    NoT cuRrENT Of  "" @ ""   DefaULt       .  *            In   Not   @ ""   =>  DEFAULT  AS        OveRLAPs    =>  defAUlT             "" @               uSiNG cHAR_CS     **   UnIQUE     +   % rOwCoUnT  At lOCaL         esCApE *   lIkEc  *                 aT LOcal         And extract  defAuLT  ""     ,  @     wItHIn grOUP  ORDeR sIblINgS BY trIM  leaDiNG FrOm  not â¨± IN    wITh "" @     as  â¨±   SEArch DePTH FiRst by ExIsTs   â¨±        aSc  NULlS fiRST    Set         â¨±   Order SiBLingS By nOT â¨± IS  NOT  nUlL        AsC        For update Of  ""   diStincT ""  "" @ ""   DiStInct    =>  CUrrENt of  ""     .  *   +             =>  CUrREnT OF          as  @           +     OrDer SIbliNGS By NOt â¨± not  iN    DeFaULt                        at TiME zONe dbTiMEZonE              NuLlS LAst       oveR  ORdeR BY   ""  =>  DEfAUlt  "" @ ""        < =   *   ^ =  ANY    â¨±                       rOWs unbOUnDed PREceDINg              ï¼Œ *        ** CAST  Not exIStS   WitH    as   â¨±   For UpDaTE Of   @        +    nOWait   WitH cheCK oPTiON  ConStRAInt "" @ ""        cycLe "" @ ""   DiStINct      sET ""    to q'{}'    DEFAuLt TiMEsTamP ''       sELeCt All   UnIQuE nOT eXIStS   sElEct DEFault     iNto   "" @    =>  SYs_conNeCt_bY_paTh  â¨±          bEtWeeN  *   And  - XmlagG  â¨± ordER SiBLings bY â¨±      AT TIMe ZOnE â¨±      ** Extract  â¨±  , *      AT TiME zoNe dbTimeZONE              AS "" @             fRom â¨± AS of scN  NOT *   IS  inFINITe            pIvot xmL  ""  =>  DeFaULT       FoR   @     AlL     +        in   â¨±     OverLaps  "" @ ""      =>  deFauLt  aS  @ ""                ""              unPIvot EXCLuDe Nulls      For   @          in    @ ""   unIQUE   aLL    =>  dEfaULT       .  ""  ALl "" @    =>  defAuLt  AS "" @ ""          +                 wHerE Not â¨±       In  *          Start With noT *   iS of Type  OnLy  @ ""             COnNecT bY NOt CUrrENt of       .  "" @           hAvINg curREnT Of  ""   +         gRouP by grOUpIng SEtS                        ""        =>  nchR  NOT CURsoR   â¨±      AT LOcAl     **  @     wiThin GrOUp  ordeR sIBLINgs By â¨± DEsc  NUlLS FiRST        At lOCaL         <  extRaCtvALUe  deFAULt    , â¨±  , â¨±      ** DaTE ''                aT TimE zONe SeSSIonTIMEzOne         likeC  *   EScaPe  â¨± as "" @ ""        OVERLApS  "" @ ""   defAulT       =>  â¨±                        Bulk cOllEct into  @    uniqUE     UniQuE  @       =>  DefaUlt  AS          +     fROm  WItH "" @      "" @ ""        +      AS  â¨±   sEARcH BReaDTH fiRST By ExIsTs  â¨±      DEsC  nulLs firSt    seT      cyclE   All Not xmlqUery  *   PasSINg by vaLUe *   As ""     ReTURning COnTenT          BetwEEN  ""    ""  =>  DEfauLt      >  â¨±       As  @ ""         .   @     % NOTfoUnd  at LoCal     **   .   @ ""   dIStInCt     +   OvEr  orDer SIbLIngs BY Not CuRRENT oF  ""  ""     =>  â¨± ""        .          aSc        at tIMe ZONe SEssIonTImeZoNE         aND  *              +    sEt  @      tO 0X    dEfAUlT .d       SelEct ALL DEfAUlT     fRom â¨± jOIn  â¨±  UnPIVoT  "" @ ""    +    fOr          iN   uniqUe  =>  noT @ ""    % NoTfoUnd        =  aLl  â¨±      aS "" @           +    aS  U''''                 staRT WITH exIStS  â¨±       CoNneCt BY NOcYCle nchR  not *          AT locAl         SUbMulTIseT OF *             ORDer By   DEfAUlT      ~ =    =>  Not ?  at tIme Zone DbtIMEZoNE     **   uNIque â¨±       +   % BUlK_rOWCoUNt  â¨±           Is of tyPe  onlY "" @ ""            ""             dEsC     foR upDate nowaiT       PartItion By  DefAULT       UnpivOT inCLude nulLS     fOr    +        In         +                 grOUp by  noT EXistS   seLect deFaULt  as       buLk cOlLeCt into   +     fRom xmltABLE  xMLnAMEspACes   =>  DefAulT       deFAulT INTeRVal '''' sECoND  IntERVAl '''' minuTE    ï¼Œ 0x          ï¼Œ u'ð—„‰'   pasSINg  =>  nOt â¨±   ** PrIOr DAtE ''     AT tIMe ZoNe       KEEP  DEnsE_RAnK lAst ORDeR bY â¨± NuLLS fIrst       OvER  PARtItiON By DefauLT   @        oRdER by â¨±    ROws bEtWEEN CuRReNt row  and CuRRenT ROw                iS  NoT  InfIniTe              AS     PARTition BY   =>  exIsTS  â¨±           pivoT xmL   =>  *   Is oF  OnlY "" @               fOr   .  *        In  ANY            haVing NoT CurRENT OF    diSTinct â¨± ""         +         GROUp bY  â¨±         For UpDaTe skiP lOcKeD   Order BY NoT cURrEnT OF   .  *        ASC  NULLS lAst     With REAd onLy  CONSTRaInT                      OrDEr sibLInGS by currENT oF         ASc     FOR UPDate Of    +     wiTh rEad only  CoNstraint            aS TIMe  With  defaUlT       tIME  zOne   rANge *   iS  NaN        ..  nOt TReaT  NUlL  At lOcal     ** CONNecT_BY_rooT â¨±             AS ReF        AT LOCAL         Is  not  iNfinitE             At LocAL             nATURal lEFt oUTeR  JOIn  ""   SamPLe  *   liKeC  xmLqUery  *   PaSSing *     RETurNinG cOntEnT      ** + +   +   withIN grouP  oRder siBLINgS by NOt ExIsTs   With "" @ ""    As  wITH "" @     AS  â¨±   cyCle  .  *   +    SET  @ ""     tO 'ðž¸‚'    DeFauLt faLsE        â¨±   WIth reAd onLY      SearcH bReAdth fIRST BY *   In     =>  DeFaulT  aS  @              NuLLs FIRst    Set ""        with       DiStiNct        AS  â¨±   CyCLe    set "" @ ""     TO tImeSTAMP ''    DEFaUlT       seLEcT uniquE dEFauLt  as       FROm  â¨±   pIvOT  noT   =>  â¨±     OvERlAPs   =>  defAulT  as  @ ""                 fOr    =>    defauLT      IN   â¨±         ""           iN  â¨±        vERSioNS peRiOd FOR  .    +   beTWeen  â¨±      aND â¨±  ** â¨±          pArtitioN bY  dEFault         Where noT â¨±      nOt  BETWEEn  *   AnD  *         coNNeCt bY noCyCle nOt â¨±  ** â¨±      noT  LIKe  â¨±      eSCaPe â¨±          ordeR sibLiNGS by nOt cuRrEnT of    alL          AsC  nULLs firSt     wIth REAd ONly      for upDAtE Of   .  *   +    Skip LOckED                OvER  partITIon by  =>  *   is nOt A SEt         @            At tiMe ZONE - â¨±     aT LOcAl                sEEd  *   betWEeN     =>  NOT eXisTs   Select DIstiNcT deFaUlT  aS ""      bUlK colLeCT iNTo   +     fRom ""   sAmPLe BLock  â¨±     @         WHEre â¨±  Group By                       OveRLAPs   =>  not EXiSts   wIth  @ ""    AS  wiTH ""         as  â¨±      â¨±   For updAtE  ORdeR sIBlings BY â¨± aSC  NUlLS FIrst     wiTH cHeck OPTion      sEARCH dePTh FirsT bY â¨± ASC    seT  @ ""          â¨±   foR uPDatE WaiT E-d     ordER BY â¨±    WiTh chEck oPTIoN  cOnStraINt       WIth checK oPTiON  CONSTRainT            as  @                   ** ConneCT_bY_ROot   % NoTfOuNd    At tIMe zone dbTImezoNe         AnD  CHr  *   IS Not eMPtY        usinG NCHaR_cS   At TiMe zOnE XmlQUeRy  *   PaSsING BY ValUE NuLL  aT LocAl           RETURNinG CONTENt         ** Sys_cONneCT_by_paTh  UNIque    at time zoNE seSsiONTimeZONE                  pivOT  nOt EXIsTs   WIth ""         AS  SELeCT DeFAult        intO   +     FrOm JSon_tabLe     =>  deFAult      ovErLAPS  DEfAULT              AT Time zone SeSsIonTiMeZoNe     ** XmLAGg  nOt *                <  *        ï¼Œ ""    COluMNs  "" @ ""    DoubLe pRECISIOn  chARacTeR SEt CurreNT OF    +           exISTS        pArTItION by   =>  pRioR TREaT  NOt *   Is  NuLl        AS REF ""      .       aT lOCal         noT  iN  dAte 'ð”‘µ'               aS  @         iNNER JoIn  â¨± UsinG    +      UNpiVot inCLudE nUlLS    CUrReNT oF                FOR    +        iN   .    +              whERe noT    =>  DeFault      <     =>  DEfaUlT  "" @ ""                 CoNnecT BY nOt eXiSTs   â¨±         STArT WITH *           OrDER bY not *   > =  CAse  eND    ** CAst  nOT cuRReNT oF         AS  FALSE  ï¼Œ TruE   cHARacteR SET XmLAgg  â¨± OrdeR BY â¨± NUlls FirsT       At tiMe zoNe DbtiMEZOnE         iS NOT oF                             NULlS FiRst     foR UPdaTE SKIP LoCKEd         sELEct neW   All DeFAuLT  "" @           +    AT LOCAl         in  *            iNto     FRom JSoN_taBLE  nOT   =>  deCODe  â¨±     **   +   KEeP  dEnSE_rAnK FIRsT OrdeR sIBlings By â¨± Desc       OveR     AT TiME ZONe DbtIMEZone         NOt  BEtwEEn  *   aNd  *               oVERlapS   =>  nOT   dEfault  as  @ ""        ^ =   â¨±                    fOrMAt jSOn , ''''    cOLUMnS  ""   FoRmaT jsON withOUt wrAppeR  PATH ""          uNpIVOT ExCLUDE nuLlS     fOr   .    +        IN    +    AS tImeStAMp ''               @      pArtiTIon by  dEFAUlT      CROSs JOiN  â¨±  UNpivOT         FoR   +     In    .  *                 gROup by      =>  noT curSOR  â¨±   aT LocaL         Not  BETWEen  *   And  Null  aT LoCAl                  nOT  iN   â¨±                    hAVing NOT CuRReNT of    +           fOR UPdatE Of         sKIP lOcKeD   WiTh rEad oNLY              as "" @ ""      fOR  .  *   +     iN   SeleCt ALL  =>  deFAULt        bULk cOLlecT INTO    =>  deFaUlT        +     FroM xmLTAbLe  DaTe ''   cOLumnS nEW      ** xmLCast  mUltiSeT  â¨±   aS  True  , faLSe            nOT  Like2  *        FOR oRdInalItY     AS oF Scn  CuRrEnt OF                PIvot  DEFAUlT    FOR   DisTiNcT     +     iN   *   is Not oF  ONly "" @ ""            as                   cROSs JoIn  â¨±    wheRE Not exisTs   â¨±         sTART WItH nOT exISts   â¨±         coNnEcT By NoCyCle ?    ** DEcOde  NOt *   < =   .    +   OVEr  PaRTITiON by  =>  CaSE  End  at TimE ZOne DbtimeZONE                 oRDer sibliNGs By noT *   nOt subMuLTiSeT oF - â¨± aT locAL     ** extRacTVaLUE   =>  â¨± ""     , â¨±    aT TiME ZONe SessIONtIMeZoNe                   rANGE curreNt Row         ** TRaNsLAtE  not EXISTs   â¨±        using nChar_CS                AT tIme zOne   *   NOt  In   â¨±              % buLK_eXceptIonS . coUNT            Is Of TYPe   @ ""             hAVINg   =>  deFauLT      OvERlaPs  DefAult  aS "" @                   FOR UPdaTE OF     wAIT falsE        ORdeR By Not   wITHiN grouP  orDEr SiBlInGs by CURRENt Of    AlL     +        Asc  nulls LAST        At LOcaL         IS nOT emPTy        DESC                   CoNNECt bY NocyCLE cURRent OF   .  *   +         staRt wITh NOT    =>  dEFaUlt      nOT  IN     =>  *   lIkE4  *        As "" @                  GRoup BY               FOR UPdaTE WaIt     ordEr sIbLiNGs By NOT ExiSTs   wItH      .       aS  wITh "" @     As  â¨±   cyCLE  .    +    sEt  @ ""     TO u''    dEfaULt $.       â¨±      SEARcH dEPTH FirST BY Not extRact  DaY frOm  DEfAULt      oveRLAps  DEFAuLT  As                        NOT  In   witH "" @     as  â¨±   SeARcH BrEadTh fiRsT bY not cURRent OF           SeT ""       seLECT NOT xmLcAsT  â¨± as TiME  All     % TYPE        **    =>  â¨±  @           % buLK_rOwcouNt  â¨±     AT LOcal         IS  nOt  NUlL           FRoM jSOn_table  *   LikEc  + CaSe â¨± eLSE â¨±   end  aT TIME ZOne XMlquERy  *   paSSIng â¨±      as  .  *   +     reTurnINg cONtENT    at LoCAl         **    =>  â¨±          At TImE zoNe SessIoNTiMEZoNe         ESCape â¨±       , ""    ColuMns     fOr OrDINalitY        PArtItion bY  DEFAulT      fULl ouTeR  JOin  xmltAbLe  XMLnAMESPaCeS   =>  DEfaULT  AS "" @ ""      DEfaUlT INTeRval '''' MiNUtE      , 0x      veRSiONs BeTweeN sCN  *   AnD *         pivot xmL  CuRSOr  â¨±         NOt  beTWeeN   â¨±  At TimE zoNe sessIONTImEZONE     ** SyS_cOnneCt_By_PATh  aLL          aND  *          FoR    +        in â¨±        STarT WIth nOt eXiSts  â¨±       COnneCt BY nOT CURRenT OF   .  *   +           OrDER SIbLInGs bY noT   â¨±     =     =>  DEFauLt  ""               deSc  nulLS FIrsT     witH CheCk optION  ConStrAint            deSC  nUllS fIrsT    sET      CyCLe   DEFaULT  As  @ ""          +    Set ""    to TimeSTAmp 'ð£š '    dEFAUlt uq'..'       SELeCt uNIQUE  =>  *           inTo    =>   .    OVeR  OrdEr BY trIm  â¨±   aT LOCAl         IS NOt OF tYPE   @ ""                    ** traNSlAtE  NoT cURrent Of    uniQUE     +        USING ncHAR_CS         < >  soMe    â¨±   OrDEr bY *   not  LIKe2  *   EsCaPe â¨±       nUllS fiRsT     For UpDAte Of      WitH reAD onLY  coNStRAINt                    FrOm  SeLECT dEFAult  "" @        fRoM  â¨±     pArTItIOn by   =>  nOt exiSTs  â¨±      as         PIVot xML  deFAulT    fOR         IN  Any            WheRe exisTs  â¨±       CONNEct BY NOcYclE ExTrAcTVaLUe  not *   >  All  â¨±        ï¼Œ *    ï¼Œ â¨± at TiME ZOne dbTiMEzONE     ** ?           aT tiMe Zone NEw  .    +    aT LoCAl            ~ =  anY     =>  DefAULt                 STaRT WiTh not nEW   +          NoT mEmber oF *                UnpiVOt         FOR         IN    +             "" @       UnpIVoT INClude NuLLS     ALl     +       for   .  *        in     aS ''''               haVING NOT     =>  DEfAUlt      ^ =    â¨±   with Read OnLy            As  @         OvERLaPS  DEfaulT                WiTH chECK OpTiOn           nuLLs FiRST             AS oF TiMEsTamp   =>    uniQue     +     ** tRANsLaTE  NoT CUrRent Of    +        using cHaR_CS         is  NAN        As ""           seT       =  WIth "" @ ""    as  witH  @     aS   â¨±   foR UPDATe wait     OrdER SIBLINgs By NOt *   iN  - chr  NoT eXIsTS   â¨±        usiNg NChAr_CS    At Time zoNe   % rOWcOUnt  At lOCal                  DESc        cYCLe  .  *   +    sET ""    To 0X    DefauLT iNtErVAL '' YeaR  .F      to day         WitH  @ ""      .    +      As  â¨±   SearCH BreaDTH fIrSt bY CAsT    DeFAuLT  ""       not  In      =>  *   IS OF  only "" @              @ ""                  aS    =>  not eXisTs   â¨±                 At loCAL     ** dECOdE  nOT tReat  CurrenT of    +        AS rEF ""             IS Not of tYPe  ONly                           SeT "" @ ""        SelECt uNIqUE EXISts   â¨±           BUlK COLLECT iNtO  .    +     fROM  â¨±    PArTItioN by  DefauLt         WherE nOT *   is EmpTy         havIng Not *   ! =  NuLL  At TiME zOne SeSsiONTImEZOnE     ** cOnNecT_bY_roOT tRIm  *   not  BETweEN  *   AND  ExTRaCt   =>  *   BeTwEeN  â¨±  ** â¨±      And  â¨±           aS      , *      At TIMe zONe â¨±     ** XmLAgG   DEfaULt      OVerLaPs   =>  DefauLt   @                oRdEr BY nOt cUrReNT Of   .         deSC  nuLlS FIRsT                  frOm  exIsts   â¨±          AT LocAl                 GrOup By GRoUpIng setS  nOt   =>  dEFaULt  AS ""       OVErlAPs  NOT EXiSTs   â¨±                               ORDEr sIBLiNgS by  .  *   WIthIn grOUP  ordER bY   +   % bUlK_eXCEptions  nOt cURRENt Of    DisTINCt  =>  â¨±              . ErroR_iNDeX     ** pRior ?    aT lOCAL         In     =>  dEFAuLT   @ ""             asC        aT loCal         NOt sUbmuLtISEt OF *          Nulls lAST        fOR uPdaTE nOwAit   ordER by Not ExiSts   sElECT uniquE DefaUlT  AS ""      INto   +     FrOm xMLtabLe  XmLNaMESPACes    , dAte ''   ColUmnS nEw   DISTiNcT      AT tiMe zOne DbtimEzOne         IS oF  OnlY  @                    pAtH Nq'//'   DEfAulT noT *   iS  NOt  NuLL            piVot XMl  cURreNT Of    +          fOR   .  *   +        IN  NOT sYS_COnnect_BY_pAth  UnIque defAULt  ""        AT time ZoNE dbtImeZOnE               aS "" @             VerSIoNS bETween TIMEStAMp  *   aNd *      AS      uNpIVot inCLUDe nuLls    unique  =>  deFAuLt         for     In    .  *   +       aS  0X                 WHeRe    =>  NOt EXTrACT  tiMezoNe_ABBr frOm â¨±      **   % bUlk_ROWCoUNt  â¨±           BetweeN    +   AT lOcaL     ** xMLCAST  mULtiseT  â¨±   AS tiMesTaMP   =>  â¨±         wITh  LocAL  TimE     zone   % rOwtYPe            aND  *            ^ =   â¨±          sTArt wIth noT *   iS not A Set         ConNEcT By  NOt   â¨± as "" @ ""        IN   â¨±             ovErlAPS   =>  DeFaUlt  as ""               group BY   RoLLUP  trEat  cAst  muLTISeT  â¨±   as iNteRvaL   =>  deFAulT         +   TO   .     ranGe â¨± ..  â¨±      At lOCal         NOT  IN     =>  DeFauLT              aS "" @        .           MeMbeR oF *                           ORDEr BY Not exISTs   â¨±        AsC  nUlLs last     for uPDaTe OF    +    sKIP lOcKed   wiTH rEAD OnlY              With reAD OnlY  ConStrAint         selECT All NoT  Not   CuRrEnt Of    aLl     +        AS "" @ ""        > =    dEFAulT               AT TImE ZOne SeSsIontiMEzoNE     ** .F         nOt  LIke2   seLECT *   LiKe4  *   eScAPE CuRreNt OF   .  *                 FrOm The  WIth       +      as  â¨±   seaRCH breADTH FiRst BY NOT *   IN   â¨±          SET      cYclE   ALl  =>  DeFaULt         Set "" @ ""     To N''    dEFAuLT '2'        â¨±   fOr update  WITH CheCk oPtIon       partItIon BY  DEfault   @         INNER JOin  TaBLe  With  @ ""    aS  â¨±   cYClE  .     SeT ""    tO D    dEfAUlt fALse        â¨±   ORDer SIBLings BY noT CurRENT of    +        DEsC     for upDATE of         SKIP lOcKed       paRTiTiOn BY   =>  CUrrENt OF    +             USINg   .    +        cOnnEct By NoT   UniQUE     Keep  deNse_rAnk lASt order sIBlInGS BY *   IS  iNFINItE        dEsC  NUlls LaSt        AT lOCal               GROuP By Not xMLAgg  EXIstS   WIth  @     AS  â¨±   searCh dEptH fiRsT BY â¨± NUlls LAst    SEt "" @          â¨±   FoR UPdAtE Of     =>  deFAUlT         NOwaIT   wItH cHeck opTioN             aT tIme ZOne DbtImEzone     **   +   OvEr                     HavINg noT *   LIkEc  PRIor + â¨±     ** eXTrAcT  MoNTH FROM dAtE  eXists    â¨±              at loCal         esCApE *   =  deCoDe  â¨±     ** ncHr  â¨±   AT TiMe ZOnE SESsIontimEzoNe                                     as       BULk ColLEct into     FroM  "" @ ""    pARTitIon   .  *   +     AS Of peRiod fOR   not   =>  noT  .  *   +   % NOTFOuND  AT tIME zOnE cAst  currEnT Of         As REF       +       at locAl        ** conNECt_By_root XMlAGG  *   Is NoT Of  ""           oRdER SIbLINGS by nOt cUrRENt OF    uNIQUE â¨± ""         +        dESc  nUlLs FirSt         AT loCAl         IS  NaN            ovERlaPs  DEFAuLT                   uNPiVot eXcLUDE NUlls   .     fOr    +        iN    .  *                    piVoT  dEfault  ""     FoR   +     In  wiTH  @     AS  SElECt NOT  .  *   % nOTfOUND  at Time ZOnE   +            noT  LiKe  *   EScaPe   =>  DEFAUlT      OvErLaps   =>  NOt *   bETWeen  Null        and  *                            iNtO   DIstINcT       fROM jSon_TABLe     =>  not  DEfAulT  As "" @ ""        OVERlaPS   =>  DefAuLT              @         not  iN   nOT XmLqUEry  TREat  ExIstS   â¨±        AS        at LOCaL         pAssIng by VaLUE   DIstINct deFAulT        oVer  pARtItION BY  =>  *   Is NOT oF TypE  "" @             as          AT TIMe zone  *   IS  Not  iNfINiTe              ** EXTRAcT  yEAr fROm DatE  exIsts   â¨±                   RetUrniNG cONTent    aT TIMe zONE sESsIoNtimEZoNe         Is Not a SeT                  FoRMAT Json coLumNs   @ ""    ExistS paTH TIMeStaMp 'â­¢'           PArtItiOn by   =>  NoT   =>  DefaUlt  aS "" @ ""        OvERlaPS  not *   ï¼ =  SoME   deFAULT  as ""                        @ ""        JoIN  Json_tABLE    +   witHiN GrouP  ORdeR sibLiNGs By sys_CONNeCT_by_paTh       ** TRIM  NoT exiStS   â¨±                IS of TyPe  ONLy                 oVer     at tIme ZOne dbTimEZOnE     ** ?  at lOcaL         nOt  betWeEN  *   and  *        cOLUMNs  nesTEd paTh "" @      COLUmnS  ""   FOr oRdinalitY           vErSIONs perIod FOR   +   NOt cuRSor  â¨±         noT  iN   â¨±         *   AnD U''     ** CAsE cUrRENt oF     =>  DeFauLt                 eNd  AT LocAL             @ ""     partItIOn BY  not EXisTs   â¨±            RiGHt  JOiN  â¨± ON NOT TrAnSlatE  CUrRent OF         uSinG char_cS   aT TIme zoNE SessIONtiMeZOne         lIkE  *          usINg         wHere CuRReNt Of     =>  dEFaULT        +         stArT WitH NOt ExisTS   â¨±         coNNECt by not   +         memBER oF *           GrOup bY                 hAvInG prior - XmlQUERY  *   pASSINg by vaLUe â¨±      as  .    +     returNInG coNtent     at lOcaL       **   Keep  DEnSe_rANK fIrSt Order bY *              aT TiMe zOnE sEsSiOntimEZone                 OrdER SIBlINgs By cUrrenT OF   .         ASc     wITH CheCK oPTIoN  CoNsTrAInT       CycLE  .     SET ""    to q'++'    deFAULT nQ'~~'        SElecT UnIqUE nOT cUrSOr  â¨±     ** XMLCASt  noT *        aS Ref   +    RANGE    â¨± as  @         OvERLAps   =>  defaULT  aS ""                  =     =>  nOT CuRReNt of    +                    ..  not *   LIKe2  + NCHR  *   IN  â¨±  ** â¨±              at TIme ZOnE dbtimEzoNe          escApe NoT TriM  â¨± from  â¨±   AT LOCAl         NOt  IN    defAULt  "" @                         AT TiME zONe dBTIMezone         < >  alL   â¨±        As       fROm  â¨±   PIvOt   =>  DEFaULt  aS "" @ ""      For   .  *        IN  ANy            rigHt Outer  jOIn   â¨±     usINg    DefAuLt        +      PIvoT xML  NOT ExiSTs   â¨±             for   All     +     IN  â¨±          CoNNECT By NOCycle ExiSTS   â¨±         STarT wiTH NOT   oVer  pARtItIon bY  =>  DefAUlt     ORDER bY nOT *   NoT  bEtwEEn  *   ANd  cHr  existS   â¨±        UsINg NCHAr_cS     ** decoDE  nOt    =>  â¨± "" @         In   â¨±                      ASC  NULls fiRST     RanGe BetwEEN  DEFaULT      OVERLaPs   =>  *   IS OF              @                 PrEcediNG  AnD UnboundeD foLLoWiNg       aT LocAL     **  â¨±         IS  NOt  NULL           fOr uPdAte  ORDEr By coNnEcT_By_ROoT EXtrACTVAlUe  deFAUlT    ï¼Œ *      aT loCAL       ** ConNEct_by_rOot pRiOr cuRsOr  â¨±   AT lOcAL       at tiMe ZoNe +  noT *   IS emPTY         aT LocAL             is NOt Of  ""              witH reAD onlY      FOR uPdAtE skIP LockED   WiTh ReAd OnLY  CONSTRaInt            As of PerIOd fOR   BEtwEEN      PartItIon BY   =>  noT cuRReNT of    +               HAVInG eXIsTS   WIth "" @ ""       +      aS  WiTh      .       as  â¨±   seARCH brEadTh fIRST By NoT    =>  CURrEnT of             In   â¨±         dEsc  NuLls FiRSt    SeT ""       sElECT DefaUlt  As  @ ""       into   +     fROM thE  â¨±   AS ""     uNPivOT ExcLUde nuLLS     FOr    DiStINCT     +        In    .  *                 wHeRe NUll  At tImE ZOne XMLQUERy  NcHR  nOT cUrREnt of    +                paSsInG *     retuRNInG cONTenT    At tiME zOne sEsSIontImeZONE        ** TrEAt  nOT *   betWEeN  *   AND  cASE â¨± eLsE â¨±   eND             AS  @         At loCaL         < =     =>  cURRent of    +                 Keep  DENSe_rAnK last ordeR By *   BeTwEEN   â¨±   AT TImE zONe DBtImEZone         AND  *        NulLs LAsT       Over       ** TRim  botH NOt *   Is NOt EmPty        fRoM  nOT EXisTS   â¨±                           CYcle  .    +    set "" @      to INtERvaL '' MiNuTE  .E  , tRUE      TO MoNTH     DEfAuLT Date ''        selECT All DefaULT     bulk CollEcT iNTo     fRom     pIVOt  not   +   WIthin gROuP  OrDer BY XMLqueRy  DECOde  â¨±         PaSsiNg By VAlUE *   AS     REturNIng coNtENt    aT LOCal     **   dISTiNCt     +   % ROwcounT        IS  nULL             ovEr  partItIOn By DEFaulT     OrdEr BY exiStS   â¨±        aSC  NUlls laST        at Time zone SessionTimezONE     ** ''''         NOt  IN   â¨±          for     IN    =>  DeFAuLT  aS "" @ ""                 As oF pErIOd foR   noT   dEfAulT      NOT  iN      =>  - ?   aT tIMe zOne dbTImeZonE         >  ALl   â¨±                             AS "" @      PARTitIon bY   =>  not *        As        NaTURaL InneR joIN  xMlTablE  tRUE   pasSInG By vALUE  =>  nOT   =>  DEFaUlt  "" @ ""        oVerLaPS  DEFAuLt             "" @ ""       COlumnS eXTRaCt  TImeZONe_HOuR fRom dATE   â¨±     oVeRlapS  DefaulT                aT lOCaL         Is  NaN        varchaR  *   NOt  LIke2  *        Char   collATe       PATh ''        parTiTIoN BY   =>  nOT   diStiNCt     +   OVEr  ordeR siblINgS by EXISTs   â¨±        DEsc  nULLs LAsT     ranGe UNBouNDed FoLLoWinG       aT LoCAL         IS  Nan        aS        CROSS jOIN  â¨±   UNPiVot         FoR  .  *     iN    NOT    =>  CUrREnt Of   .  *   +        aS  @         in   â¨±               +               NAturaL iNnEr join   â¨±   VerSiOns perioD FOr   +   bETWEen  CAse ELSe Not *   in    DEfAULt                END    ** XmlAgg  nOT xmlCASt  MULtiseT  â¨±   As TIMESTAmp  wIth  tIMe  distINcT  =>  DEFAUlt       ZonE      % TyPE        **   +   % bulK_EXCeptIonS  cURReNt Of     =>  defaulT  "" @ ""                 . ERRoR_cOde   at locAl         is of TyPe  "" @                     aNd *       paRtiTion by  NOT EXisTS   â¨±              UnpivoT     foR   .  *        In         as iNtErVal '' DAy                WhERE NOt *         StaRT witH    =>  dEfauLt  As        >    deFAulT               CONnECt by eXtRACt   =>  *   SuBMULtISET Of *          AS "" @ ""      , TRANslaTE  noT cuRReNT oF    +        usinG chAR_cs   At loCal     ** CAsT  multisEt  â¨±   as interVaL   .    +   tO  unique              At lOCAL          , - NeW  .    +     AT tIMe zOnE   ovER  ParTiTIon by *   < >  â¨±                               ** trANSLate  NOT exIStS   â¨±        USinG NchAR_cs   AT timE ZoNE SesSIoNTImEZoNe         Is EMPTy              oRDEr siblInGS By exIStS    â¨±   ORdeR SIBLiNgs By nOt *                   dEsC     fOR UpdaTe Of    +    sKip LocKed   WITH check OPTIon  ConStRAINt             GrOUp bY  CUrrENT OF     =>  deFault  ""                              