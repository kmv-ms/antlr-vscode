{"version":3,"file":"HoverProvider.js","sourceRoot":"","sources":["../../../src/frontend/HoverProvider.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAKA,mCAAyG;AAIzG,qCAAqD;AAErD,2CAA6B;AAE7B,MAAa,kBAAkB;IACA;IAA3B,YAA2B,OAAoB;QAApB,YAAO,GAAP,OAAO,CAAa;IAAI,CAAC;IAE7C,YAAY,CAAC,QAAsB,EAAE,QAAkB,EAAE,MAAyB;QACrF,OAAO,IAAI,OAAO,CAAC,CAAC,OAAO,EAAE,EAAE;YAC3B,MAAM,IAAI,GAAG,IAAI,CAAC,OAAO,CAAC,oBAAoB,CAAC,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,IAAI,GAAG,CAAC,EACnG,IAAI,CAAC,CAAC;YACV,IAAI,CAAC,IAAI,EAAE;gBACP,OAAO,CAAC,SAAS,CAAC,CAAC;aACtB;iBAAM;gBACH,MAAM,WAAW,GAAG,IAAA,kCAAyB,EAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAEzD,OAAO,CAAC,IAAI,cAAK,CAAC;oBACd,IAAI,GAAG,WAAW,GAAG,kBAAkB,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC;oBACpE,EAAE,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;iBAC9E,CAAC,CAAC,CAAC;aACP;QACL,CAAC,CAAC,CAAC;IACP,CAAC;CACJ;AAnBD,gDAmBC","sourcesContent":["/*\r\n * Copyright (c) Mike Lischke. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n */\r\n\r\nimport { TextDocument, Position, CancellationToken, Hover, ProviderResult, HoverProvider } from \"vscode\";\r\n\r\nimport { AntlrFacade } from \"../backend/facade\";\r\n\r\nimport { symbolDescriptionFromEnum } from \"./Symbol\";\r\n\r\nimport * as path from \"path\";\r\n\r\nexport class AntlrHoverProvider implements HoverProvider {\r\n    public constructor(private backend: AntlrFacade) { }\r\n\r\n    public provideHover(document: TextDocument, position: Position, _token: CancellationToken): ProviderResult<Hover> {\r\n        return new Promise((resolve) => {\r\n            const info = this.backend.symbolInfoAtPosition(document.fileName, position.character, position.line + 1,\r\n                true);\r\n            if (!info) {\r\n                resolve(undefined);\r\n            } else {\r\n                const description = symbolDescriptionFromEnum(info.kind);\r\n\r\n                resolve(new Hover([\r\n                    \"**\" + description + \"**\\ndefined in: \" + path.basename(info.source),\r\n                    { language: \"antlr\", value: (info.definition ? info.definition.text : \"\") },\r\n                ]));\r\n            }\r\n        });\r\n    }\r\n}\r\n"]}